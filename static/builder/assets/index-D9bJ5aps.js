(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function u(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=u(o);fetch(o.href,f)}})();var Ss={exports:{}},ia={};var s0;function Og(){if(s0)return ia;s0=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function u(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:l,type:r,key:h,ref:o!==void 0?o:null,props:f}}return ia.Fragment=i,ia.jsx=u,ia.jsxs=u,ia}var o0;function Ng(){return o0||(o0=1,Ss.exports=Og()),Ss.exports}var Jt=Ng(),xs={exports:{}},ht={};var f0;function Rg(){if(f0)return ht;f0=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function _(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function M(T,B,k){this.props=T,this.context=B,this.refs=C,this.updater=k||b}M.prototype.isReactComponent={},M.prototype.setState=function(T,B){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,B,"setState")},M.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function X(){}X.prototype=M.prototype;function G(T,B,k){this.props=T,this.context=B,this.refs=C,this.updater=k||b}var F=G.prototype=new X;F.constructor=G,E(F,M.prototype),F.isPureReactComponent=!0;var H=Array.isArray;function W(){}var Q={H:null,A:null,T:null,S:null},et=Object.prototype.hasOwnProperty;function lt(T,B,k){var I=k.ref;return{$$typeof:l,type:T,key:B,ref:I!==void 0?I:null,props:k}}function tt(T,B){return lt(T.type,B,T.props)}function mt(T){return typeof T=="object"&&T!==null&&T.$$typeof===l}function ft(T){var B={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(k){return B[k]})}var Bt=/\/+/g;function D(T,B){return typeof T=="object"&&T!==null&&T.key!=null?ft(""+T.key):B.toString(36)}function O(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(W,W):(T.status="pending",T.then(function(B){T.status==="pending"&&(T.status="fulfilled",T.value=B)},function(B){T.status==="pending"&&(T.status="rejected",T.reason=B)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function A(T,B,k,I,it){var ct=typeof T;(ct==="undefined"||ct==="boolean")&&(T=null);var ot=!1;if(T===null)ot=!0;else switch(ct){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(T.$$typeof){case l:case i:ot=!0;break;case S:return ot=T._init,A(ot(T._payload),B,k,I,it)}}if(ot)return it=it(T),ot=I===""?"."+D(T,0):I,H(it)?(k="",ot!=null&&(k=ot.replace(Bt,"$&/")+"/"),A(it,B,k,"",function(zt){return zt})):it!=null&&(mt(it)&&(it=tt(it,k+(it.key==null||T&&T.key===it.key?"":(""+it.key).replace(Bt,"$&/")+"/")+ot)),B.push(it)),1;ot=0;var St=I===""?".":I+":";if(H(T))for(var rt=0;rt<T.length;rt++)I=T[rt],ct=St+D(I,rt),ot+=A(I,B,k,ct,it);else if(rt=_(T),typeof rt=="function")for(T=rt.call(T),rt=0;!(I=T.next()).done;)I=I.value,ct=St+D(I,rt++),ot+=A(I,B,k,ct,it);else if(ct==="object"){if(typeof T.then=="function")return A(O(T),B,k,I,it);throw B=String(T),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ot}function N(T,B,k){if(T==null)return T;var I=[],it=0;return A(T,I,"","",function(ct){return B.call(k,ct,it++)}),I}function $(T){if(T._status===-1){var B=T._result;B=B(),B.then(function(k){(T._status===0||T._status===-1)&&(T._status=1,T._result=k)},function(k){(T._status===0||T._status===-1)&&(T._status=2,T._result=k)}),T._status===-1&&(T._status=0,T._result=B)}if(T._status===1)return T._result.default;throw T._result}var j=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},J={map:N,forEach:function(T,B,k){N(T,function(){B.apply(this,arguments)},k)},count:function(T){var B=0;return N(T,function(){B++}),B},toArray:function(T){return N(T,function(B){return B})||[]},only:function(T){if(!mt(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ht.Activity=g,ht.Children=J,ht.Component=M,ht.Fragment=u,ht.Profiler=o,ht.PureComponent=G,ht.StrictMode=r,ht.Suspense=p,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ht.__COMPILER_RUNTIME={__proto__:null,c:function(T){return Q.H.useMemoCache(T)}},ht.cache=function(T){return function(){return T.apply(null,arguments)}},ht.cacheSignal=function(){return null},ht.cloneElement=function(T,B,k){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var I=E({},T.props),it=T.key;if(B!=null)for(ct in B.key!==void 0&&(it=""+B.key),B)!et.call(B,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&B.ref===void 0||(I[ct]=B[ct]);var ct=arguments.length-2;if(ct===1)I.children=k;else if(1<ct){for(var ot=Array(ct),St=0;St<ct;St++)ot[St]=arguments[St+2];I.children=ot}return lt(T.type,it,I)},ht.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:f,_context:T},T},ht.createElement=function(T,B,k){var I,it={},ct=null;if(B!=null)for(I in B.key!==void 0&&(ct=""+B.key),B)et.call(B,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(it[I]=B[I]);var ot=arguments.length-2;if(ot===1)it.children=k;else if(1<ot){for(var St=Array(ot),rt=0;rt<ot;rt++)St[rt]=arguments[rt+2];it.children=St}if(T&&T.defaultProps)for(I in ot=T.defaultProps,ot)it[I]===void 0&&(it[I]=ot[I]);return lt(T,ct,it)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(T){return{$$typeof:y,render:T}},ht.isValidElement=mt,ht.lazy=function(T){return{$$typeof:S,_payload:{_status:-1,_result:T},_init:$}},ht.memo=function(T,B){return{$$typeof:m,type:T,compare:B===void 0?null:B}},ht.startTransition=function(T){var B=Q.T,k={};Q.T=k;try{var I=T(),it=Q.S;it!==null&&it(k,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(W,j)}catch(ct){j(ct)}finally{B!==null&&k.types!==null&&(B.types=k.types),Q.T=B}},ht.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ht.use=function(T){return Q.H.use(T)},ht.useActionState=function(T,B,k){return Q.H.useActionState(T,B,k)},ht.useCallback=function(T,B){return Q.H.useCallback(T,B)},ht.useContext=function(T){return Q.H.useContext(T)},ht.useDebugValue=function(){},ht.useDeferredValue=function(T,B){return Q.H.useDeferredValue(T,B)},ht.useEffect=function(T,B){return Q.H.useEffect(T,B)},ht.useEffectEvent=function(T){return Q.H.useEffectEvent(T)},ht.useId=function(){return Q.H.useId()},ht.useImperativeHandle=function(T,B,k){return Q.H.useImperativeHandle(T,B,k)},ht.useInsertionEffect=function(T,B){return Q.H.useInsertionEffect(T,B)},ht.useLayoutEffect=function(T,B){return Q.H.useLayoutEffect(T,B)},ht.useMemo=function(T,B){return Q.H.useMemo(T,B)},ht.useOptimistic=function(T,B){return Q.H.useOptimistic(T,B)},ht.useReducer=function(T,B,k){return Q.H.useReducer(T,B,k)},ht.useRef=function(T){return Q.H.useRef(T)},ht.useState=function(T){return Q.H.useState(T)},ht.useSyncExternalStore=function(T,B,k){return Q.H.useSyncExternalStore(T,B,k)},ht.useTransition=function(){return Q.H.useTransition()},ht.version="19.2.1",ht}var h0;function Js(){return h0||(h0=1,xs.exports=Rg()),xs.exports}var ie=Js(),Es={exports:{}},aa={},As={exports:{}},Cs={};var d0;function Hg(){return d0||(d0=1,(function(l){function i(A,N){var $=A.length;A.push(N);t:for(;0<$;){var j=$-1>>>1,J=A[j];if(0<o(J,N))A[j]=N,A[$]=J,$=j;else break t}}function u(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var N=A[0],$=A.pop();if($!==N){A[0]=$;t:for(var j=0,J=A.length,T=J>>>1;j<T;){var B=2*(j+1)-1,k=A[B],I=B+1,it=A[I];if(0>o(k,$))I<J&&0>o(it,k)?(A[j]=it,A[I]=$,j=I):(A[j]=k,A[B]=$,j=B);else if(I<J&&0>o(it,$))A[j]=it,A[I]=$,j=I;else break t}}return N}function o(A,N){var $=A.sortIndex-N.sortIndex;return $!==0?$:A.id-N.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,y=h.now();l.unstable_now=function(){return h.now()-y}}var p=[],m=[],S=1,g=null,v=3,_=!1,b=!1,E=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function F(A){for(var N=u(m);N!==null;){if(N.callback===null)r(m);else if(N.startTime<=A)r(m),N.sortIndex=N.expirationTime,i(p,N);else break;N=u(m)}}function H(A){if(E=!1,F(A),!b)if(u(p)!==null)b=!0,W||(W=!0,ft());else{var N=u(m);N!==null&&O(H,N.startTime-A)}}var W=!1,Q=-1,et=5,lt=-1;function tt(){return C?!0:!(l.unstable_now()-lt<et)}function mt(){if(C=!1,W){var A=l.unstable_now();lt=A;var N=!0;try{t:{b=!1,E&&(E=!1,X(Q),Q=-1),_=!0;var $=v;try{e:{for(F(A),g=u(p);g!==null&&!(g.expirationTime>A&&tt());){var j=g.callback;if(typeof j=="function"){g.callback=null,v=g.priorityLevel;var J=j(g.expirationTime<=A);if(A=l.unstable_now(),typeof J=="function"){g.callback=J,F(A),N=!0;break e}g===u(p)&&r(p),F(A)}else r(p);g=u(p)}if(g!==null)N=!0;else{var T=u(m);T!==null&&O(H,T.startTime-A),N=!1}}break t}finally{g=null,v=$,_=!1}N=void 0}}finally{N?ft():W=!1}}}var ft;if(typeof G=="function")ft=function(){G(mt)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,D=Bt.port2;Bt.port1.onmessage=mt,ft=function(){D.postMessage(null)}}else ft=function(){M(mt,0)};function O(A,N){Q=M(function(){A(l.unstable_now())},N)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(A){A.callback=null},l.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):et=0<A?Math.floor(1e3/A):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_next=function(A){switch(v){case 1:case 2:case 3:var N=3;break;default:N=v}var $=v;v=N;try{return A()}finally{v=$}},l.unstable_requestPaint=function(){C=!0},l.unstable_runWithPriority=function(A,N){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=v;v=A;try{return N()}finally{v=$}},l.unstable_scheduleCallback=function(A,N,$){var j=l.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?j+$:j):$=j,A){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=$+J,A={id:S++,callback:N,priorityLevel:A,startTime:$,expirationTime:J,sortIndex:-1},$>j?(A.sortIndex=$,i(m,A),u(p)===null&&A===u(m)&&(E?(X(Q),Q=-1):E=!0,O(H,$-j))):(A.sortIndex=J,i(p,A),b||_||(b=!0,W||(W=!0,ft()))),A},l.unstable_shouldYield=tt,l.unstable_wrapCallback=function(A){var N=v;return function(){var $=v;v=N;try{return A.apply(this,arguments)}finally{v=$}}}})(Cs)),Cs}var y0;function Ug(){return y0||(y0=1,As.exports=Hg()),As.exports}var Ts={exports:{}},le={};var m0;function qg(){if(m0)return le;m0=1;var l=Js();function i(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var r={d:{f:u,r:function(){throw Error(i(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(p,m,S){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:p,containerInfo:m,implementation:S}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return le.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,le.createPortal=function(p,m){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(i(299));return f(p,m,null,S)},le.flushSync=function(p){var m=h.T,S=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=m,r.p=S,r.d.f()}},le.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},le.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},le.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var S=m.as,g=y(S,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;S==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):S==="script"&&r.d.X(p,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},le.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var S=y(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},le.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var S=m.as,g=y(S,m.crossOrigin);r.d.L(p,S,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},le.preloadModule=function(p,m){if(typeof p=="string")if(m){var S=y(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},le.requestFormReset=function(p){r.d.r(p)},le.unstable_batchedUpdates=function(p,m){return p(m)},le.useFormState=function(p,m,S){return h.H.useFormState(p,m,S)},le.useFormStatus=function(){return h.H.useHostTransitionStatus()},le.version="19.2.1",le}var p0;function Bg(){if(p0)return Ts.exports;p0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),Ts.exports=qg(),Ts.exports}var g0;function Lg(){if(g0)return aa;g0=1;var l=Ug(),i=Js(),u=Bg();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function h(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p(t){if(f(t)!==t)throw Error(r(188))}function m(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(r(188));return e!==t?null:t}for(var n=t,a=e;;){var c=n.return;if(c===null)break;var s=c.alternate;if(s===null){if(a=c.return,a!==null){n=a;continue}break}if(c.child===s.child){for(s=c.child;s;){if(s===n)return p(c),t;if(s===a)return p(c),e;s=s.sibling}throw Error(r(188))}if(n.return!==a.return)n=c,a=s;else{for(var d=!1,x=c.child;x;){if(x===n){d=!0,n=c,a=s;break}if(x===a){d=!0,a=c,n=s;break}x=x.sibling}if(!d){for(x=s.child;x;){if(x===n){d=!0,n=s,a=c;break}if(x===a){d=!0,a=s,n=c;break}x=x.sibling}if(!d)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?t:e}function S(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=S(t),e!==null)return e;t=t.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),G=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),lt=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function ft(t){return t===null||typeof t!="object"?null:(t=mt&&t[mt]||t["@@iterator"],typeof t=="function"?t:null)}var Bt=Symbol.for("react.client.reference");function D(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Bt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case M:return"Profiler";case C:return"StrictMode";case H:return"Suspense";case W:return"SuspenseList";case lt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case G:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case F:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return e=t.displayName||null,e!==null?e:D(t.type)||"Memo";case et:e=t._payload,t=t._init;try{return D(t(e))}catch{}}return null}var O=Array.isArray,A=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},j=[],J=-1;function T(t){return{current:t}}function B(t){0>J||(t.current=j[J],j[J]=null,J--)}function k(t,e){J++,j[J]=t.current,t.current=e}var I=T(null),it=T(null),ct=T(null),ot=T(null);function St(t,e){switch(k(ct,e),k(it,t),k(I,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Nd(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Nd(e),t=Rd(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(I),k(I,t)}function rt(){B(I),B(it),B(ct)}function zt(t){t.memoizedState!==null&&k(ot,t);var e=I.current,n=Rd(e,t.type);e!==n&&(k(it,t),k(I,n))}function Zt(t){it.current===t&&(B(I),B(it)),ot.current===t&&(B(ot),ta._currentValue=$)}var ne,_l;function Ke(t){if(ne===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ne=e&&e[1]||"",_l=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+t+_l}var ir=!1;function ar(t,e){if(!t||ir)return"";ir=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(Y){var L=Y}Reflect.construct(t,[],K)}else{try{K.call()}catch(Y){L=Y}t.call(K.prototype)}}else{try{throw Error()}catch(Y){L=Y}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(Y){if(Y&&L&&typeof Y.stack=="string")return[Y.stack,L.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),d=s[0],x=s[1];if(d&&x){var w=d.split(`
`),q=x.split(`
`);for(c=a=0;a<w.length&&!w[a].includes("DetermineComponentFrameRoot");)a++;for(;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;if(a===w.length||c===q.length)for(a=w.length-1,c=q.length-1;1<=a&&0<=c&&w[a]!==q[c];)c--;for(;1<=a&&0<=c;a--,c--)if(w[a]!==q[c]){if(a!==1||c!==1)do if(a--,c--,0>c||w[a]!==q[c]){var V=`
`+w[a].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=a&&0<=c);break}}}finally{ir=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ke(n):""}function cm(t,e){switch(t.tag){case 26:case 27:case 5:return Ke(t.type);case 16:return Ke("Lazy");case 13:return t.child!==e&&e!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return ar(t.type,!1);case 11:return ar(t.type.render,!1);case 1:return ar(t.type,!0);case 31:return Ke("Activity");default:return""}}function ro(t){try{var e="",n=null;do e+=cm(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ur=Object.prototype.hasOwnProperty,rr=l.unstable_scheduleCallback,cr=l.unstable_cancelCallback,sm=l.unstable_shouldYield,om=l.unstable_requestPaint,ye=l.unstable_now,fm=l.unstable_getCurrentPriorityLevel,co=l.unstable_ImmediatePriority,so=l.unstable_UserBlockingPriority,_a=l.unstable_NormalPriority,hm=l.unstable_LowPriority,oo=l.unstable_IdlePriority,dm=l.log,ym=l.unstable_setDisableYieldValue,hi=null,me=null;function gn(t){if(typeof dm=="function"&&ym(t),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(hi,t)}catch{}}var pe=Math.clz32?Math.clz32:gm,mm=Math.log,pm=Math.LN2;function gm(t){return t>>>=0,t===0?32:31-(mm(t)/pm|0)|0}var ba=256,Sa=262144,xa=4194304;function Qn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ea(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var c=0,s=t.suspendedLanes,d=t.pingedLanes;t=t.warmLanes;var x=a&134217727;return x!==0?(a=x&~s,a!==0?c=Qn(a):(d&=x,d!==0?c=Qn(d):n||(n=x&~t,n!==0&&(c=Qn(n))))):(x=a&~s,x!==0?c=Qn(x):d!==0?c=Qn(d):n||(n=a&~t,n!==0&&(c=Qn(n)))),c===0?0:e!==0&&e!==c&&(e&s)===0&&(s=c&-c,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:c}function di(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function vm(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var t=xa;return xa<<=1,(xa&62914560)===0&&(xa=4194304),t}function sr(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _m(t,e,n,a,c,s){var d=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var x=t.entanglements,w=t.expirationTimes,q=t.hiddenUpdates;for(n=d&~n;0<n;){var V=31-pe(n),K=1<<V;x[V]=0,w[V]=-1;var L=q[V];if(L!==null)for(q[V]=null,V=0;V<L.length;V++){var Y=L[V];Y!==null&&(Y.lane&=-536870913)}n&=~K}a!==0&&ho(t,a,0),s!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=s&~(d&~e))}function ho(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-pe(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function yo(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-pe(n),c=1<<a;c&e|t[a]&e&&(t[a]|=e),n&=~c}}function mo(t,e){var n=e&-e;return n=(n&42)!==0?1:or(n),(n&(t.suspendedLanes|e))!==0?0:n}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function po(){var t=N.p;return t!==0?t:(t=window.event,t===void 0?32:n0(t.type))}function go(t,e){var n=N.p;try{return N.p=t,e()}finally{N.p=n}}var vn=Math.random().toString(36).slice(2),Wt="__reactFiber$"+vn,ue="__reactProps$"+vn,bl="__reactContainer$"+vn,hr="__reactEvents$"+vn,bm="__reactListeners$"+vn,Sm="__reactHandles$"+vn,vo="__reactResources$"+vn,mi="__reactMarker$"+vn;function dr(t){delete t[Wt],delete t[ue],delete t[hr],delete t[bm],delete t[Sm]}function Sl(t){var e=t[Wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bl]||n[Wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yd(t);t!==null;){if(n=t[Wt])return n;t=Yd(t)}return e}t=n,n=t.parentNode}return null}function xl(t){if(t=t[Wt]||t[bl]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function pi(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function El(t){var e=t[vo];return e||(e=t[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function kt(t){t[mi]=!0}var _o=new Set,bo={};function Zn(t,e){Al(t,e),Al(t+"Capture",e)}function Al(t,e){for(bo[t]=e,t=0;t<e.length;t++)_o.add(e[t])}var xm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},xo={};function Em(t){return ur.call(xo,t)?!0:ur.call(So,t)?!1:xm.test(t)?xo[t]=!0:(So[t]=!0,!1)}function Aa(t,e,n){if(Em(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ca(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Je(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function Ce(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Eo(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Am(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,s=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(d){n=""+d,s.call(this,d)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yr(t){if(!t._valueTracker){var e=Eo(t)?"checked":"value";t._valueTracker=Am(t,e,""+t[e])}}function Ao(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=Eo(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function Ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cm=/[\n"\\]/g;function Te(t){return t.replace(Cm,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mr(t,e,n,a,c,s,d,x){t.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?t.type=d:t.removeAttribute("type"),e!=null?d==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ce(e)):t.value!==""+Ce(e)&&(t.value=""+Ce(e)):d!=="submit"&&d!=="reset"||t.removeAttribute("value"),e!=null?pr(t,d,Ce(e)):n!=null?pr(t,d,Ce(n)):a!=null&&t.removeAttribute("value"),c==null&&s!=null&&(t.defaultChecked=!!s),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ce(x):t.removeAttribute("name")}function Co(t,e,n,a,c,s,d,x){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){yr(t);return}n=n!=null?""+Ce(n):"",e=e!=null?""+Ce(e):n,x||e===t.value||(t.value=e),t.defaultValue=e}a=a??c,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=x?t.checked:!!a,t.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.name=d),yr(t)}function pr(t,e,n){e==="number"&&Ta(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Cl(t,e,n,a){if(t=t.options,e){e={};for(var c=0;c<n.length;c++)e["$"+n[c]]=!0;for(n=0;n<t.length;n++)c=e.hasOwnProperty("$"+t[n].value),t[n].selected!==c&&(t[n].selected=c),c&&a&&(t[n].defaultSelected=!0)}else{for(n=""+Ce(n),e=null,c=0;c<t.length;c++){if(t[c].value===n){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function To(t,e,n){if(e!=null&&(e=""+Ce(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ce(n):""}function wo(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(r(92));if(O(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=Ce(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),yr(t)}function Tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||Tm.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function zo(t,e,n){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var c in e)a=e[c],e.hasOwnProperty(c)&&n[c]!==a&&Mo(t,c,a)}else for(var s in e)e.hasOwnProperty(s)&&Mo(t,s,e[s])}function gr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Mm.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ke(){}var vr=null;function _r(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wl=null,Ml=null;function Do(t){var e=xl(t);if(e&&(t=e.stateNode)){var n=t[ue]||null;t:switch(t=e.stateNode,e.type){case"input":if(mr(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Te(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var c=a[ue]||null;if(!c)throw Error(r(90));mr(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&Ao(a)}break t;case"textarea":To(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&Cl(t,!!n.multiple,e,!1)}}}var br=!1;function Oo(t,e,n){if(br)return t(e,n);br=!0;try{var a=t(e);return a}finally{if(br=!1,(wl!==null||Ml!==null)&&(yu(),wl&&(e=wl,t=Ml,Ml=wl=null,Do(e),t)))for(e=0;e<t.length;e++)Do(t[e])}}function gi(t,e){var n=t.stateNode;if(n===null)return null;var a=n[ue]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(r(231,e,typeof n));return n}var Fe=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(Fe)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{Sr=!1}var _n=null,xr=null,Ma=null;function No(){if(Ma)return Ma;var t,e=xr,n=e.length,a,c="value"in _n?_n.value:_n.textContent,s=c.length;for(t=0;t<n&&e[t]===c[t];t++);var d=n-t;for(a=1;a<=d&&e[n-a]===c[s-a];a++);return Ma=c.slice(t,1<a?1-a:void 0)}function za(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Da(){return!0}function Ro(){return!1}function re(t){function e(n,a,c,s,d){this._reactName=n,this._targetInst=c,this.type=a,this.nativeEvent=s,this.target=d,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(n=t[x],this[x]=n?n(s):s[x]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Da:Ro,this.isPropagationStopped=Ro,this}return g(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),e}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=re(Kn),_i=g({},Kn,{view:0,detail:0}),zm=re(_i),Er,Ar,bi,Na=g({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(Er=t.screenX-bi.screenX,Ar=t.screenY-bi.screenY):Ar=Er=0,bi=t),Er)},movementY:function(t){return"movementY"in t?t.movementY:Ar}}),Ho=re(Na),Dm=g({},Na,{dataTransfer:0}),Om=re(Dm),Nm=g({},_i,{relatedTarget:0}),Cr=re(Nm),Rm=g({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=re(Rm),Um=g({},Kn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qm=re(Um),Bm=g({},Kn,{data:0}),Uo=re(Bm),Lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ym[t])?!!e[t]:!1}function Tr(){return Xm}var jm=g({},_i,{key:function(t){if(t.key){var e=Lm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$m[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(t){return t.type==="keypress"?za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gm=re(jm),Vm=g({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=re(Vm),Qm=g({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),Zm=re(Qm),Km=g({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jm=re(Km),km=g({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fm=re(km),Wm=g({},Kn,{newState:0,oldState:0}),Im=re(Wm),Pm=[9,13,27,32],wr=Fe&&"CompositionEvent"in window,Si=null;Fe&&"documentMode"in document&&(Si=document.documentMode);var tp=Fe&&"TextEvent"in window&&!Si,Bo=Fe&&(!wr||Si&&8<Si&&11>=Si),Lo=" ",$o=!1;function Yo(t,e){switch(t){case"keyup":return Pm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zl=!1;function ep(t,e){switch(t){case"compositionend":return Xo(e);case"keypress":return e.which!==32?null:($o=!0,Lo);case"textInput":return t=e.data,t===Lo&&$o?null:t;default:return null}}function np(t,e){if(zl)return t==="compositionend"||!wr&&Yo(t,e)?(t=No(),Ma=xr=_n=null,zl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bo&&e.locale!=="ko"?null:e.data;default:return null}}var lp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lp[t.type]:e==="textarea"}function Go(t,e,n,a){wl?Ml?Ml.push(a):Ml=[a]:wl=a,e=Su(e,"onChange"),0<e.length&&(n=new Oa("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var xi=null,Ei=null;function ip(t){Td(t,0)}function Ra(t){var e=pi(t);if(Ao(e))return t}function Vo(t,e){if(t==="change")return e}var Qo=!1;if(Fe){var Mr;if(Fe){var zr="oninput"in document;if(!zr){var Zo=document.createElement("div");Zo.setAttribute("oninput","return;"),zr=typeof Zo.oninput=="function"}Mr=zr}else Mr=!1;Qo=Mr&&(!document.documentMode||9<document.documentMode)}function Ko(){xi&&(xi.detachEvent("onpropertychange",Jo),Ei=xi=null)}function Jo(t){if(t.propertyName==="value"&&Ra(Ei)){var e=[];Go(e,Ei,t,_r(t)),Oo(ip,e)}}function ap(t,e,n){t==="focusin"?(Ko(),xi=e,Ei=n,xi.attachEvent("onpropertychange",Jo)):t==="focusout"&&Ko()}function up(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ra(Ei)}function rp(t,e){if(t==="click")return Ra(e)}function cp(t,e){if(t==="input"||t==="change")return Ra(e)}function sp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ge=typeof Object.is=="function"?Object.is:sp;function Ai(t,e){if(ge(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var c=n[a];if(!ur.call(e,c)||!ge(t[c],e[c]))return!1}return!0}function ko(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fo(t,e){var n=ko(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=ko(n)}}function Wo(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wo(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Io(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ta(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ta(t.document)}return e}function Dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var op=Fe&&"documentMode"in document&&11>=document.documentMode,Dl=null,Or=null,Ci=null,Nr=!1;function Po(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nr||Dl==null||Dl!==Ta(a)||(a=Dl,"selectionStart"in a&&Dr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ci&&Ai(Ci,a)||(Ci=a,a=Su(Or,"onSelect"),0<a.length&&(e=new Oa("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=Dl)))}function Jn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ol={animationend:Jn("Animation","AnimationEnd"),animationiteration:Jn("Animation","AnimationIteration"),animationstart:Jn("Animation","AnimationStart"),transitionrun:Jn("Transition","TransitionRun"),transitionstart:Jn("Transition","TransitionStart"),transitioncancel:Jn("Transition","TransitionCancel"),transitionend:Jn("Transition","TransitionEnd")},Rr={},tf={};Fe&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function kn(t){if(Rr[t])return Rr[t];if(!Ol[t])return t;var e=Ol[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tf)return Rr[t]=e[n];return t}var ef=kn("animationend"),nf=kn("animationiteration"),lf=kn("animationstart"),fp=kn("transitionrun"),hp=kn("transitionstart"),dp=kn("transitioncancel"),af=kn("transitionend"),uf=new Map,Hr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hr.push("scrollEnd");function Ue(t,e){uf.set(t,e),Zn(e,[t])}var Ha=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},we=[],Nl=0,Ur=0;function Ua(){for(var t=Nl,e=Ur=Nl=0;e<t;){var n=we[e];we[e++]=null;var a=we[e];we[e++]=null;var c=we[e];we[e++]=null;var s=we[e];if(we[e++]=null,a!==null&&c!==null){var d=a.pending;d===null?c.next=c:(c.next=d.next,d.next=c),a.pending=c}s!==0&&rf(n,c,s)}}function qa(t,e,n,a){we[Nl++]=t,we[Nl++]=e,we[Nl++]=n,we[Nl++]=a,Ur|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function qr(t,e,n,a){return qa(t,e,n,a),Ba(t)}function Fn(t,e){return qa(t,null,null,e),Ba(t)}function rf(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var c=!1,s=t.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(c=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,c&&e!==null&&(c=31-pe(n),t=s.hiddenUpdates,a=t[c],a===null?t[c]=[e]:a.push(e),e.lane=n|536870912),s):null}function Ba(t){if(50<Ki)throw Ki=0,Qc=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Rl={};function yp(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ve(t,e,n,a){return new yp(t,e,n,a)}function Br(t){return t=t.prototype,!(!t||!t.isReactComponent)}function We(t,e){var n=t.alternate;return n===null?(n=ve(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function cf(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function La(t,e,n,a,c,s){var d=0;if(a=t,typeof t=="function")Br(t)&&(d=1);else if(typeof t=="string")d=_g(t,n,I.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case lt:return t=ve(31,n,e,c),t.elementType=lt,t.lanes=s,t;case E:return Wn(n.children,c,s,e);case C:d=8,c|=24;break;case M:return t=ve(12,n,e,c|2),t.elementType=M,t.lanes=s,t;case H:return t=ve(13,n,e,c),t.elementType=H,t.lanes=s,t;case W:return t=ve(19,n,e,c),t.elementType=W,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:d=10;break t;case X:d=9;break t;case F:d=11;break t;case Q:d=14;break t;case et:d=16,a=null;break t}d=29,n=Error(r(130,t===null?"null":typeof t,"")),a=null}return e=ve(d,n,e,c),e.elementType=t,e.type=a,e.lanes=s,e}function Wn(t,e,n,a){return t=ve(7,t,a,e),t.lanes=n,t}function Lr(t,e,n){return t=ve(6,t,null,e),t.lanes=n,t}function sf(t){var e=ve(18,null,null,0);return e.stateNode=t,e}function $r(t,e,n){return e=ve(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var of=new WeakMap;function Me(t,e){if(typeof t=="object"&&t!==null){var n=of.get(t);return n!==void 0?n:(e={value:t,source:e,stack:ro(e)},of.set(t,e),e)}return{value:t,source:e,stack:ro(e)}}var Hl=[],Ul=0,$a=null,Ti=0,ze=[],De=0,bn=null,Ye=1,Xe="";function Ie(t,e){Hl[Ul++]=Ti,Hl[Ul++]=$a,$a=t,Ti=e}function ff(t,e,n){ze[De++]=Ye,ze[De++]=Xe,ze[De++]=bn,bn=t;var a=Ye;t=Xe;var c=32-pe(a)-1;a&=~(1<<c),n+=1;var s=32-pe(e)+c;if(30<s){var d=c-c%5;s=(a&(1<<d)-1).toString(32),a>>=d,c-=d,Ye=1<<32-pe(e)+c|n<<c|a,Xe=s+t}else Ye=1<<s|n<<c|a,Xe=t}function Yr(t){t.return!==null&&(Ie(t,1),ff(t,1,0))}function Xr(t){for(;t===$a;)$a=Hl[--Ul],Hl[Ul]=null,Ti=Hl[--Ul],Hl[Ul]=null;for(;t===bn;)bn=ze[--De],ze[De]=null,Xe=ze[--De],ze[De]=null,Ye=ze[--De],ze[De]=null}function hf(t,e){ze[De++]=Ye,ze[De++]=Xe,ze[De++]=bn,Ye=e.id,Xe=e.overflow,bn=t}var It=null,Ht=null,xt=!1,Sn=null,Oe=!1,jr=Error(r(519));function xn(t){var e=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wi(Me(e,t)),jr}function df(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[Wt]=t,e[ue]=a,n){case"dialog":vt("cancel",e),vt("close",e);break;case"iframe":case"object":case"embed":vt("load",e);break;case"video":case"audio":for(n=0;n<ki.length;n++)vt(ki[n],e);break;case"source":vt("error",e);break;case"img":case"image":case"link":vt("error",e),vt("load",e);break;case"details":vt("toggle",e);break;case"input":vt("invalid",e),Co(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":vt("invalid",e);break;case"textarea":vt("invalid",e),wo(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||Dd(e.textContent,n)?(a.popover!=null&&(vt("beforetoggle",e),vt("toggle",e)),a.onScroll!=null&&vt("scroll",e),a.onScrollEnd!=null&&vt("scrollend",e),a.onClick!=null&&(e.onclick=ke),e=!0):e=!1,e||xn(t,!0)}function yf(t){for(It=t.return;It;)switch(It.tag){case 5:case 31:case 13:Oe=!1;return;case 27:case 3:Oe=!0;return;default:It=It.return}}function ql(t){if(t!==It)return!1;if(!xt)return yf(t),xt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||us(t.type,t.memoizedProps)),n=!n),n&&Ht&&xn(t),yf(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ht=$d(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ht=$d(t)}else e===27?(e=Ht,qn(t.type)?(t=fs,fs=null,Ht=t):Ht=e):Ht=It?Re(t.stateNode.nextSibling):null;return!0}function In(){Ht=It=null,xt=!1}function Gr(){var t=Sn;return t!==null&&(fe===null?fe=t:fe.push.apply(fe,t),Sn=null),t}function wi(t){Sn===null?Sn=[t]:Sn.push(t)}var Vr=T(null),Pn=null,Pe=null;function En(t,e,n){k(Vr,e._currentValue),e._currentValue=n}function tn(t){t._currentValue=Vr.current,B(Vr)}function Qr(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function Zr(t,e,n,a){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var s=c.dependencies;if(s!==null){var d=c.child;s=s.firstContext;t:for(;s!==null;){var x=s;s=c;for(var w=0;w<e.length;w++)if(x.context===e[w]){s.lanes|=n,x=s.alternate,x!==null&&(x.lanes|=n),Qr(s.return,n,t),a||(d=null);break t}s=x.next}}else if(c.tag===18){if(d=c.return,d===null)throw Error(r(341));d.lanes|=n,s=d.alternate,s!==null&&(s.lanes|=n),Qr(d,n,t),d=null}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===t){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}}function Bl(t,e,n,a){t=null;for(var c=e,s=!1;c!==null;){if(!s){if((c.flags&524288)!==0)s=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var d=c.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var x=c.type;ge(c.pendingProps.value,d.value)||(t!==null?t.push(x):t=[x])}}else if(c===ot.current){if(d=c.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ta):t=[ta])}c=c.return}t!==null&&Zr(e,t,n,a),e.flags|=262144}function Ya(t){for(t=t.firstContext;t!==null;){if(!ge(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function tl(t){Pn=t,Pe=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pt(t){return mf(Pn,t)}function Xa(t,e){return Pn===null&&tl(t),mf(t,e)}function mf(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Pe===null){if(t===null)throw Error(r(308));Pe=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Pe=Pe.next=e;return n}var mp=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},pp=l.unstable_scheduleCallback,gp=l.unstable_NormalPriority,jt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kr(){return{controller:new mp,data:new Map,refCount:0}}function Mi(t){t.refCount--,t.refCount===0&&pp(gp,function(){t.controller.abort()})}var zi=null,Jr=0,Ll=0,$l=null;function vp(t,e){if(zi===null){var n=zi=[];Jr=0,Ll=Wc(),$l={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Jr++,e.then(pf,pf),e}function pf(){if(--Jr===0&&zi!==null){$l!==null&&($l.status="fulfilled");var t=zi;zi=null,Ll=0,$l=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function _p(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var c=0;c<n.length;c++)(0,n[c])(e)},function(c){for(a.status="rejected",a.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),a}var gf=A.S;A.S=function(t,e){td=ye(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&vp(t,e),gf!==null&&gf(t,e)};var el=T(null);function kr(){var t=el.current;return t!==null?t:Rt.pooledCache}function ja(t,e){e===null?k(el,el.current):k(el,e.pool)}function vf(){var t=kr();return t===null?null:{parent:jt._currentValue,pool:t}}var Yl=Error(r(460)),Fr=Error(r(474)),Ga=Error(r(542)),Va={then:function(){}};function _f(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bf(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ke,ke),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xf(t),t;default:if(typeof e.status=="string")e.then(ke,ke);else{if(t=Rt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=a}},function(a){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xf(t),t}throw ll=e,Yl}}function nl(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ll=n,Yl):n}}var ll=null;function Sf(){if(ll===null)throw Error(r(459));var t=ll;return ll=null,t}function xf(t){if(t===Yl||t===Ga)throw Error(r(483))}var Xl=null,Di=0;function Qa(t){var e=Di;return Di+=1,Xl===null&&(Xl=[]),bf(Xl,t,e)}function Oi(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Za(t,e){throw e.$$typeof===v?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ef(t){function e(R,z){if(t){var U=R.deletions;U===null?(R.deletions=[z],R.flags|=16):U.push(z)}}function n(R,z){if(!t)return null;for(;z!==null;)e(R,z),z=z.sibling;return null}function a(R){for(var z=new Map;R!==null;)R.key!==null?z.set(R.key,R):z.set(R.index,R),R=R.sibling;return z}function c(R,z){return R=We(R,z),R.index=0,R.sibling=null,R}function s(R,z,U){return R.index=U,t?(U=R.alternate,U!==null?(U=U.index,U<z?(R.flags|=67108866,z):U):(R.flags|=67108866,z)):(R.flags|=1048576,z)}function d(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function x(R,z,U,Z){return z===null||z.tag!==6?(z=Lr(U,R.mode,Z),z.return=R,z):(z=c(z,U),z.return=R,z)}function w(R,z,U,Z){var ut=U.type;return ut===E?V(R,z,U.props.children,Z,U.key):z!==null&&(z.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===et&&nl(ut)===z.type)?(z=c(z,U.props),Oi(z,U),z.return=R,z):(z=La(U.type,U.key,U.props,null,R.mode,Z),Oi(z,U),z.return=R,z)}function q(R,z,U,Z){return z===null||z.tag!==4||z.stateNode.containerInfo!==U.containerInfo||z.stateNode.implementation!==U.implementation?(z=$r(U,R.mode,Z),z.return=R,z):(z=c(z,U.children||[]),z.return=R,z)}function V(R,z,U,Z,ut){return z===null||z.tag!==7?(z=Wn(U,R.mode,Z,ut),z.return=R,z):(z=c(z,U),z.return=R,z)}function K(R,z,U){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Lr(""+z,R.mode,U),z.return=R,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case _:return U=La(z.type,z.key,z.props,null,R.mode,U),Oi(U,z),U.return=R,U;case b:return z=$r(z,R.mode,U),z.return=R,z;case et:return z=nl(z),K(R,z,U)}if(O(z)||ft(z))return z=Wn(z,R.mode,U,null),z.return=R,z;if(typeof z.then=="function")return K(R,Qa(z),U);if(z.$$typeof===G)return K(R,Xa(R,z),U);Za(R,z)}return null}function L(R,z,U,Z){var ut=z!==null?z.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ut!==null?null:x(R,z,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return U.key===ut?w(R,z,U,Z):null;case b:return U.key===ut?q(R,z,U,Z):null;case et:return U=nl(U),L(R,z,U,Z)}if(O(U)||ft(U))return ut!==null?null:V(R,z,U,Z,null);if(typeof U.then=="function")return L(R,z,Qa(U),Z);if(U.$$typeof===G)return L(R,z,Xa(R,U),Z);Za(R,U)}return null}function Y(R,z,U,Z,ut){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return R=R.get(U)||null,x(z,R,""+Z,ut);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return R=R.get(Z.key===null?U:Z.key)||null,w(z,R,Z,ut);case b:return R=R.get(Z.key===null?U:Z.key)||null,q(z,R,Z,ut);case et:return Z=nl(Z),Y(R,z,U,Z,ut)}if(O(Z)||ft(Z))return R=R.get(U)||null,V(z,R,Z,ut,null);if(typeof Z.then=="function")return Y(R,z,U,Qa(Z),ut);if(Z.$$typeof===G)return Y(R,z,U,Xa(z,Z),ut);Za(z,Z)}return null}function nt(R,z,U,Z){for(var ut=null,Et=null,at=z,pt=z=0,bt=null;at!==null&&pt<U.length;pt++){at.index>pt?(bt=at,at=null):bt=at.sibling;var At=L(R,at,U[pt],Z);if(At===null){at===null&&(at=bt);break}t&&at&&At.alternate===null&&e(R,at),z=s(At,z,pt),Et===null?ut=At:Et.sibling=At,Et=At,at=bt}if(pt===U.length)return n(R,at),xt&&Ie(R,pt),ut;if(at===null){for(;pt<U.length;pt++)at=K(R,U[pt],Z),at!==null&&(z=s(at,z,pt),Et===null?ut=at:Et.sibling=at,Et=at);return xt&&Ie(R,pt),ut}for(at=a(at);pt<U.length;pt++)bt=Y(at,R,pt,U[pt],Z),bt!==null&&(t&&bt.alternate!==null&&at.delete(bt.key===null?pt:bt.key),z=s(bt,z,pt),Et===null?ut=bt:Et.sibling=bt,Et=bt);return t&&at.forEach(function(Xn){return e(R,Xn)}),xt&&Ie(R,pt),ut}function st(R,z,U,Z){if(U==null)throw Error(r(151));for(var ut=null,Et=null,at=z,pt=z=0,bt=null,At=U.next();at!==null&&!At.done;pt++,At=U.next()){at.index>pt?(bt=at,at=null):bt=at.sibling;var Xn=L(R,at,At.value,Z);if(Xn===null){at===null&&(at=bt);break}t&&at&&Xn.alternate===null&&e(R,at),z=s(Xn,z,pt),Et===null?ut=Xn:Et.sibling=Xn,Et=Xn,at=bt}if(At.done)return n(R,at),xt&&Ie(R,pt),ut;if(at===null){for(;!At.done;pt++,At=U.next())At=K(R,At.value,Z),At!==null&&(z=s(At,z,pt),Et===null?ut=At:Et.sibling=At,Et=At);return xt&&Ie(R,pt),ut}for(at=a(at);!At.done;pt++,At=U.next())At=Y(at,R,pt,At.value,Z),At!==null&&(t&&At.alternate!==null&&at.delete(At.key===null?pt:At.key),z=s(At,z,pt),Et===null?ut=At:Et.sibling=At,Et=At);return t&&at.forEach(function(Dg){return e(R,Dg)}),xt&&Ie(R,pt),ut}function Nt(R,z,U,Z){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case _:t:{for(var ut=U.key;z!==null;){if(z.key===ut){if(ut=U.type,ut===E){if(z.tag===7){n(R,z.sibling),Z=c(z,U.props.children),Z.return=R,R=Z;break t}}else if(z.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===et&&nl(ut)===z.type){n(R,z.sibling),Z=c(z,U.props),Oi(Z,U),Z.return=R,R=Z;break t}n(R,z);break}else e(R,z);z=z.sibling}U.type===E?(Z=Wn(U.props.children,R.mode,Z,U.key),Z.return=R,R=Z):(Z=La(U.type,U.key,U.props,null,R.mode,Z),Oi(Z,U),Z.return=R,R=Z)}return d(R);case b:t:{for(ut=U.key;z!==null;){if(z.key===ut)if(z.tag===4&&z.stateNode.containerInfo===U.containerInfo&&z.stateNode.implementation===U.implementation){n(R,z.sibling),Z=c(z,U.children||[]),Z.return=R,R=Z;break t}else{n(R,z);break}else e(R,z);z=z.sibling}Z=$r(U,R.mode,Z),Z.return=R,R=Z}return d(R);case et:return U=nl(U),Nt(R,z,U,Z)}if(O(U))return nt(R,z,U,Z);if(ft(U)){if(ut=ft(U),typeof ut!="function")throw Error(r(150));return U=ut.call(U),st(R,z,U,Z)}if(typeof U.then=="function")return Nt(R,z,Qa(U),Z);if(U.$$typeof===G)return Nt(R,z,Xa(R,U),Z);Za(R,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,z!==null&&z.tag===6?(n(R,z.sibling),Z=c(z,U),Z.return=R,R=Z):(n(R,z),Z=Lr(U,R.mode,Z),Z.return=R,R=Z),d(R)):n(R,z)}return function(R,z,U,Z){try{Di=0;var ut=Nt(R,z,U,Z);return Xl=null,ut}catch(at){if(at===Yl||at===Ga)throw at;var Et=ve(29,at,null,R.mode);return Et.lanes=Z,Et.return=R,Et}finally{}}}var il=Ef(!0),Af=Ef(!1),An=!1;function Wr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ir(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Ct&2)!==0){var c=a.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),a.pending=e,e=Ba(t),rf(t,null,n),e}return qa(t,a,e,n),Ba(t)}function Ni(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,yo(t,n)}}function Pr(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var c=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?c=s=d:s=s.next=d,n=n.next}while(n!==null);s===null?c=s=e:s=s.next=e}else c=s=e;n={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var tc=!1;function Ri(){if(tc){var t=$l;if(t!==null)throw t}}function Hi(t,e,n,a){tc=!1;var c=t.updateQueue;An=!1;var s=c.firstBaseUpdate,d=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var w=x,q=w.next;w.next=null,d===null?s=q:d.next=q,d=w;var V=t.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==d&&(x===null?V.firstBaseUpdate=q:x.next=q,V.lastBaseUpdate=w))}if(s!==null){var K=c.baseState;d=0,V=q=w=null,x=s;do{var L=x.lane&-536870913,Y=L!==x.lane;if(Y?(_t&L)===L:(a&L)===L){L!==0&&L===Ll&&(tc=!0),V!==null&&(V=V.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var nt=t,st=x;L=e;var Nt=n;switch(st.tag){case 1:if(nt=st.payload,typeof nt=="function"){K=nt.call(Nt,K,L);break t}K=nt;break t;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=st.payload,L=typeof nt=="function"?nt.call(Nt,K,L):nt,L==null)break t;K=g({},K,L);break t;case 2:An=!0}}L=x.callback,L!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=c.callbacks,Y===null?c.callbacks=[L]:Y.push(L))}else Y={lane:L,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(q=V=Y,w=K):V=V.next=Y,d|=L;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,c.lastBaseUpdate=Y,c.shared.pending=null}}while(!0);V===null&&(w=K),c.baseState=w,c.firstBaseUpdate=q,c.lastBaseUpdate=V,s===null&&(c.shared.lanes=0),On|=d,t.lanes=d,t.memoizedState=K}}function Cf(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function Tf(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Cf(n[t],e)}var jl=T(null),Ka=T(0);function wf(t,e){t=on,k(Ka,t),k(jl,e),on=t|e.baseLanes}function ec(){k(Ka,on),k(jl,jl.current)}function nc(){on=Ka.current,B(jl),B(Ka)}var _e=T(null),Ne=null;function wn(t){var e=t.alternate;k(Yt,Yt.current&1),k(_e,t),Ne===null&&(e===null||jl.current!==null||e.memoizedState!==null)&&(Ne=t)}function lc(t){k(Yt,Yt.current),k(_e,t),Ne===null&&(Ne=t)}function Mf(t){t.tag===22?(k(Yt,Yt.current),k(_e,t),Ne===null&&(Ne=t)):Mn()}function Mn(){k(Yt,Yt.current),k(_e,_e.current)}function be(t){B(_e),Ne===t&&(Ne=null),B(Yt)}var Yt=T(0);function Ja(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ss(n)||os(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var en=0,dt=null,Dt=null,Gt=null,ka=!1,Gl=!1,al=!1,Fa=0,Ui=0,Vl=null,bp=0;function Lt(){throw Error(r(321))}function ic(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ge(t[n],e[n]))return!1;return!0}function ac(t,e,n,a,c,s){return en=s,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,A.H=t===null||t.memoizedState===null?fh:bc,al=!1,s=n(a,c),al=!1,Gl&&(s=Df(e,n,a,c)),zf(t),s}function zf(t){A.H=Li;var e=Dt!==null&&Dt.next!==null;if(en=0,Gt=Dt=dt=null,ka=!1,Ui=0,Vl=null,e)throw Error(r(300));t===null||Vt||(t=t.dependencies,t!==null&&Ya(t)&&(Vt=!0))}function Df(t,e,n,a){dt=t;var c=0;do{if(Gl&&(Vl=null),Ui=0,Gl=!1,25<=c)throw Error(r(301));if(c+=1,Gt=Dt=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}A.H=hh,s=e(n,a)}while(Gl);return s}function Sp(){var t=A.H,e=t.useState()[0];return e=typeof e.then=="function"?qi(e):e,t=t.useState()[0],(Dt!==null?Dt.memoizedState:null)!==t&&(dt.flags|=1024),e}function uc(){var t=Fa!==0;return Fa=0,t}function rc(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function cc(t){if(ka){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ka=!1}en=0,Gt=Dt=dt=null,Gl=!1,Ui=Fa=0,Vl=null}function ae(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?dt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Xt(){if(Dt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Gt===null?dt.memoizedState:Gt.next;if(e!==null)Gt=e,Dt=t;else{if(t===null)throw dt.alternate===null?Error(r(467)):Error(r(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Gt===null?dt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Wa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qi(t){var e=Ui;return Ui+=1,Vl===null&&(Vl=[]),t=bf(Vl,t,e),e=dt,(Gt===null?e.memoizedState:Gt.next)===null&&(e=e.alternate,A.H=e===null||e.memoizedState===null?fh:bc),t}function Ia(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return qi(t);if(t.$$typeof===G)return Pt(t)}throw Error(r(438,String(t)))}function sc(t){var e=null,n=dt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=dt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Wa(),dt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=tt;return e.index++,n}function nn(t,e){return typeof e=="function"?e(t):e}function Pa(t){var e=Xt();return oc(e,Dt,t)}function oc(t,e,n){var a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=t.baseQueue,s=a.pending;if(s!==null){if(c!==null){var d=c.next;c.next=s.next,s.next=d}e.baseQueue=c=s,a.pending=null}if(s=t.baseState,c===null)t.memoizedState=s;else{e=c.next;var x=d=null,w=null,q=e,V=!1;do{var K=q.lane&-536870913;if(K!==q.lane?(_t&K)===K:(en&K)===K){var L=q.revertLane;if(L===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),K===Ll&&(V=!0);else if((en&L)===L){q=q.next,L===Ll&&(V=!0);continue}else K={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},w===null?(x=w=K,d=s):w=w.next=K,dt.lanes|=L,On|=L;K=q.action,al&&n(s,K),s=q.hasEagerState?q.eagerState:n(s,K)}else L={lane:K,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},w===null?(x=w=L,d=s):w=w.next=L,dt.lanes|=K,On|=K;q=q.next}while(q!==null&&q!==e);if(w===null?d=s:w.next=x,!ge(s,t.memoizedState)&&(Vt=!0,V&&(n=$l,n!==null)))throw n;t.memoizedState=s,t.baseState=d,t.baseQueue=w,a.lastRenderedState=s}return c===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function fc(t){var e=Xt(),n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=t;var a=n.dispatch,c=n.pending,s=e.memoizedState;if(c!==null){n.pending=null;var d=c=c.next;do s=t(s,d.action),d=d.next;while(d!==c);ge(s,e.memoizedState)||(Vt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,a]}function Of(t,e,n){var a=dt,c=Xt(),s=xt;if(s){if(n===void 0)throw Error(r(407));n=n()}else n=e();var d=!ge((Dt||c).memoizedState,n);if(d&&(c.memoizedState=n,Vt=!0),c=c.queue,yc(Hf.bind(null,a,c,t),[t]),c.getSnapshot!==e||d||Gt!==null&&Gt.memoizedState.tag&1){if(a.flags|=2048,Ql(9,{destroy:void 0},Rf.bind(null,a,c,n,e),null),Rt===null)throw Error(r(349));s||(en&127)!==0||Nf(a,e,n)}return n}function Nf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e=Wa(),dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rf(t,e,n,a){e.value=n,e.getSnapshot=a,Uf(e)&&qf(t)}function Hf(t,e,n){return n(function(){Uf(e)&&qf(t)})}function Uf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ge(t,n)}catch{return!0}}function qf(t){var e=Fn(t,2);e!==null&&he(e,t,2)}function hc(t){var e=ae();if(typeof t=="function"){var n=t;if(t=n(),al){gn(!0);try{n()}finally{gn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:t},e}function Bf(t,e,n,a){return t.baseState=n,oc(t,Dt,typeof a=="function"?a:nn)}function xp(t,e,n,a,c){if(nu(t))throw Error(r(485));if(t=e.action,t!==null){var s={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){s.listeners.push(d)}};A.T!==null?n(!0):s.isTransition=!1,a(s),n=e.pending,n===null?(s.next=e.pending=s,Lf(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Lf(t,e){var n=e.action,a=e.payload,c=t.state;if(e.isTransition){var s=A.T,d={};A.T=d;try{var x=n(c,a),w=A.S;w!==null&&w(d,x),$f(t,e,x)}catch(q){dc(t,e,q)}finally{s!==null&&d.types!==null&&(s.types=d.types),A.T=s}}else try{s=n(c,a),$f(t,e,s)}catch(q){dc(t,e,q)}}function $f(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Yf(t,e,a)},function(a){return dc(t,e,a)}):Yf(t,e,n)}function Yf(t,e,n){e.status="fulfilled",e.value=n,Xf(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Lf(t,n)))}function dc(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Xf(e),e=e.next;while(e!==a)}t.action=null}function Xf(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function jf(t,e){return e}function Gf(t,e){if(xt){var n=Rt.formState;if(n!==null){t:{var a=dt;if(xt){if(Ht){e:{for(var c=Ht,s=Oe;c.nodeType!==8;){if(!s){c=null;break e}if(c=Re(c.nextSibling),c===null){c=null;break e}}s=c.data,c=s==="F!"||s==="F"?c:null}if(c){Ht=Re(c.nextSibling),a=c.data==="F!";break t}}xn(a)}a=!1}a&&(e=n[0])}}return n=ae(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jf,lastRenderedState:e},n.queue=a,n=ch.bind(null,dt,a),a.dispatch=n,a=hc(!1),s=_c.bind(null,dt,!1,a.queue),a=ae(),c={state:e,dispatch:null,action:t,pending:null},a.queue=c,n=xp.bind(null,dt,c,s,n),c.dispatch=n,a.memoizedState=t,[e,n,!1]}function Vf(t){var e=Xt();return Qf(e,Dt,t)}function Qf(t,e,n){if(e=oc(t,e,jf)[0],t=Pa(nn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=qi(e)}catch(d){throw d===Yl?Ga:d}else a=e;e=Xt();var c=e.queue,s=c.dispatch;return n!==e.memoizedState&&(dt.flags|=2048,Ql(9,{destroy:void 0},Ep.bind(null,c,n),null)),[a,s,t]}function Ep(t,e){t.action=e}function Zf(t){var e=Xt(),n=Dt;if(n!==null)return Qf(e,n,t);Xt(),e=e.memoizedState,n=Xt();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function Ql(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=dt.updateQueue,e===null&&(e=Wa(),dt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Kf(){return Xt().memoizedState}function tu(t,e,n,a){var c=ae();dt.flags|=t,c.memoizedState=Ql(1|e,{destroy:void 0},n,a===void 0?null:a)}function eu(t,e,n,a){var c=Xt();a=a===void 0?null:a;var s=c.memoizedState.inst;Dt!==null&&a!==null&&ic(a,Dt.memoizedState.deps)?c.memoizedState=Ql(e,s,n,a):(dt.flags|=t,c.memoizedState=Ql(1|e,s,n,a))}function Jf(t,e){tu(8390656,8,t,e)}function yc(t,e){eu(2048,8,t,e)}function Ap(t){dt.flags|=4;var e=dt.updateQueue;if(e===null)e=Wa(),dt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function kf(t){var e=Xt().memoizedState;return Ap({ref:e,nextImpl:t}),function(){if((Ct&2)!==0)throw Error(r(440));return e.impl.apply(void 0,arguments)}}function Ff(t,e){return eu(4,2,t,e)}function Wf(t,e){return eu(4,4,t,e)}function If(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pf(t,e,n){n=n!=null?n.concat([t]):null,eu(4,4,If.bind(null,e,t),n)}function mc(){}function th(t,e){var n=Xt();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&ic(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function eh(t,e){var n=Xt();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&ic(e,a[1]))return a[0];if(a=t(),al){gn(!0);try{t()}finally{gn(!1)}}return n.memoizedState=[a,e],a}function pc(t,e,n){return n===void 0||(en&1073741824)!==0&&(_t&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=nd(),dt.lanes|=t,On|=t,n)}function nh(t,e,n,a){return ge(n,e)?n:jl.current!==null?(t=pc(t,n,a),ge(t,e)||(Vt=!0),t):(en&42)===0||(en&1073741824)!==0&&(_t&261930)===0?(Vt=!0,t.memoizedState=n):(t=nd(),dt.lanes|=t,On|=t,e)}function lh(t,e,n,a,c){var s=N.p;N.p=s!==0&&8>s?s:8;var d=A.T,x={};A.T=x,_c(t,!1,e,n);try{var w=c(),q=A.S;if(q!==null&&q(x,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var V=_p(w,a);Bi(t,e,V,Ee(t))}else Bi(t,e,a,Ee(t))}catch(K){Bi(t,e,{then:function(){},status:"rejected",reason:K},Ee())}finally{N.p=s,d!==null&&x.types!==null&&(d.types=x.types),A.T=d}}function Cp(){}function gc(t,e,n,a){if(t.tag!==5)throw Error(r(476));var c=ih(t).queue;lh(t,c,e,$,n===null?Cp:function(){return ah(t),n(a)})}function ih(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:$},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function ah(t){var e=ih(t);e.next===null&&(e=t.alternate.memoizedState),Bi(t,e.next.queue,{},Ee())}function vc(){return Pt(ta)}function uh(){return Xt().memoizedState}function rh(){return Xt().memoizedState}function Tp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ee();t=Cn(n);var a=Tn(e,t,n);a!==null&&(he(a,e,n),Ni(a,e,n)),e={cache:Kr()},t.payload=e;return}e=e.return}}function wp(t,e,n){var a=Ee();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},nu(t)?sh(e,n):(n=qr(t,e,n,a),n!==null&&(he(n,t,a),oh(n,e,a)))}function ch(t,e,n){var a=Ee();Bi(t,e,n,a)}function Bi(t,e,n,a){var c={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(nu(t))sh(e,c);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var d=e.lastRenderedState,x=s(d,n);if(c.hasEagerState=!0,c.eagerState=x,ge(x,d))return qa(t,e,c,0),Rt===null&&Ua(),!1}catch{}finally{}if(n=qr(t,e,c,a),n!==null)return he(n,t,a),oh(n,e,a),!0}return!1}function _c(t,e,n,a){if(a={lane:2,revertLane:Wc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},nu(t)){if(e)throw Error(r(479))}else e=qr(t,n,a,2),e!==null&&he(e,t,2)}function nu(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function sh(t,e){Gl=ka=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oh(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,yo(t,n)}}var Li={readContext:Pt,use:Ia,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};Li.useEffectEvent=Lt;var fh={readContext:Pt,use:Ia,useCallback:function(t,e){return ae().memoizedState=[t,e===void 0?null:e],t},useContext:Pt,useEffect:Jf,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,tu(4194308,4,If.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tu(4194308,4,t,e)},useInsertionEffect:function(t,e){tu(4,2,t,e)},useMemo:function(t,e){var n=ae();e=e===void 0?null:e;var a=t();if(al){gn(!0);try{t()}finally{gn(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=ae();if(n!==void 0){var c=n(e);if(al){gn(!0);try{n(e)}finally{gn(!1)}}}else c=e;return a.memoizedState=a.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},a.queue=t,t=t.dispatch=wp.bind(null,dt,t),[a.memoizedState,t]},useRef:function(t){var e=ae();return t={current:t},e.memoizedState=t},useState:function(t){t=hc(t);var e=t.queue,n=ch.bind(null,dt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:mc,useDeferredValue:function(t,e){var n=ae();return pc(n,t,e)},useTransition:function(){var t=hc(!1);return t=lh.bind(null,dt,t.queue,!0,!1),ae().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=dt,c=ae();if(xt){if(n===void 0)throw Error(r(407));n=n()}else{if(n=e(),Rt===null)throw Error(r(349));(_t&127)!==0||Nf(a,e,n)}c.memoizedState=n;var s={value:n,getSnapshot:e};return c.queue=s,Jf(Hf.bind(null,a,s,t),[t]),a.flags|=2048,Ql(9,{destroy:void 0},Rf.bind(null,a,s,n,e),null),n},useId:function(){var t=ae(),e=Rt.identifierPrefix;if(xt){var n=Xe,a=Ye;n=(a&~(1<<32-pe(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Fa++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=bp++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:vc,useFormState:Gf,useActionState:Gf,useOptimistic:function(t){var e=ae();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=_c.bind(null,dt,!0,n),n.dispatch=e,[t,e]},useMemoCache:sc,useCacheRefresh:function(){return ae().memoizedState=Tp.bind(null,dt)},useEffectEvent:function(t){var e=ae(),n={impl:t};return e.memoizedState=n,function(){if((Ct&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},bc={readContext:Pt,use:Ia,useCallback:th,useContext:Pt,useEffect:yc,useImperativeHandle:Pf,useInsertionEffect:Ff,useLayoutEffect:Wf,useMemo:eh,useReducer:Pa,useRef:Kf,useState:function(){return Pa(nn)},useDebugValue:mc,useDeferredValue:function(t,e){var n=Xt();return nh(n,Dt.memoizedState,t,e)},useTransition:function(){var t=Pa(nn)[0],e=Xt().memoizedState;return[typeof t=="boolean"?t:qi(t),e]},useSyncExternalStore:Of,useId:uh,useHostTransitionStatus:vc,useFormState:Vf,useActionState:Vf,useOptimistic:function(t,e){var n=Xt();return Bf(n,Dt,t,e)},useMemoCache:sc,useCacheRefresh:rh};bc.useEffectEvent=kf;var hh={readContext:Pt,use:Ia,useCallback:th,useContext:Pt,useEffect:yc,useImperativeHandle:Pf,useInsertionEffect:Ff,useLayoutEffect:Wf,useMemo:eh,useReducer:fc,useRef:Kf,useState:function(){return fc(nn)},useDebugValue:mc,useDeferredValue:function(t,e){var n=Xt();return Dt===null?pc(n,t,e):nh(n,Dt.memoizedState,t,e)},useTransition:function(){var t=fc(nn)[0],e=Xt().memoizedState;return[typeof t=="boolean"?t:qi(t),e]},useSyncExternalStore:Of,useId:uh,useHostTransitionStatus:vc,useFormState:Zf,useActionState:Zf,useOptimistic:function(t,e){var n=Xt();return Dt!==null?Bf(n,Dt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:sc,useCacheRefresh:rh};hh.useEffectEvent=kf;function Sc(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:g({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xc={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=Ee(),c=Cn(a);c.payload=e,n!=null&&(c.callback=n),e=Tn(t,c,a),e!==null&&(he(e,t,a),Ni(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=Ee(),c=Cn(a);c.tag=1,c.payload=e,n!=null&&(c.callback=n),e=Tn(t,c,a),e!==null&&(he(e,t,a),Ni(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ee(),a=Cn(n);a.tag=2,e!=null&&(a.callback=e),e=Tn(t,a,n),e!==null&&(he(e,t,n),Ni(e,t,n))}};function dh(t,e,n,a,c,s,d){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,s,d):e.prototype&&e.prototype.isPureReactComponent?!Ai(n,a)||!Ai(c,s):!0}function yh(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&xc.enqueueReplaceState(e,e.state,null)}function ul(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=g({},n));for(var c in t)n[c]===void 0&&(n[c]=t[c])}return n}function mh(t){Ha(t)}function ph(t){console.error(t)}function gh(t){Ha(t)}function lu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function vh(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ec(t,e,n){return n=Cn(n),n.tag=3,n.payload={element:null},n.callback=function(){lu(t,e)},n}function _h(t){return t=Cn(t),t.tag=3,t}function bh(t,e,n,a){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var s=a.value;t.payload=function(){return c(s)},t.callback=function(){vh(e,n,a)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(t.callback=function(){vh(e,n,a),typeof c!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function Mp(t,e,n,a,c){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Bl(e,n,c,!0),n=_e.current,n!==null){switch(n.tag){case 31:case 13:return Ne===null?mu():n.alternate===null&&$t===0&&($t=3),n.flags&=-257,n.flags|=65536,n.lanes=c,a===Va?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),Jc(t,a,c)),!1;case 22:return n.flags|=65536,a===Va?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),Jc(t,a,c)),!1}throw Error(r(435,n.tag))}return Jc(t,a,c),mu(),!1}if(xt)return e=_e.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,a!==jr&&(t=Error(r(422),{cause:a}),wi(Me(t,n)))):(a!==jr&&(e=Error(r(423),{cause:a}),wi(Me(e,n))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,a=Me(a,n),c=Ec(t.stateNode,a,c),Pr(t,c),$t!==4&&($t=2)),!1;var s=Error(r(520),{cause:a});if(s=Me(s,n),Zi===null?Zi=[s]:Zi.push(s),$t!==4&&($t=2),e===null)return!0;a=Me(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=c&-c,n.lanes|=t,t=Ec(n.stateNode,a,t),Pr(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Nn===null||!Nn.has(s))))return n.flags|=65536,c&=-c,n.lanes|=c,c=_h(c),bh(c,t,n,a),Pr(n,c),!1}n=n.return}while(n!==null);return!1}var Ac=Error(r(461)),Vt=!1;function te(t,e,n,a){e.child=t===null?Af(e,null,n,a):il(e,t.child,n,a)}function Sh(t,e,n,a,c){n=n.render;var s=e.ref;if("ref"in a){var d={};for(var x in a)x!=="ref"&&(d[x]=a[x])}else d=a;return tl(e),a=ac(t,e,n,d,s,c),x=uc(),t!==null&&!Vt?(rc(t,e,c),ln(t,e,c)):(xt&&x&&Yr(e),e.flags|=1,te(t,e,a,c),e.child)}function xh(t,e,n,a,c){if(t===null){var s=n.type;return typeof s=="function"&&!Br(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,Eh(t,e,s,a,c)):(t=La(n.type,null,a,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Nc(t,c)){var d=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ai,n(d,a)&&t.ref===e.ref)return ln(t,e,c)}return e.flags|=1,t=We(s,a),t.ref=e.ref,t.return=e,e.child=t}function Eh(t,e,n,a,c){if(t!==null){var s=t.memoizedProps;if(Ai(s,a)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=a=s,Nc(t,c))(t.flags&131072)!==0&&(Vt=!0);else return e.lanes=t.lanes,ln(t,e,c)}return Cc(t,e,n,a,c)}function Ah(t,e,n,a){var c=a.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,t!==null){for(a=e.child=t.child,c=0;a!==null;)c=c|a.lanes|a.childLanes,a=a.sibling;a=c&~s}else a=0,e.child=null;return Ch(t,e,s,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ja(e,s!==null?s.cachePool:null),s!==null?wf(e,s):ec(),Mf(e);else return a=e.lanes=536870912,Ch(t,e,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(ja(e,s.cachePool),wf(e,s),Mn(),e.memoizedState=null):(t!==null&&ja(e,null),ec(),Mn());return te(t,e,c,n),e.child}function $i(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Ch(t,e,n,a,c){var s=kr();return s=s===null?null:{parent:jt._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&ja(e,null),ec(),Mf(e),t!==null&&Bl(t,e,a,!0),e.childLanes=c,null}function iu(t,e){return e=uu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Th(t,e,n){return il(e,t.child,null,n),t=iu(e,e.pendingProps),t.flags|=2,be(e),e.memoizedState=null,t}function zp(t,e,n){var a=e.pendingProps,c=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(xt){if(a.mode==="hidden")return t=iu(e,a),e.lanes=536870912,$i(null,t);if(lc(e),(t=Ht)?(t=Ld(t,Oe),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:bn!==null?{id:Ye,overflow:Xe}:null,retryLane:536870912,hydrationErrors:null},n=sf(t),n.return=e,e.child=n,It=e,Ht=null)):t=null,t===null)throw xn(e);return e.lanes=536870912,null}return iu(e,a)}var s=t.memoizedState;if(s!==null){var d=s.dehydrated;if(lc(e),c)if(e.flags&256)e.flags&=-257,e=Th(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(r(558));else if(Vt||Bl(t,e,n,!1),c=(n&t.childLanes)!==0,Vt||c){if(a=Rt,a!==null&&(d=mo(a,n),d!==0&&d!==s.retryLane))throw s.retryLane=d,Fn(t,d),he(a,t,d),Ac;mu(),e=Th(t,e,n)}else t=s.treeContext,Ht=Re(d.nextSibling),It=e,xt=!0,Sn=null,Oe=!1,t!==null&&hf(e,t),e=iu(e,a),e.flags|=4096;return e}return t=We(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function au(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Cc(t,e,n,a,c){return tl(e),n=ac(t,e,n,a,void 0,c),a=uc(),t!==null&&!Vt?(rc(t,e,c),ln(t,e,c)):(xt&&a&&Yr(e),e.flags|=1,te(t,e,n,c),e.child)}function wh(t,e,n,a,c,s){return tl(e),e.updateQueue=null,n=Df(e,a,n,c),zf(t),a=uc(),t!==null&&!Vt?(rc(t,e,s),ln(t,e,s)):(xt&&a&&Yr(e),e.flags|=1,te(t,e,n,s),e.child)}function Mh(t,e,n,a,c){if(tl(e),e.stateNode===null){var s=Rl,d=n.contextType;typeof d=="object"&&d!==null&&(s=Pt(d)),s=new n(a,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=xc,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=a,s.state=e.memoizedState,s.refs={},Wr(e),d=n.contextType,s.context=typeof d=="object"&&d!==null?Pt(d):Rl,s.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Sc(e,n,d,a),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(d=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),d!==s.state&&xc.enqueueReplaceState(s,s.state,null),Hi(e,a,s,c),Ri(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){s=e.stateNode;var x=e.memoizedProps,w=ul(n,x);s.props=w;var q=s.context,V=n.contextType;d=Rl,typeof V=="object"&&V!==null&&(d=Pt(V));var K=n.getDerivedStateFromProps;V=typeof K=="function"||typeof s.getSnapshotBeforeUpdate=="function",x=e.pendingProps!==x,V||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(x||q!==d)&&yh(e,s,a,d),An=!1;var L=e.memoizedState;s.state=L,Hi(e,a,s,c),Ri(),q=e.memoizedState,x||L!==q||An?(typeof K=="function"&&(Sc(e,n,K,a),q=e.memoizedState),(w=An||dh(e,n,w,a,L,q,d))?(V||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=q),s.props=a,s.state=q,s.context=d,a=w):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{s=e.stateNode,Ir(t,e),d=e.memoizedProps,V=ul(n,d),s.props=V,K=e.pendingProps,L=s.context,q=n.contextType,w=Rl,typeof q=="object"&&q!==null&&(w=Pt(q)),x=n.getDerivedStateFromProps,(q=typeof x=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(d!==K||L!==w)&&yh(e,s,a,w),An=!1,L=e.memoizedState,s.state=L,Hi(e,a,s,c),Ri();var Y=e.memoizedState;d!==K||L!==Y||An||t!==null&&t.dependencies!==null&&Ya(t.dependencies)?(typeof x=="function"&&(Sc(e,n,x,a),Y=e.memoizedState),(V=An||dh(e,n,V,a,L,Y,w)||t!==null&&t.dependencies!==null&&Ya(t.dependencies))?(q||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,Y,w),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,Y,w)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||d===t.memoizedProps&&L===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&L===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=Y),s.props=a,s.state=Y,s.context=w,a=V):(typeof s.componentDidUpdate!="function"||d===t.memoizedProps&&L===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&L===t.memoizedState||(e.flags|=1024),a=!1)}return s=a,au(t,e),a=(e.flags&128)!==0,s||a?(s=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&a?(e.child=il(e,t.child,null,c),e.child=il(e,null,n,c)):te(t,e,n,c),e.memoizedState=s.state,t=e.child):t=ln(t,e,c),t}function zh(t,e,n,a){return In(),e.flags|=256,te(t,e,n,a),e.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wc(t){return{baseLanes:t,cachePool:vf()}}function Mc(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=xe),t}function Dh(t,e,n){var a=e.pendingProps,c=!1,s=(e.flags&128)!==0,d;if((d=s)||(d=t!==null&&t.memoizedState===null?!1:(Yt.current&2)!==0),d&&(c=!0,e.flags&=-129),d=(e.flags&32)!==0,e.flags&=-33,t===null){if(xt){if(c?wn(e):Mn(),(t=Ht)?(t=Ld(t,Oe),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:bn!==null?{id:Ye,overflow:Xe}:null,retryLane:536870912,hydrationErrors:null},n=sf(t),n.return=e,e.child=n,It=e,Ht=null)):t=null,t===null)throw xn(e);return os(t)?e.lanes=32:e.lanes=536870912,null}var x=a.children;return a=a.fallback,c?(Mn(),c=e.mode,x=uu({mode:"hidden",children:x},c),a=Wn(a,c,n,null),x.return=e,a.return=e,x.sibling=a,e.child=x,a=e.child,a.memoizedState=wc(n),a.childLanes=Mc(t,d,n),e.memoizedState=Tc,$i(null,a)):(wn(e),zc(e,x))}var w=t.memoizedState;if(w!==null&&(x=w.dehydrated,x!==null)){if(s)e.flags&256?(wn(e),e.flags&=-257,e=Dc(t,e,n)):e.memoizedState!==null?(Mn(),e.child=t.child,e.flags|=128,e=null):(Mn(),x=a.fallback,c=e.mode,a=uu({mode:"visible",children:a.children},c),x=Wn(x,c,n,null),x.flags|=2,a.return=e,x.return=e,a.sibling=x,e.child=a,il(e,t.child,null,n),a=e.child,a.memoizedState=wc(n),a.childLanes=Mc(t,d,n),e.memoizedState=Tc,e=$i(null,a));else if(wn(e),os(x)){if(d=x.nextSibling&&x.nextSibling.dataset,d)var q=d.dgst;d=q,a=Error(r(419)),a.stack="",a.digest=d,wi({value:a,source:null,stack:null}),e=Dc(t,e,n)}else if(Vt||Bl(t,e,n,!1),d=(n&t.childLanes)!==0,Vt||d){if(d=Rt,d!==null&&(a=mo(d,n),a!==0&&a!==w.retryLane))throw w.retryLane=a,Fn(t,a),he(d,t,a),Ac;ss(x)||mu(),e=Dc(t,e,n)}else ss(x)?(e.flags|=192,e.child=t.child,e=null):(t=w.treeContext,Ht=Re(x.nextSibling),It=e,xt=!0,Sn=null,Oe=!1,t!==null&&hf(e,t),e=zc(e,a.children),e.flags|=4096);return e}return c?(Mn(),x=a.fallback,c=e.mode,w=t.child,q=w.sibling,a=We(w,{mode:"hidden",children:a.children}),a.subtreeFlags=w.subtreeFlags&65011712,q!==null?x=We(q,x):(x=Wn(x,c,n,null),x.flags|=2),x.return=e,a.return=e,a.sibling=x,e.child=a,$i(null,a),a=e.child,x=t.child.memoizedState,x===null?x=wc(n):(c=x.cachePool,c!==null?(w=jt._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=vf(),x={baseLanes:x.baseLanes|n,cachePool:c}),a.memoizedState=x,a.childLanes=Mc(t,d,n),e.memoizedState=Tc,$i(t.child,a)):(wn(e),n=t.child,t=n.sibling,n=We(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(d=e.deletions,d===null?(e.deletions=[t],e.flags|=16):d.push(t)),e.child=n,e.memoizedState=null,n)}function zc(t,e){return e=uu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function uu(t,e){return t=ve(22,t,null,e),t.lanes=0,t}function Dc(t,e,n){return il(e,t.child,null,n),t=zc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Oh(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Qr(t.return,e,n)}function Oc(t,e,n,a,c,s){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:c,treeForkCount:s}:(d.isBackwards=e,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=n,d.tailMode=c,d.treeForkCount=s)}function Nh(t,e,n){var a=e.pendingProps,c=a.revealOrder,s=a.tail;a=a.children;var d=Yt.current,x=(d&2)!==0;if(x?(d=d&1|2,e.flags|=128):d&=1,k(Yt,d),te(t,e,a,n),a=xt?Ti:0,!x&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Oh(t,n,e);else if(t.tag===19)Oh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(n=e.child,c=null;n!==null;)t=n.alternate,t!==null&&Ja(t)===null&&(c=n),n=n.sibling;n=c,n===null?(c=e.child,e.child=null):(c=n.sibling,n.sibling=null),Oc(e,!1,c,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&Ja(t)===null){e.child=c;break}t=c.sibling,c.sibling=n,n=c,c=t}Oc(e,!0,n,null,s,a);break;case"together":Oc(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function ln(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),On|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Bl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,n=We(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=We(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Nc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Ya(t)))}function Dp(t,e,n){switch(e.tag){case 3:St(e,e.stateNode.containerInfo),En(e,jt,t.memoizedState.cache),In();break;case 27:case 5:zt(e);break;case 4:St(e,e.stateNode.containerInfo);break;case 10:En(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,lc(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(wn(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Dh(t,e,n):(wn(e),t=ln(t,e,n),t!==null?t.sibling:null);wn(e);break;case 19:var c=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Bl(t,e,n,!1),a=(n&e.childLanes)!==0),c){if(a)return Nh(t,e,n);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),k(Yt,Yt.current),a)break;return null;case 22:return e.lanes=0,Ah(t,e,n,e.pendingProps);case 24:En(e,jt,t.memoizedState.cache)}return ln(t,e,n)}function Rh(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Vt=!0;else{if(!Nc(t,n)&&(e.flags&128)===0)return Vt=!1,Dp(t,e,n);Vt=(t.flags&131072)!==0}else Vt=!1,xt&&(e.flags&1048576)!==0&&ff(e,Ti,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=nl(e.elementType),e.type=t,typeof t=="function")Br(t)?(a=ul(t,a),e.tag=1,e=Mh(null,e,t,a,n)):(e.tag=0,e=Cc(null,e,t,a,n));else{if(t!=null){var c=t.$$typeof;if(c===F){e.tag=11,e=Sh(null,e,t,a,n);break t}else if(c===Q){e.tag=14,e=xh(null,e,t,a,n);break t}}throw e=D(t)||t,Error(r(306,e,""))}}return e;case 0:return Cc(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,c=ul(a,e.pendingProps),Mh(t,e,a,c,n);case 3:t:{if(St(e,e.stateNode.containerInfo),t===null)throw Error(r(387));a=e.pendingProps;var s=e.memoizedState;c=s.element,Ir(t,e),Hi(e,a,null,n);var d=e.memoizedState;if(a=d.cache,En(e,jt,a),a!==s.cache&&Zr(e,[jt],n,!0),Ri(),a=d.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:d.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=zh(t,e,a,n);break t}else if(a!==c){c=Me(Error(r(424)),e),wi(c),e=zh(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ht=Re(t.firstChild),It=e,xt=!0,Sn=null,Oe=!0,n=Af(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(In(),a===c){e=ln(t,e,n);break t}te(t,e,a,n)}e=e.child}return e;case 26:return au(t,e),t===null?(n=Vd(e.type,null,e.pendingProps,null))?e.memoizedState=n:xt||(n=e.type,t=e.pendingProps,a=xu(ct.current).createElement(n),a[Wt]=e,a[ue]=t,ee(a,n,t),kt(a),e.stateNode=a):e.memoizedState=Vd(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return zt(e),t===null&&xt&&(a=e.stateNode=Xd(e.type,e.pendingProps,ct.current),It=e,Oe=!0,c=Ht,qn(e.type)?(fs=c,Ht=Re(a.firstChild)):Ht=c),te(t,e,e.pendingProps.children,n),au(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&xt&&((c=a=Ht)&&(a=ug(a,e.type,e.pendingProps,Oe),a!==null?(e.stateNode=a,It=e,Ht=Re(a.firstChild),Oe=!1,c=!0):c=!1),c||xn(e)),zt(e),c=e.type,s=e.pendingProps,d=t!==null?t.memoizedProps:null,a=s.children,us(c,s)?a=null:d!==null&&us(c,d)&&(e.flags|=32),e.memoizedState!==null&&(c=ac(t,e,Sp,null,null,n),ta._currentValue=c),au(t,e),te(t,e,a,n),e.child;case 6:return t===null&&xt&&((t=n=Ht)&&(n=rg(n,e.pendingProps,Oe),n!==null?(e.stateNode=n,It=e,Ht=null,t=!0):t=!1),t||xn(e)),null;case 13:return Dh(t,e,n);case 4:return St(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=il(e,null,a,n):te(t,e,a,n),e.child;case 11:return Sh(t,e,e.type,e.pendingProps,n);case 7:return te(t,e,e.pendingProps,n),e.child;case 8:return te(t,e,e.pendingProps.children,n),e.child;case 12:return te(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,En(e,e.type,a.value),te(t,e,a.children,n),e.child;case 9:return c=e.type._context,a=e.pendingProps.children,tl(e),c=Pt(c),a=a(c),e.flags|=1,te(t,e,a,n),e.child;case 14:return xh(t,e,e.type,e.pendingProps,n);case 15:return Eh(t,e,e.type,e.pendingProps,n);case 19:return Nh(t,e,n);case 31:return zp(t,e,n);case 22:return Ah(t,e,n,e.pendingProps);case 24:return tl(e),a=Pt(jt),t===null?(c=kr(),c===null&&(c=Rt,s=Kr(),c.pooledCache=s,s.refCount++,s!==null&&(c.pooledCacheLanes|=n),c=s),e.memoizedState={parent:a,cache:c},Wr(e),En(e,jt,c)):((t.lanes&n)!==0&&(Ir(t,e),Hi(e,null,null,n),Ri()),c=t.memoizedState,s=e.memoizedState,c.parent!==a?(c={parent:a,cache:a},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),En(e,jt,a)):(a=s.cache,En(e,jt,a),a!==c.cache&&Zr(e,[jt],n,!0))),te(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function an(t){t.flags|=4}function Rc(t,e,n,a,c){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(ud())t.flags|=8192;else throw ll=Va,Fr}else t.flags&=-16777217}function Hh(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kd(e))if(ud())t.flags|=8192;else throw ll=Va,Fr}function ru(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?fo():536870912,t.lanes|=e,kl|=e)}function Yi(t,e){if(!xt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var c=t.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags&65011712,a|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function Op(t,e,n){var a=e.pendingProps;switch(Xr(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return Ut(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),tn(jt),rt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ql(e)?an(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Gr())),Ut(e),null;case 26:var c=e.type,s=e.memoizedState;return t===null?(an(e),s!==null?(Ut(e),Hh(e,s)):(Ut(e),Rc(e,c,null,a,n))):s?s!==t.memoizedState?(an(e),Ut(e),Hh(e,s)):(Ut(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&an(e),Ut(e),Rc(e,c,t,a,n)),null;case 27:if(Zt(e),n=ct.current,c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&an(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return Ut(e),null}t=I.current,ql(e)?df(e):(t=Xd(c,a,n),e.stateNode=t,an(e))}return Ut(e),null;case 5:if(Zt(e),c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&an(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return Ut(e),null}if(s=I.current,ql(e))df(e);else{var d=xu(ct.current);switch(s){case 1:s=d.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=d.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=d.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?d.createElement(c,{is:a.is}):d.createElement(c)}}s[Wt]=e,s[ue]=a;t:for(d=e.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break t;for(;d.sibling===null;){if(d.return===null||d.return===e)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}e.stateNode=s;t:switch(ee(s,c,a),c){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&an(e)}}return Ut(e),Rc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&an(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(r(166));if(t=ct.current,ql(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,c=It,c!==null)switch(c.tag){case 27:case 5:a=c.memoizedProps}t[Wt]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Dd(t.nodeValue,n)),t||xn(e,!0)}else t=xu(t).createTextNode(a),t[Wt]=e,e.stateNode=t}return Ut(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=ql(e),n!==null){if(t===null){if(!a)throw Error(r(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Wt]=e}else In(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ut(e),t=!1}else n=Gr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(be(e),e):(be(e),null);if((e.flags&128)!==0)throw Error(r(558))}return Ut(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ql(e),a!==null&&a.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Wt]=e}else In(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ut(e),c=!1}else c=Gr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(be(e),e):(be(e),null)}return be(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,c=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(c=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),ru(e,e.updateQueue),Ut(e),null);case 4:return rt(),t===null&&es(e.stateNode.containerInfo),Ut(e),null;case 10:return tn(e.type),Ut(e),null;case 19:if(B(Yt),a=e.memoizedState,a===null)return Ut(e),null;if(c=(e.flags&128)!==0,s=a.rendering,s===null)if(c)Yi(a,!1);else{if($t!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Ja(t),s!==null){for(e.flags|=128,Yi(a,!1),t=s.updateQueue,e.updateQueue=t,ru(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)cf(n,t),n=n.sibling;return k(Yt,Yt.current&1|2),xt&&Ie(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&ye()>hu&&(e.flags|=128,c=!0,Yi(a,!1),e.lanes=4194304)}else{if(!c)if(t=Ja(s),t!==null){if(e.flags|=128,c=!0,t=t.updateQueue,e.updateQueue=t,ru(e,t),Yi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!xt)return Ut(e),null}else 2*ye()-a.renderingStartTime>hu&&n!==536870912&&(e.flags|=128,c=!0,Yi(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(t=a.last,t!==null?t.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ye(),t.sibling=null,n=Yt.current,k(Yt,c?n&1|2:n&1),xt&&Ie(e,a.treeForkCount),t):(Ut(e),null);case 22:case 23:return be(e),nc(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),n=e.updateQueue,n!==null&&ru(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&B(el),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),tn(jt),Ut(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function Np(t,e){switch(Xr(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tn(jt),rt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Zt(e),null;case 31:if(e.memoizedState!==null){if(be(e),e.alternate===null)throw Error(r(340));In()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(be(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));In()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return B(Yt),null;case 4:return rt(),null;case 10:return tn(e.type),null;case 22:case 23:return be(e),nc(),t!==null&&B(el),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return tn(jt),null;case 25:return null;default:return null}}function Uh(t,e){switch(Xr(e),e.tag){case 3:tn(jt),rt();break;case 26:case 27:case 5:Zt(e);break;case 4:rt();break;case 31:e.memoizedState!==null&&be(e);break;case 13:be(e);break;case 19:B(Yt);break;case 10:tn(e.type);break;case 22:case 23:be(e),nc(),t!==null&&B(el);break;case 24:tn(jt)}}function Xi(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var c=a.next;n=c;do{if((n.tag&t)===t){a=void 0;var s=n.create,d=n.inst;a=s(),d.destroy=a}n=n.next}while(n!==c)}}catch(x){Mt(e,e.return,x)}}function zn(t,e,n){try{var a=e.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var s=c.next;a=s;do{if((a.tag&t)===t){var d=a.inst,x=d.destroy;if(x!==void 0){d.destroy=void 0,c=e;var w=n,q=x;try{q()}catch(V){Mt(c,w,V)}}}a=a.next}while(a!==s)}}catch(V){Mt(e,e.return,V)}}function qh(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Tf(e,n)}catch(a){Mt(t,t.return,a)}}}function Bh(t,e,n){n.props=ul(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){Mt(t,e,a)}}function ji(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(c){Mt(t,e,c)}}function je(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(c){Mt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Mt(t,e,c)}else n.current=null}function Lh(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(c){Mt(t,t.return,c)}}function Hc(t,e,n){try{var a=t.stateNode;tg(a,t.type,n,e),a[ue]=e}catch(c){Mt(t,t.return,c)}}function $h(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qn(t.type)||t.tag===4}function Uc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||$h(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qn(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qc(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ke));else if(a!==4&&(a===27&&qn(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(qc(t,e,n),t=t.sibling;t!==null;)qc(t,e,n),t=t.sibling}function cu(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&qn(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(cu(t,e,n),t=t.sibling;t!==null;)cu(t,e,n),t=t.sibling}function Yh(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);ee(e,a,n),e[Wt]=t,e[ue]=n}catch(s){Mt(t,t.return,s)}}var un=!1,Qt=!1,Bc=!1,Xh=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Rp(t,e){if(t=t.containerInfo,is=zu,t=Io(t),Dr(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var c=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var d=0,x=-1,w=-1,q=0,V=0,K=t,L=null;e:for(;;){for(var Y;K!==n||c!==0&&K.nodeType!==3||(x=d+c),K!==s||a!==0&&K.nodeType!==3||(w=d+a),K.nodeType===3&&(d+=K.nodeValue.length),(Y=K.firstChild)!==null;)L=K,K=Y;for(;;){if(K===t)break e;if(L===n&&++q===c&&(x=d),L===s&&++V===a&&(w=d),(Y=K.nextSibling)!==null)break;K=L,L=K.parentNode}K=Y}n=x===-1||w===-1?null:{start:x,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(as={focusedElem:t,selectionRange:n},zu=!1,Ft=e;Ft!==null;)if(e=Ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ft=t;else for(;Ft!==null;){switch(e=Ft,s=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)c=t[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,n=e,c=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var nt=ul(n.type,c);t=a.getSnapshotBeforeUpdate(nt,s),a.__reactInternalSnapshotBeforeUpdate=t}catch(st){Mt(n,n.return,st)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)cs(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cs(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,Ft=t;break}Ft=e.return}}function jh(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:cn(t,n),a&4&&Xi(5,n);break;case 1:if(cn(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(d){Mt(n,n.return,d)}else{var c=ul(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(d){Mt(n,n.return,d)}}a&64&&qh(n),a&512&&ji(n,n.return);break;case 3:if(cn(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Tf(t,e)}catch(d){Mt(n,n.return,d)}}break;case 27:e===null&&a&4&&Yh(n);case 26:case 5:cn(t,n),e===null&&a&4&&Lh(n),a&512&&ji(n,n.return);break;case 12:cn(t,n);break;case 31:cn(t,n),a&4&&Qh(t,n);break;case 13:cn(t,n),a&4&&Zh(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=jp.bind(null,n),cg(t,n))));break;case 22:if(a=n.memoizedState!==null||un,!a){e=e!==null&&e.memoizedState!==null||Qt,c=un;var s=Qt;un=a,(Qt=e)&&!s?sn(t,n,(n.subtreeFlags&8772)!==0):cn(t,n),un=c,Qt=s}break;case 30:break;default:cn(t,n)}}function Gh(t){var e=t.alternate;e!==null&&(t.alternate=null,Gh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&dr(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qt=null,ce=!1;function rn(t,e,n){for(n=n.child;n!==null;)Vh(t,e,n),n=n.sibling}function Vh(t,e,n){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(hi,n)}catch{}switch(n.tag){case 26:Qt||je(n,e),rn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qt||je(n,e);var a=qt,c=ce;qn(n.type)&&(qt=n.stateNode,ce=!1),rn(t,e,n),Wi(n.stateNode),qt=a,ce=c;break;case 5:Qt||je(n,e);case 6:if(a=qt,c=ce,qt=null,rn(t,e,n),qt=a,ce=c,qt!==null)if(ce)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(n.stateNode)}catch(s){Mt(n,e,s)}else try{qt.removeChild(n.stateNode)}catch(s){Mt(n,e,s)}break;case 18:qt!==null&&(ce?(t=qt,qd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),li(t)):qd(qt,n.stateNode));break;case 4:a=qt,c=ce,qt=n.stateNode.containerInfo,ce=!0,rn(t,e,n),qt=a,ce=c;break;case 0:case 11:case 14:case 15:zn(2,n,e),Qt||zn(4,n,e),rn(t,e,n);break;case 1:Qt||(je(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Bh(n,e,a)),rn(t,e,n);break;case 21:rn(t,e,n);break;case 22:Qt=(a=Qt)||n.memoizedState!==null,rn(t,e,n),Qt=a;break;default:rn(t,e,n)}}function Qh(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{li(t)}catch(n){Mt(e,e.return,n)}}}function Zh(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{li(t)}catch(n){Mt(e,e.return,n)}}function Hp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Xh),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Xh),e;default:throw Error(r(435,t.tag))}}function su(t,e){var n=Hp(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var c=Gp.bind(null,t,a);a.then(c,c)}})}function se(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var c=n[a],s=t,d=e,x=d;t:for(;x!==null;){switch(x.tag){case 27:if(qn(x.type)){qt=x.stateNode,ce=!1;break t}break;case 5:qt=x.stateNode,ce=!1;break t;case 3:case 4:qt=x.stateNode.containerInfo,ce=!0;break t}x=x.return}if(qt===null)throw Error(r(160));Vh(s,d,c),qt=null,ce=!1,s=c.alternate,s!==null&&(s.return=null),c.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Kh(e,t),e=e.sibling}var qe=null;function Kh(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:se(e,t),oe(t),a&4&&(zn(3,t,t.return),Xi(3,t),zn(5,t,t.return));break;case 1:se(e,t),oe(t),a&512&&(Qt||n===null||je(n,n.return)),a&64&&un&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var c=qe;if(se(e,t),oe(t),a&512&&(Qt||n===null||je(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,c=c.ownerDocument||c;e:switch(a){case"title":s=c.getElementsByTagName("title")[0],(!s||s[mi]||s[Wt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=c.createElement(a),c.head.insertBefore(s,c.querySelector("head > title"))),ee(s,a,n),s[Wt]=t,kt(s),a=s;break t;case"link":var d=Kd("link","href",c).get(a+(n.href||""));if(d){for(var x=0;x<d.length;x++)if(s=d[x],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(x,1);break e}}s=c.createElement(a),ee(s,a,n),c.head.appendChild(s);break;case"meta":if(d=Kd("meta","content",c).get(a+(n.content||""))){for(x=0;x<d.length;x++)if(s=d[x],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(x,1);break e}}s=c.createElement(a),ee(s,a,n),c.head.appendChild(s);break;default:throw Error(r(468,a))}s[Wt]=t,kt(s),a=s}t.stateNode=a}else Jd(c,t.type,t.stateNode);else t.stateNode=Zd(c,a,t.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Jd(c,t.type,t.stateNode):Zd(c,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Hc(t,t.memoizedProps,n.memoizedProps)}break;case 27:se(e,t),oe(t),a&512&&(Qt||n===null||je(n,n.return)),n!==null&&a&4&&Hc(t,t.memoizedProps,n.memoizedProps);break;case 5:if(se(e,t),oe(t),a&512&&(Qt||n===null||je(n,n.return)),t.flags&32){c=t.stateNode;try{Tl(c,"")}catch(nt){Mt(t,t.return,nt)}}a&4&&t.stateNode!=null&&(c=t.memoizedProps,Hc(t,c,n!==null?n.memoizedProps:c)),a&1024&&(Bc=!0);break;case 6:if(se(e,t),oe(t),a&4){if(t.stateNode===null)throw Error(r(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(nt){Mt(t,t.return,nt)}}break;case 3:if(Cu=null,c=qe,qe=Eu(e.containerInfo),se(e,t),qe=c,oe(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{li(e.containerInfo)}catch(nt){Mt(t,t.return,nt)}Bc&&(Bc=!1,Jh(t));break;case 4:a=qe,qe=Eu(t.stateNode.containerInfo),se(e,t),oe(t),qe=a;break;case 12:se(e,t),oe(t);break;case 31:se(e,t),oe(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,su(t,a)));break;case 13:se(e,t),oe(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(fu=ye()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,su(t,a)));break;case 22:c=t.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,q=un,V=Qt;if(un=q||c,Qt=V||w,se(e,t),Qt=V,un=q,oe(t),a&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(n===null||w||un||Qt||rl(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){w=n=e;try{if(s=w.stateNode,c)d=s.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{x=w.stateNode;var K=w.memoizedProps.style,L=K!=null&&K.hasOwnProperty("display")?K.display:null;x.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(nt){Mt(w,w.return,nt)}}}else if(e.tag===6){if(n===null){w=e;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(nt){Mt(w,w.return,nt)}}}else if(e.tag===18){if(n===null){w=e;try{var Y=w.stateNode;c?Bd(Y,!0):Bd(w.stateNode,!1)}catch(nt){Mt(w,w.return,nt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,su(t,n))));break;case 19:se(e,t),oe(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,su(t,a)));break;case 30:break;case 21:break;default:se(e,t),oe(t)}}function oe(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if($h(a)){n=a;break}a=a.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var c=n.stateNode,s=Uc(t);cu(t,s,c);break;case 5:var d=n.stateNode;n.flags&32&&(Tl(d,""),n.flags&=-33);var x=Uc(t);cu(t,x,d);break;case 3:case 4:var w=n.stateNode.containerInfo,q=Uc(t);qc(t,q,w);break;default:throw Error(r(161))}}catch(V){Mt(t,t.return,V)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Jh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Jh(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function cn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)jh(t,e.alternate,e),e=e.sibling}function rl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:zn(4,e,e.return),rl(e);break;case 1:je(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Bh(e,e.return,n),rl(e);break;case 27:Wi(e.stateNode);case 26:case 5:je(e,e.return),rl(e);break;case 22:e.memoizedState===null&&rl(e);break;case 30:rl(e);break;default:rl(e)}t=t.sibling}}function sn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,c=t,s=e,d=s.flags;switch(s.tag){case 0:case 11:case 15:sn(c,s,n),Xi(4,s);break;case 1:if(sn(c,s,n),a=s,c=a.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(q){Mt(a,a.return,q)}if(a=s,c=a.updateQueue,c!==null){var x=a.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Cf(w[c],x)}catch(q){Mt(a,a.return,q)}}n&&d&64&&qh(s),ji(s,s.return);break;case 27:Yh(s);case 26:case 5:sn(c,s,n),n&&a===null&&d&4&&Lh(s),ji(s,s.return);break;case 12:sn(c,s,n);break;case 31:sn(c,s,n),n&&d&4&&Qh(c,s);break;case 13:sn(c,s,n),n&&d&4&&Zh(c,s);break;case 22:s.memoizedState===null&&sn(c,s,n),ji(s,s.return);break;case 30:break;default:sn(c,s,n)}e=e.sibling}}function Lc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Mi(n))}function $c(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Mi(t))}function Be(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kh(t,e,n,a),e=e.sibling}function kh(t,e,n,a){var c=e.flags;switch(e.tag){case 0:case 11:case 15:Be(t,e,n,a),c&2048&&Xi(9,e);break;case 1:Be(t,e,n,a);break;case 3:Be(t,e,n,a),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Mi(t)));break;case 12:if(c&2048){Be(t,e,n,a),t=e.stateNode;try{var s=e.memoizedProps,d=s.id,x=s.onPostCommit;typeof x=="function"&&x(d,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Mt(e,e.return,w)}}else Be(t,e,n,a);break;case 31:Be(t,e,n,a);break;case 13:Be(t,e,n,a);break;case 23:break;case 22:s=e.stateNode,d=e.alternate,e.memoizedState!==null?s._visibility&2?Be(t,e,n,a):Gi(t,e):s._visibility&2?Be(t,e,n,a):(s._visibility|=2,Zl(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),c&2048&&Lc(d,e);break;case 24:Be(t,e,n,a),c&2048&&$c(e.alternate,e);break;default:Be(t,e,n,a)}}function Zl(t,e,n,a,c){for(c=c&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,d=e,x=n,w=a,q=d.flags;switch(d.tag){case 0:case 11:case 15:Zl(s,d,x,w,c),Xi(8,d);break;case 23:break;case 22:var V=d.stateNode;d.memoizedState!==null?V._visibility&2?Zl(s,d,x,w,c):Gi(s,d):(V._visibility|=2,Zl(s,d,x,w,c)),c&&q&2048&&Lc(d.alternate,d);break;case 24:Zl(s,d,x,w,c),c&&q&2048&&$c(d.alternate,d);break;default:Zl(s,d,x,w,c)}e=e.sibling}}function Gi(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,c=a.flags;switch(a.tag){case 22:Gi(n,a),c&2048&&Lc(a.alternate,a);break;case 24:Gi(n,a),c&2048&&$c(a.alternate,a);break;default:Gi(n,a)}e=e.sibling}}var Vi=8192;function Kl(t,e,n){if(t.subtreeFlags&Vi)for(t=t.child;t!==null;)Fh(t,e,n),t=t.sibling}function Fh(t,e,n){switch(t.tag){case 26:Kl(t,e,n),t.flags&Vi&&t.memoizedState!==null&&bg(n,qe,t.memoizedState,t.memoizedProps);break;case 5:Kl(t,e,n);break;case 3:case 4:var a=qe;qe=Eu(t.stateNode.containerInfo),Kl(t,e,n),qe=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Vi,Vi=16777216,Kl(t,e,n),Vi=a):Kl(t,e,n));break;default:Kl(t,e,n)}}function Wh(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Qi(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Ft=a,Ph(a,t)}Wh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ih(t),t=t.sibling}function Ih(t){switch(t.tag){case 0:case 11:case 15:Qi(t),t.flags&2048&&zn(9,t,t.return);break;case 3:Qi(t);break;case 12:Qi(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ou(t)):Qi(t);break;default:Qi(t)}}function ou(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Ft=a,Ph(a,t)}Wh(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:zn(8,e,e.return),ou(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ou(e));break;default:ou(e)}t=t.sibling}}function Ph(t,e){for(;Ft!==null;){var n=Ft;switch(n.tag){case 0:case 11:case 15:zn(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Mi(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ft=a;else t:for(n=t;Ft!==null;){a=Ft;var c=a.sibling,s=a.return;if(Gh(a),a===n){Ft=null;break t}if(c!==null){c.return=s,Ft=c;break t}Ft=s}}}var Up={getCacheForType:function(t){var e=Pt(jt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Pt(jt).controller.signal}},qp=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Rt=null,gt=null,_t=0,wt=0,Se=null,Dn=!1,Jl=!1,Yc=!1,on=0,$t=0,On=0,cl=0,Xc=0,xe=0,kl=0,Zi=null,fe=null,jc=!1,fu=0,td=0,hu=1/0,du=null,Nn=null,Kt=0,Rn=null,Fl=null,fn=0,Gc=0,Vc=null,ed=null,Ki=0,Qc=null;function Ee(){return(Ct&2)!==0&&_t!==0?_t&-_t:A.T!==null?Wc():po()}function nd(){if(xe===0)if((_t&536870912)===0||xt){var t=Sa;Sa<<=1,(Sa&3932160)===0&&(Sa=262144),xe=t}else xe=536870912;return t=_e.current,t!==null&&(t.flags|=32),xe}function he(t,e,n){(t===Rt&&(wt===2||wt===9)||t.cancelPendingCommit!==null)&&(Wl(t,0),Hn(t,_t,xe,!1)),yi(t,n),((Ct&2)===0||t!==Rt)&&(t===Rt&&((Ct&2)===0&&(cl|=n),$t===4&&Hn(t,_t,xe,!1)),Ge(t))}function ld(t,e,n){if((Ct&6)!==0)throw Error(r(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||di(t,e),c=a?$p(t,e):Kc(t,e,!0),s=a;do{if(c===0){Jl&&!a&&Hn(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Bp(n)){c=Kc(t,e,!1),s=!1;continue}if(c===2){if(s=e,t.errorRecoveryDisabledLanes&s)var d=0;else d=t.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){e=d;t:{var x=t;c=Zi;var w=x.current.memoizedState.isDehydrated;if(w&&(Wl(x,d).flags|=256),d=Kc(x,d,!1),d!==2){if(Yc&&!w){x.errorRecoveryDisabledLanes|=s,cl|=s,c=4;break t}s=fe,fe=c,s!==null&&(fe===null?fe=s:fe.push.apply(fe,s))}c=d}if(s=!1,c!==2)continue}}if(c===1){Wl(t,0),Hn(t,e,0,!0);break}t:{switch(a=t,s=c,s){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:Hn(a,e,xe,!Dn);break t;case 2:fe=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(c=fu+300-ye(),10<c)){if(Hn(a,e,xe,!Dn),Ea(a,0,!0)!==0)break t;fn=e,a.timeoutHandle=Hd(id.bind(null,a,n,fe,du,jc,e,xe,cl,kl,Dn,s,"Throttled",-0,0),c);break t}id(a,n,fe,du,jc,e,xe,cl,kl,Dn,s,null,-0,0)}}break}while(!0);Ge(t)}function id(t,e,n,a,c,s,d,x,w,q,V,K,L,Y){if(t.timeoutHandle=-1,K=e.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ke},Fh(e,s,K);var nt=(s&62914560)===s?fu-ye():(s&4194048)===s?td-ye():0;if(nt=Sg(K,nt),nt!==null){fn=s,t.cancelPendingCommit=nt(hd.bind(null,t,e,s,n,a,c,d,x,w,V,K,null,L,Y)),Hn(t,s,d,!q);return}}hd(t,e,s,n,a,c,d,x,w)}function Bp(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var c=n[a],s=c.getSnapshot;c=c.value;try{if(!ge(s(),c))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hn(t,e,n,a){e&=~Xc,e&=~cl,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var c=e;0<c;){var s=31-pe(c),d=1<<s;a[s]=-1,c&=~d}n!==0&&ho(t,n,e)}function yu(){return(Ct&6)===0?(Ji(0),!1):!0}function Zc(){if(gt!==null){if(wt===0)var t=gt.return;else t=gt,Pe=Pn=null,cc(t),Xl=null,Di=0,t=gt;for(;t!==null;)Uh(t.alternate,t),t=t.return;gt=null}}function Wl(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,lg(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),fn=0,Zc(),Rt=t,gt=n=We(t.current,null),_t=e,wt=0,Se=null,Dn=!1,Jl=di(t,e),Yc=!1,kl=xe=Xc=cl=On=$t=0,fe=Zi=null,jc=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var c=31-pe(a),s=1<<c;e|=t[c],a&=~s}return on=e,Ua(),n}function ad(t,e){dt=null,A.H=Li,e===Yl||e===Ga?(e=Sf(),wt=3):e===Fr?(e=Sf(),wt=4):wt=e===Ac?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Se=e,gt===null&&($t=1,lu(t,Me(e,t.current)))}function ud(){var t=_e.current;return t===null?!0:(_t&4194048)===_t?Ne===null:(_t&62914560)===_t||(_t&536870912)!==0?t===Ne:!1}function rd(){var t=A.H;return A.H=Li,t===null?Li:t}function cd(){var t=A.A;return A.A=Up,t}function mu(){$t=4,Dn||(_t&4194048)!==_t&&_e.current!==null||(Jl=!0),(On&134217727)===0&&(cl&134217727)===0||Rt===null||Hn(Rt,_t,xe,!1)}function Kc(t,e,n){var a=Ct;Ct|=2;var c=rd(),s=cd();(Rt!==t||_t!==e)&&(du=null,Wl(t,e)),e=!1;var d=$t;t:do try{if(wt!==0&&gt!==null){var x=gt,w=Se;switch(wt){case 8:Zc(),d=6;break t;case 3:case 2:case 9:case 6:_e.current===null&&(e=!0);var q=wt;if(wt=0,Se=null,Il(t,x,w,q),n&&Jl){d=0;break t}break;default:q=wt,wt=0,Se=null,Il(t,x,w,q)}}Lp(),d=$t;break}catch(V){ad(t,V)}while(!0);return e&&t.shellSuspendCounter++,Pe=Pn=null,Ct=a,A.H=c,A.A=s,gt===null&&(Rt=null,_t=0,Ua()),d}function Lp(){for(;gt!==null;)sd(gt)}function $p(t,e){var n=Ct;Ct|=2;var a=rd(),c=cd();Rt!==t||_t!==e?(du=null,hu=ye()+500,Wl(t,e)):Jl=di(t,e);t:do try{if(wt!==0&&gt!==null){e=gt;var s=Se;e:switch(wt){case 1:wt=0,Se=null,Il(t,e,s,1);break;case 2:case 9:if(_f(s)){wt=0,Se=null,od(e);break}e=function(){wt!==2&&wt!==9||Rt!==t||(wt=7),Ge(t)},s.then(e,e);break t;case 3:wt=7;break t;case 4:wt=5;break t;case 7:_f(s)?(wt=0,Se=null,od(e)):(wt=0,Se=null,Il(t,e,s,7));break;case 5:var d=null;switch(gt.tag){case 26:d=gt.memoizedState;case 5:case 27:var x=gt;if(d?kd(d):x.stateNode.complete){wt=0,Se=null;var w=x.sibling;if(w!==null)gt=w;else{var q=x.return;q!==null?(gt=q,pu(q)):gt=null}break e}}wt=0,Se=null,Il(t,e,s,5);break;case 6:wt=0,Se=null,Il(t,e,s,6);break;case 8:Zc(),$t=6;break t;default:throw Error(r(462))}}Yp();break}catch(V){ad(t,V)}while(!0);return Pe=Pn=null,A.H=a,A.A=c,Ct=n,gt!==null?0:(Rt=null,_t=0,Ua(),$t)}function Yp(){for(;gt!==null&&!sm();)sd(gt)}function sd(t){var e=Rh(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?pu(t):gt=e}function od(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=wh(n,e,e.pendingProps,e.type,void 0,_t);break;case 11:e=wh(n,e,e.pendingProps,e.type.render,e.ref,_t);break;case 5:cc(e);default:Uh(n,e),e=gt=cf(e,on),e=Rh(n,e,on)}t.memoizedProps=t.pendingProps,e===null?pu(t):gt=e}function Il(t,e,n,a){Pe=Pn=null,cc(e),Xl=null,Di=0;var c=e.return;try{if(Mp(t,c,e,n,_t)){$t=1,lu(t,Me(n,t.current)),gt=null;return}}catch(s){if(c!==null)throw gt=c,s;$t=1,lu(t,Me(n,t.current)),gt=null;return}e.flags&32768?(xt||a===1?t=!0:Jl||(_t&536870912)!==0?t=!1:(Dn=t=!0,(a===2||a===9||a===3||a===6)&&(a=_e.current,a!==null&&a.tag===13&&(a.flags|=16384))),fd(e,t)):pu(e)}function pu(t){var e=t;do{if((e.flags&32768)!==0){fd(e,Dn);return}t=e.return;var n=Op(e.alternate,e,on);if(n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);$t===0&&($t=5)}function fd(t,e){do{var n=Np(t.alternate,t);if(n!==null){n.flags&=32767,gt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){gt=t;return}gt=t=n}while(t!==null);$t=6,gt=null}function hd(t,e,n,a,c,s,d,x,w){t.cancelPendingCommit=null;do gu();while(Kt!==0);if((Ct&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(s=e.lanes|e.childLanes,s|=Ur,_m(t,n,s,d,x,w),t===Rt&&(gt=Rt=null,_t=0),Fl=e,Rn=t,fn=n,Gc=s,Vc=c,ed=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Vp(_a,function(){return gd(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=A.T,A.T=null,c=N.p,N.p=2,d=Ct,Ct|=4;try{Rp(t,e,n)}finally{Ct=d,N.p=c,A.T=a}}Kt=1,dd(),yd(),md()}}function dd(){if(Kt===1){Kt=0;var t=Rn,e=Fl,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var a=N.p;N.p=2;var c=Ct;Ct|=4;try{Kh(e,t);var s=as,d=Io(t.containerInfo),x=s.focusedElem,w=s.selectionRange;if(d!==x&&x&&x.ownerDocument&&Wo(x.ownerDocument.documentElement,x)){if(w!==null&&Dr(x)){var q=w.start,V=w.end;if(V===void 0&&(V=q),"selectionStart"in x)x.selectionStart=q,x.selectionEnd=Math.min(V,x.value.length);else{var K=x.ownerDocument||document,L=K&&K.defaultView||window;if(L.getSelection){var Y=L.getSelection(),nt=x.textContent.length,st=Math.min(w.start,nt),Nt=w.end===void 0?st:Math.min(w.end,nt);!Y.extend&&st>Nt&&(d=Nt,Nt=st,st=d);var R=Fo(x,st),z=Fo(x,Nt);if(R&&z&&(Y.rangeCount!==1||Y.anchorNode!==R.node||Y.anchorOffset!==R.offset||Y.focusNode!==z.node||Y.focusOffset!==z.offset)){var U=K.createRange();U.setStart(R.node,R.offset),Y.removeAllRanges(),st>Nt?(Y.addRange(U),Y.extend(z.node,z.offset)):(U.setEnd(z.node,z.offset),Y.addRange(U))}}}}for(K=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&K.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<K.length;x++){var Z=K[x];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}zu=!!is,as=is=null}finally{Ct=c,N.p=a,A.T=n}}t.current=e,Kt=2}}function yd(){if(Kt===2){Kt=0;var t=Rn,e=Fl,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var a=N.p;N.p=2;var c=Ct;Ct|=4;try{jh(t,e.alternate,e)}finally{Ct=c,N.p=a,A.T=n}}Kt=3}}function md(){if(Kt===4||Kt===3){Kt=0,om();var t=Rn,e=Fl,n=fn,a=ed;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Kt=5:(Kt=0,Fl=Rn=null,pd(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Nn=null),fr(n),e=e.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(hi,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=A.T,c=N.p,N.p=2,A.T=null;try{for(var s=t.onRecoverableError,d=0;d<a.length;d++){var x=a[d];s(x.value,{componentStack:x.stack})}}finally{A.T=e,N.p=c}}(fn&3)!==0&&gu(),Ge(t),c=t.pendingLanes,(n&261930)!==0&&(c&42)!==0?t===Qc?Ki++:(Ki=0,Qc=t):Ki=0,Ji(0)}}function pd(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Mi(e)))}function gu(){return dd(),yd(),md(),gd()}function gd(){if(Kt!==5)return!1;var t=Rn,e=Gc;Gc=0;var n=fr(fn),a=A.T,c=N.p;try{N.p=32>n?32:n,A.T=null,n=Vc,Vc=null;var s=Rn,d=fn;if(Kt=0,Fl=Rn=null,fn=0,(Ct&6)!==0)throw Error(r(331));var x=Ct;if(Ct|=4,Ih(s.current),kh(s,s.current,d,n),Ct=x,Ji(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(hi,s)}catch{}return!0}finally{N.p=c,A.T=a,pd(t,e)}}function vd(t,e,n){e=Me(n,e),e=Ec(t.stateNode,e,2),t=Tn(t,e,2),t!==null&&(yi(t,2),Ge(t))}function Mt(t,e,n){if(t.tag===3)vd(t,t,n);else for(;e!==null;){if(e.tag===3){vd(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Nn===null||!Nn.has(a))){t=Me(n,t),n=_h(2),a=Tn(e,n,2),a!==null&&(bh(n,a,e,t),yi(a,2),Ge(a));break}}e=e.return}}function Jc(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new qp;var c=new Set;a.set(e,c)}else c=a.get(e),c===void 0&&(c=new Set,a.set(e,c));c.has(n)||(Yc=!0,c.add(n),t=Xp.bind(null,t,e,n),e.then(t,t))}function Xp(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Rt===t&&(_t&n)===n&&($t===4||$t===3&&(_t&62914560)===_t&&300>ye()-fu?(Ct&2)===0&&Wl(t,0):Xc|=n,kl===_t&&(kl=0)),Ge(t)}function _d(t,e){e===0&&(e=fo()),t=Fn(t,e),t!==null&&(yi(t,e),Ge(t))}function jp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_d(t,n)}function Gp(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(n=c.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(e),_d(t,n)}function Vp(t,e){return rr(t,e)}var vu=null,Pl=null,kc=!1,_u=!1,Fc=!1,Un=0;function Ge(t){t!==Pl&&t.next===null&&(Pl===null?vu=Pl=t:Pl=Pl.next=t),_u=!0,kc||(kc=!0,Zp())}function Ji(t,e){if(!Fc&&_u){Fc=!0;do for(var n=!1,a=vu;a!==null;){if(t!==0){var c=a.pendingLanes;if(c===0)var s=0;else{var d=a.suspendedLanes,x=a.pingedLanes;s=(1<<31-pe(42|t)+1)-1,s&=c&~(d&~x),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Ed(a,s))}else s=_t,s=Ea(a,a===Rt?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||di(a,s)||(n=!0,Ed(a,s));a=a.next}while(n);Fc=!1}}function Qp(){bd()}function bd(){_u=kc=!1;var t=0;Un!==0&&ng()&&(t=Un);for(var e=ye(),n=null,a=vu;a!==null;){var c=a.next,s=Sd(a,e);s===0?(a.next=null,n===null?vu=c:n.next=c,c===null&&(Pl=n)):(n=a,(t!==0||(s&3)!==0)&&(_u=!0)),a=c}Kt!==0&&Kt!==5||Ji(t),Un!==0&&(Un=0)}function Sd(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var d=31-pe(s),x=1<<d,w=c[d];w===-1?((x&n)===0||(x&a)!==0)&&(c[d]=vm(x,e)):w<=e&&(t.expiredLanes|=x),s&=~x}if(e=Rt,n=_t,n=Ea(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(wt===2||wt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&cr(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||di(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&cr(a),fr(n)){case 2:case 8:n=so;break;case 32:n=_a;break;case 268435456:n=oo;break;default:n=_a}return a=xd.bind(null,t),n=rr(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&cr(a),t.callbackPriority=2,t.callbackNode=null,2}function xd(t,e){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(gu()&&t.callbackNode!==n)return null;var a=_t;return a=Ea(t,t===Rt?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(ld(t,a,e),Sd(t,ye()),t.callbackNode!=null&&t.callbackNode===n?xd.bind(null,t):null)}function Ed(t,e){if(gu())return null;ld(t,e,!0)}function Zp(){ig(function(){(Ct&6)!==0?rr(co,Qp):bd()})}function Wc(){if(Un===0){var t=Ll;t===0&&(t=ba,ba<<=1,(ba&261888)===0&&(ba=256)),Un=t}return Un}function Ad(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function Cd(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Kp(t,e,n,a,c){if(e==="submit"&&n&&n.stateNode===c){var s=Ad((c[ue]||null).action),d=a.submitter;d&&(e=(e=d[ue]||null)?Ad(e.formAction):d.getAttribute("formAction"),e!==null&&(s=e,d=null));var x=new Oa("action","action",null,a,c);t.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Un!==0){var w=d?Cd(c,d):new FormData(c);gc(n,{pending:!0,data:w,method:c.method,action:s},null,w)}}else typeof s=="function"&&(x.preventDefault(),w=d?Cd(c,d):new FormData(c),gc(n,{pending:!0,data:w,method:c.method,action:s},s,w))},currentTarget:c}]})}}for(var Ic=0;Ic<Hr.length;Ic++){var Pc=Hr[Ic],Jp=Pc.toLowerCase(),kp=Pc[0].toUpperCase()+Pc.slice(1);Ue(Jp,"on"+kp)}Ue(ef,"onAnimationEnd"),Ue(nf,"onAnimationIteration"),Ue(lf,"onAnimationStart"),Ue("dblclick","onDoubleClick"),Ue("focusin","onFocus"),Ue("focusout","onBlur"),Ue(fp,"onTransitionRun"),Ue(hp,"onTransitionStart"),Ue(dp,"onTransitionCancel"),Ue(af,"onTransitionEnd"),Al("onMouseEnter",["mouseout","mouseover"]),Al("onMouseLeave",["mouseout","mouseover"]),Al("onPointerEnter",["pointerout","pointerover"]),Al("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ki));function Td(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],c=a.event;a=a.listeners;t:{var s=void 0;if(e)for(var d=a.length-1;0<=d;d--){var x=a[d],w=x.instance,q=x.currentTarget;if(x=x.listener,w!==s&&c.isPropagationStopped())break t;s=x,c.currentTarget=q;try{s(c)}catch(V){Ha(V)}c.currentTarget=null,s=w}else for(d=0;d<a.length;d++){if(x=a[d],w=x.instance,q=x.currentTarget,x=x.listener,w!==s&&c.isPropagationStopped())break t;s=x,c.currentTarget=q;try{s(c)}catch(V){Ha(V)}c.currentTarget=null,s=w}}}}function vt(t,e){var n=e[hr];n===void 0&&(n=e[hr]=new Set);var a=t+"__bubble";n.has(a)||(wd(e,t,2,!1),n.add(a))}function ts(t,e,n){var a=0;e&&(a|=4),wd(n,t,a,e)}var bu="_reactListening"+Math.random().toString(36).slice(2);function es(t){if(!t[bu]){t[bu]=!0,_o.forEach(function(n){n!=="selectionchange"&&(Fp.has(n)||ts(n,!1,t),ts(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bu]||(e[bu]=!0,ts("selectionchange",!1,e))}}function wd(t,e,n,a){switch(n0(e)){case 2:var c=Ag;break;case 8:c=Cg;break;default:c=ps}n=c.bind(null,e,n,t),c=void 0,!Sr||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(e,n,{capture:!0,passive:c}):t.addEventListener(e,n,!0):c!==void 0?t.addEventListener(e,n,{passive:c}):t.addEventListener(e,n,!1)}function ns(t,e,n,a,c){var s=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var x=a.stateNode.containerInfo;if(x===c)break;if(d===4)for(d=a.return;d!==null;){var w=d.tag;if((w===3||w===4)&&d.stateNode.containerInfo===c)return;d=d.return}for(;x!==null;){if(d=Sl(x),d===null)return;if(w=d.tag,w===5||w===6||w===26||w===27){a=s=d;continue t}x=x.parentNode}}a=a.return}Oo(function(){var q=s,V=_r(n),K=[];t:{var L=uf.get(t);if(L!==void 0){var Y=Oa,nt=t;switch(t){case"keypress":if(za(n)===0)break t;case"keydown":case"keyup":Y=Gm;break;case"focusin":nt="focus",Y=Cr;break;case"focusout":nt="blur",Y=Cr;break;case"beforeblur":case"afterblur":Y=Cr;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Zm;break;case ef:case nf:case lf:Y=Hm;break;case af:Y=Jm;break;case"scroll":case"scrollend":Y=zm;break;case"wheel":Y=Fm;break;case"copy":case"cut":case"paste":Y=qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=qo;break;case"toggle":case"beforetoggle":Y=Im}var st=(e&4)!==0,Nt=!st&&(t==="scroll"||t==="scrollend"),R=st?L!==null?L+"Capture":null:L;st=[];for(var z=q,U;z!==null;){var Z=z;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||R===null||(Z=gi(z,R),Z!=null&&st.push(Fi(z,Z,U))),Nt)break;z=z.return}0<st.length&&(L=new Y(L,nt,null,n,V),K.push({event:L,listeners:st}))}}if((e&7)===0){t:{if(L=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",L&&n!==vr&&(nt=n.relatedTarget||n.fromElement)&&(Sl(nt)||nt[bl]))break t;if((Y||L)&&(L=V.window===V?V:(L=V.ownerDocument)?L.defaultView||L.parentWindow:window,Y?(nt=n.relatedTarget||n.toElement,Y=q,nt=nt?Sl(nt):null,nt!==null&&(Nt=f(nt),st=nt.tag,nt!==Nt||st!==5&&st!==27&&st!==6)&&(nt=null)):(Y=null,nt=q),Y!==nt)){if(st=Ho,Z="onMouseLeave",R="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(st=qo,Z="onPointerLeave",R="onPointerEnter",z="pointer"),Nt=Y==null?L:pi(Y),U=nt==null?L:pi(nt),L=new st(Z,z+"leave",Y,n,V),L.target=Nt,L.relatedTarget=U,Z=null,Sl(V)===q&&(st=new st(R,z+"enter",nt,n,V),st.target=U,st.relatedTarget=Nt,Z=st),Nt=Z,Y&&nt)e:{for(st=Wp,R=Y,z=nt,U=0,Z=R;Z;Z=st(Z))U++;Z=0;for(var ut=z;ut;ut=st(ut))Z++;for(;0<U-Z;)R=st(R),U--;for(;0<Z-U;)z=st(z),Z--;for(;U--;){if(R===z||z!==null&&R===z.alternate){st=R;break e}R=st(R),z=st(z)}st=null}else st=null;Y!==null&&Md(K,L,Y,st,!1),nt!==null&&Nt!==null&&Md(K,Nt,nt,st,!0)}}t:{if(L=q?pi(q):window,Y=L.nodeName&&L.nodeName.toLowerCase(),Y==="select"||Y==="input"&&L.type==="file")var Et=Vo;else if(jo(L))if(Qo)Et=cp;else{Et=up;var at=ap}else Y=L.nodeName,!Y||Y.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?q&&gr(q.elementType)&&(Et=Vo):Et=rp;if(Et&&(Et=Et(t,q))){Go(K,Et,n,V);break t}at&&at(t,L,q),t==="focusout"&&q&&L.type==="number"&&q.memoizedProps.value!=null&&pr(L,"number",L.value)}switch(at=q?pi(q):window,t){case"focusin":(jo(at)||at.contentEditable==="true")&&(Dl=at,Or=q,Ci=null);break;case"focusout":Ci=Or=Dl=null;break;case"mousedown":Nr=!0;break;case"contextmenu":case"mouseup":case"dragend":Nr=!1,Po(K,n,V);break;case"selectionchange":if(op)break;case"keydown":case"keyup":Po(K,n,V)}var pt;if(wr)t:{switch(t){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else zl?Yo(t,n)&&(bt="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(bt="onCompositionStart");bt&&(Bo&&n.locale!=="ko"&&(zl||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&zl&&(pt=No()):(_n=V,xr="value"in _n?_n.value:_n.textContent,zl=!0)),at=Su(q,bt),0<at.length&&(bt=new Uo(bt,t,null,n,V),K.push({event:bt,listeners:at}),pt?bt.data=pt:(pt=Xo(n),pt!==null&&(bt.data=pt)))),(pt=tp?ep(t,n):np(t,n))&&(bt=Su(q,"onBeforeInput"),0<bt.length&&(at=new Uo("onBeforeInput","beforeinput",null,n,V),K.push({event:at,listeners:bt}),at.data=pt)),Kp(K,t,q,n,V)}Td(K,e)})}function Fi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Su(t,e){for(var n=e+"Capture",a=[];t!==null;){var c=t,s=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||s===null||(c=gi(t,n),c!=null&&a.unshift(Fi(t,c,s)),c=gi(t,e),c!=null&&a.push(Fi(t,c,s))),t.tag===3)return a;t=t.return}return[]}function Wp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Md(t,e,n,a,c){for(var s=e._reactName,d=[];n!==null&&n!==a;){var x=n,w=x.alternate,q=x.stateNode;if(x=x.tag,w!==null&&w===a)break;x!==5&&x!==26&&x!==27||q===null||(w=q,c?(q=gi(n,s),q!=null&&d.unshift(Fi(n,q,w))):c||(q=gi(n,s),q!=null&&d.push(Fi(n,q,w)))),n=n.return}d.length!==0&&t.push({event:e,listeners:d})}var Ip=/\r\n?/g,Pp=/\u0000|\uFFFD/g;function zd(t){return(typeof t=="string"?t:""+t).replace(Ip,`
`).replace(Pp,"")}function Dd(t,e){return e=zd(e),zd(t)===e}function Ot(t,e,n,a,c,s){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Tl(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Tl(t,""+a);break;case"className":Ca(t,"class",a);break;case"tabIndex":Ca(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ca(t,n,a);break;case"style":zo(t,a,s);break;case"data":if(e!=="object"){Ca(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=wa(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Ot(t,e,"name",c.name,c,null),Ot(t,e,"formEncType",c.formEncType,c,null),Ot(t,e,"formMethod",c.formMethod,c,null),Ot(t,e,"formTarget",c.formTarget,c,null)):(Ot(t,e,"encType",c.encType,c,null),Ot(t,e,"method",c.method,c,null),Ot(t,e,"target",c.target,c,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=wa(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=ke);break;case"onScroll":a!=null&&vt("scroll",t);break;case"onScrollEnd":a!=null&&vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=wa(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":vt("beforetoggle",t),vt("toggle",t),Aa(t,"popover",a);break;case"xlinkActuate":Je(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Je(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Je(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Je(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Je(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Je(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Je(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Je(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Je(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Aa(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=wm.get(n)||n,Aa(t,n,a))}}function ls(t,e,n,a,c,s){switch(n){case"style":zo(t,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=n}}break;case"children":typeof a=="string"?Tl(t,a):(typeof a=="number"||typeof a=="bigint")&&Tl(t,""+a);break;case"onScroll":a!=null&&vt("scroll",t);break;case"onScrollEnd":a!=null&&vt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=ke);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),e=n.slice(2,c?n.length-7:void 0),s=t[ue]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,c),typeof a=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,c);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):Aa(t,n,a)}}}function ee(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",t),vt("load",t);var a=!1,c=!1,s;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"src":a=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Ot(t,e,s,d,n,null)}}c&&Ot(t,e,"srcSet",n.srcSet,n,null),a&&Ot(t,e,"src",n.src,n,null);return;case"input":vt("invalid",t);var x=s=d=c=null,w=null,q=null;for(a in n)if(n.hasOwnProperty(a)){var V=n[a];if(V!=null)switch(a){case"name":c=V;break;case"type":d=V;break;case"checked":w=V;break;case"defaultChecked":q=V;break;case"value":s=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,e));break;default:Ot(t,e,a,V,n,null)}}Co(t,s,x,w,q,d,c,!1);return;case"select":vt("invalid",t),a=d=s=null;for(c in n)if(n.hasOwnProperty(c)&&(x=n[c],x!=null))switch(c){case"value":s=x;break;case"defaultValue":d=x;break;case"multiple":a=x;default:Ot(t,e,c,x,n,null)}e=s,n=d,t.multiple=!!a,e!=null?Cl(t,!!a,e,!1):n!=null&&Cl(t,!!a,n,!0);return;case"textarea":vt("invalid",t),s=c=a=null;for(d in n)if(n.hasOwnProperty(d)&&(x=n[d],x!=null))switch(d){case"value":a=x;break;case"defaultValue":c=x;break;case"children":s=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Ot(t,e,d,x,n,null)}wo(t,a,c,s);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(a=n[w],a!=null))switch(w){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ot(t,e,w,a,n,null)}return;case"dialog":vt("beforetoggle",t),vt("toggle",t),vt("cancel",t),vt("close",t);break;case"iframe":case"object":vt("load",t);break;case"video":case"audio":for(a=0;a<ki.length;a++)vt(ki[a],t);break;case"image":vt("error",t),vt("load",t);break;case"details":vt("toggle",t);break;case"embed":case"source":case"link":vt("error",t),vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in n)if(n.hasOwnProperty(q)&&(a=n[q],a!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Ot(t,e,q,a,n,null)}return;default:if(gr(e)){for(V in n)n.hasOwnProperty(V)&&(a=n[V],a!==void 0&&ls(t,e,V,a,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(a=n[x],a!=null&&Ot(t,e,x,a,n,null))}function tg(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,s=null,d=null,x=null,w=null,q=null,V=null;for(Y in n){var K=n[Y];if(n.hasOwnProperty(Y)&&K!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":w=K;default:a.hasOwnProperty(Y)||Ot(t,e,Y,null,a,K)}}for(var L in a){var Y=a[L];if(K=n[L],a.hasOwnProperty(L)&&(Y!=null||K!=null))switch(L){case"type":s=Y;break;case"name":c=Y;break;case"checked":q=Y;break;case"defaultChecked":V=Y;break;case"value":d=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,e));break;default:Y!==K&&Ot(t,e,L,Y,a,K)}}mr(t,d,x,w,q,V,s,c);return;case"select":Y=d=x=L=null;for(s in n)if(w=n[s],n.hasOwnProperty(s)&&w!=null)switch(s){case"value":break;case"multiple":Y=w;default:a.hasOwnProperty(s)||Ot(t,e,s,null,a,w)}for(c in a)if(s=a[c],w=n[c],a.hasOwnProperty(c)&&(s!=null||w!=null))switch(c){case"value":L=s;break;case"defaultValue":x=s;break;case"multiple":d=s;default:s!==w&&Ot(t,e,c,s,a,w)}e=x,n=d,a=Y,L!=null?Cl(t,!!n,L,!1):!!a!=!!n&&(e!=null?Cl(t,!!n,e,!0):Cl(t,!!n,n?[]:"",!1));return;case"textarea":Y=L=null;for(x in n)if(c=n[x],n.hasOwnProperty(x)&&c!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ot(t,e,x,null,a,c)}for(d in a)if(c=a[d],s=n[d],a.hasOwnProperty(d)&&(c!=null||s!=null))switch(d){case"value":L=c;break;case"defaultValue":Y=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==s&&Ot(t,e,d,c,a,s)}To(t,L,Y);return;case"option":for(var nt in n)if(L=n[nt],n.hasOwnProperty(nt)&&L!=null&&!a.hasOwnProperty(nt))switch(nt){case"selected":t.selected=!1;break;default:Ot(t,e,nt,null,a,L)}for(w in a)if(L=a[w],Y=n[w],a.hasOwnProperty(w)&&L!==Y&&(L!=null||Y!=null))switch(w){case"selected":t.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Ot(t,e,w,L,a,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in n)L=n[st],n.hasOwnProperty(st)&&L!=null&&!a.hasOwnProperty(st)&&Ot(t,e,st,null,a,L);for(q in a)if(L=a[q],Y=n[q],a.hasOwnProperty(q)&&L!==Y&&(L!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,e));break;default:Ot(t,e,q,L,a,Y)}return;default:if(gr(e)){for(var Nt in n)L=n[Nt],n.hasOwnProperty(Nt)&&L!==void 0&&!a.hasOwnProperty(Nt)&&ls(t,e,Nt,void 0,a,L);for(V in a)L=a[V],Y=n[V],!a.hasOwnProperty(V)||L===Y||L===void 0&&Y===void 0||ls(t,e,V,L,a,Y);return}}for(var R in n)L=n[R],n.hasOwnProperty(R)&&L!=null&&!a.hasOwnProperty(R)&&Ot(t,e,R,null,a,L);for(K in a)L=a[K],Y=n[K],!a.hasOwnProperty(K)||L===Y||L==null&&Y==null||Ot(t,e,K,L,a,Y)}function Od(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eg(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var c=n[a],s=c.transferSize,d=c.initiatorType,x=c.duration;if(s&&x&&Od(d)){for(d=0,x=c.responseEnd,a+=1;a<n.length;a++){var w=n[a],q=w.startTime;if(q>x)break;var V=w.transferSize,K=w.initiatorType;V&&Od(K)&&(w=w.responseEnd,d+=V*(w<x?1:(x-q)/(w-q)))}if(--a,e+=8*(s+d)/(c.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var is=null,as=null;function xu(t){return t.nodeType===9?t:t.ownerDocument}function Nd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rd(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function us(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rs=null;function ng(){var t=window.event;return t&&t.type==="popstate"?t===rs?!1:(rs=t,!0):(rs=null,!1)}var Hd=typeof setTimeout=="function"?setTimeout:void 0,lg=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,ig=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(t){return Ud.resolve(null).then(t).catch(ag)}:Hd;function ag(t){setTimeout(function(){throw t})}function qn(t){return t==="head"}function qd(t,e){var n=e,a=0;do{var c=n.nextSibling;if(t.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(c),li(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Wi(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Wi(n);for(var s=n.firstChild;s;){var d=s.nextSibling,x=s.nodeName;s[mi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=d}}else n==="body"&&Wi(t.ownerDocument.body);n=c}while(n);li(e)}function Bd(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function cs(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":cs(n),dr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function ug(t,e,n,a){for(;t.nodeType===1;){var c=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[mi])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Re(t.nextSibling),t===null)break}return null}function rg(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Re(t.nextSibling),t===null))return null;return t}function Ld(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Re(t.nextSibling),t===null))return null;return t}function ss(t){return t.data==="$?"||t.data==="$~"}function os(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function cg(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Re(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var fs=null;function $d(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Re(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Yd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Xd(t,e,n){switch(e=xu(n),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Wi(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);dr(t)}var He=new Map,jd=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hn=N.d;N.d={f:sg,r:og,D:fg,C:hg,L:dg,m:yg,X:pg,S:mg,M:gg};function sg(){var t=hn.f(),e=yu();return t||e}function og(t){var e=xl(t);e!==null&&e.tag===5&&e.type==="form"?ah(e):hn.r(t)}var ti=typeof document>"u"?null:document;function Gd(t,e,n){var a=ti;if(a&&typeof e=="string"&&e){var c=Te(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),jd.has(c)||(jd.add(c),t={rel:t,crossOrigin:n,href:e},a.querySelector(c)===null&&(e=a.createElement("link"),ee(e,"link",t),kt(e),a.head.appendChild(e)))}}function fg(t){hn.D(t),Gd("dns-prefetch",t,null)}function hg(t,e){hn.C(t,e),Gd("preconnect",t,e)}function dg(t,e,n){hn.L(t,e,n);var a=ti;if(a&&t&&e){var c='link[rel="preload"][as="'+Te(e)+'"]';e==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Te(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Te(n.imageSizes)+'"]')):c+='[href="'+Te(t)+'"]';var s=c;switch(e){case"style":s=ei(t);break;case"script":s=ni(t)}He.has(s)||(t=g({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),He.set(s,t),a.querySelector(c)!==null||e==="style"&&a.querySelector(Ii(s))||e==="script"&&a.querySelector(Pi(s))||(e=a.createElement("link"),ee(e,"link",t),kt(e),a.head.appendChild(e)))}}function yg(t,e){hn.m(t,e);var n=ti;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+Te(a)+'"][href="'+Te(t)+'"]',s=c;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ni(t)}if(!He.has(s)&&(t=g({rel:"modulepreload",href:t},e),He.set(s,t),n.querySelector(c)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pi(s)))return}a=n.createElement("link"),ee(a,"link",t),kt(a),n.head.appendChild(a)}}}function mg(t,e,n){hn.S(t,e,n);var a=ti;if(a&&t){var c=El(a).hoistableStyles,s=ei(t);e=e||"default";var d=c.get(s);if(!d){var x={loading:0,preload:null};if(d=a.querySelector(Ii(s)))x.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":e},n),(n=He.get(s))&&hs(t,n);var w=d=a.createElement("link");kt(w),ee(w,"link",t),w._p=new Promise(function(q,V){w.onload=q,w.onerror=V}),w.addEventListener("load",function(){x.loading|=1}),w.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Au(d,e,a)}d={type:"stylesheet",instance:d,count:1,state:x},c.set(s,d)}}}function pg(t,e){hn.X(t,e);var n=ti;if(n&&t){var a=El(n).hoistableScripts,c=ni(t),s=a.get(c);s||(s=n.querySelector(Pi(c)),s||(t=g({src:t,async:!0},e),(e=He.get(c))&&ds(t,e),s=n.createElement("script"),kt(s),ee(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(c,s))}}function gg(t,e){hn.M(t,e);var n=ti;if(n&&t){var a=El(n).hoistableScripts,c=ni(t),s=a.get(c);s||(s=n.querySelector(Pi(c)),s||(t=g({src:t,async:!0,type:"module"},e),(e=He.get(c))&&ds(t,e),s=n.createElement("script"),kt(s),ee(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(c,s))}}function Vd(t,e,n,a){var c=(c=ct.current)?Eu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ei(n.href),n=El(c).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ei(n.href);var s=El(c).hoistableStyles,d=s.get(t);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,d),(s=c.querySelector(Ii(t)))&&!s._p&&(d.instance=s,d.state.loading=5),He.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},He.set(t,n),s||vg(c,t,n,d.state))),e&&a===null)throw Error(r(528,""));return d}if(e&&a!==null)throw Error(r(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ni(n),n=El(c).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ei(t){return'href="'+Te(t)+'"'}function Ii(t){return'link[rel="stylesheet"]['+t+"]"}function Qd(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function vg(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),ee(e,"link",n),kt(e),t.head.appendChild(e))}function ni(t){return'[src="'+Te(t)+'"]'}function Pi(t){return"script[async]"+t}function Zd(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+Te(n.href)+'"]');if(a)return e.instance=a,kt(a),a;var c=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),kt(a),ee(a,"style",c),Au(a,n.precedence,t),e.instance=a;case"stylesheet":c=ei(n.href);var s=t.querySelector(Ii(c));if(s)return e.state.loading|=4,e.instance=s,kt(s),s;a=Qd(n),(c=He.get(c))&&hs(a,c),s=(t.ownerDocument||t).createElement("link"),kt(s);var d=s;return d._p=new Promise(function(x,w){d.onload=x,d.onerror=w}),ee(s,"link",a),e.state.loading|=4,Au(s,n.precedence,t),e.instance=s;case"script":return s=ni(n.src),(c=t.querySelector(Pi(s)))?(e.instance=c,kt(c),c):(a=n,(c=He.get(s))&&(a=g({},n),ds(a,c)),t=t.ownerDocument||t,c=t.createElement("script"),kt(c),ee(c,"link",a),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,Au(a,n.precedence,t));return e.instance}function Au(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=a.length?a[a.length-1]:null,s=c,d=0;d<a.length;d++){var x=a[d];if(x.dataset.precedence===e)s=x;else if(s!==c)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function hs(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ds(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Cu=null;function Kd(t,e,n){if(Cu===null){var a=new Map,c=Cu=new Map;c.set(n,a)}else c=Cu,a=c.get(n),a||(a=new Map,c.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),c=0;c<n.length;c++){var s=n[c];if(!(s[mi]||s[Wt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var d=s.getAttribute(e)||"";d=t+d;var x=a.get(d);x?x.push(s):a.set(d,[s])}}return a}function Jd(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function _g(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function kd(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function bg(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ei(a.href),s=e.querySelector(Ii(c));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Tu.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,kt(s);return}s=e.ownerDocument||e,a=Qd(a),(c=He.get(c))&&hs(a,c),s=s.createElement("link"),kt(s);var d=s;d._p=new Promise(function(x,w){d.onload=x,d.onerror=w}),ee(s,"link",a),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=Tu.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var ys=0;function Sg(t,e){return t.stylesheets&&t.count===0&&Mu(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&ys===0&&(ys=62500*eg());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>ys?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(c)}}:null}function Tu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wu=null;function Mu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wu=new Map,e.forEach(xg,t),wu=null,Tu.call(t))}function xg(t,e){if(!(e.state.loading&4)){var n=wu.get(t);if(n)var a=n.get(null);else{n=new Map,wu.set(t,n);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<c.length;s++){var d=c[s];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),a=d)}a&&n.set(null,a)}c=e.instance,d=c.getAttribute("data-precedence"),s=n.get(d)||a,s===a&&n.set(null,c),n.set(d,c),this.count++,a=Tu.bind(this),c.addEventListener("load",a),c.addEventListener("error",a),s?s.parentNode.insertBefore(c,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var ta={$$typeof:G,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Eg(t,e,n,a,c,s,d,x,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sr(0),this.hiddenUpdates=sr(null),this.identifierPrefix=a,this.onUncaughtError=c,this.onCaughtError=s,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Fd(t,e,n,a,c,s,d,x,w,q,V,K){return t=new Eg(t,e,n,d,w,q,V,K,x),e=1,s===!0&&(e|=24),s=ve(3,null,null,e),t.current=s,s.stateNode=t,e=Kr(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:e},Wr(s),t}function Wd(t){return t?(t=Rl,t):Rl}function Id(t,e,n,a,c,s){c=Wd(c),a.context===null?a.context=c:a.pendingContext=c,a=Cn(e),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=Tn(t,a,e),n!==null&&(he(n,t,e),Ni(n,t,e))}function Pd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ms(t,e){Pd(t,e),(t=t.alternate)&&Pd(t,e)}function t0(t){if(t.tag===13||t.tag===31){var e=Fn(t,67108864);e!==null&&he(e,t,67108864),ms(t,67108864)}}function e0(t){if(t.tag===13||t.tag===31){var e=Ee();e=or(e);var n=Fn(t,e);n!==null&&he(n,t,e),ms(t,e)}}var zu=!0;function Ag(t,e,n,a){var c=A.T;A.T=null;var s=N.p;try{N.p=2,ps(t,e,n,a)}finally{N.p=s,A.T=c}}function Cg(t,e,n,a){var c=A.T;A.T=null;var s=N.p;try{N.p=8,ps(t,e,n,a)}finally{N.p=s,A.T=c}}function ps(t,e,n,a){if(zu){var c=gs(a);if(c===null)ns(t,e,a,Du,n),l0(t,a);else if(wg(c,t,e,n,a))a.stopPropagation();else if(l0(t,a),e&4&&-1<Tg.indexOf(t)){for(;c!==null;){var s=xl(c);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var d=Qn(s.pendingLanes);if(d!==0){var x=s;for(x.pendingLanes|=2,x.entangledLanes|=2;d;){var w=1<<31-pe(d);x.entanglements[1]|=w,d&=~w}Ge(s),(Ct&6)===0&&(hu=ye()+500,Ji(0))}}break;case 31:case 13:x=Fn(s,2),x!==null&&he(x,s,2),yu(),ms(s,2)}if(s=gs(a),s===null&&ns(t,e,a,Du,n),s===c)break;c=s}c!==null&&a.stopPropagation()}else ns(t,e,a,null,n)}}function gs(t){return t=_r(t),vs(t)}var Du=null;function vs(t){if(Du=null,t=Sl(t),t!==null){var e=f(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=h(e),t!==null)return t;t=null}else if(n===31){if(t=y(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Du=t,null}function n0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fm()){case co:return 2;case so:return 8;case _a:case hm:return 32;case oo:return 268435456;default:return 32}default:return 32}}var _s=!1,Bn=null,Ln=null,$n=null,ea=new Map,na=new Map,Yn=[],Tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l0(t,e){switch(t){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(e.pointerId)}}function la(t,e,n,a,c,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[c]},e!==null&&(e=xl(e),e!==null&&t0(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function wg(t,e,n,a,c){switch(e){case"focusin":return Bn=la(Bn,t,e,n,a,c),!0;case"dragenter":return Ln=la(Ln,t,e,n,a,c),!0;case"mouseover":return $n=la($n,t,e,n,a,c),!0;case"pointerover":var s=c.pointerId;return ea.set(s,la(ea.get(s)||null,t,e,n,a,c)),!0;case"gotpointercapture":return s=c.pointerId,na.set(s,la(na.get(s)||null,t,e,n,a,c)),!0}return!1}function i0(t){var e=Sl(t.target);if(e!==null){var n=f(e);if(n!==null){if(e=n.tag,e===13){if(e=h(n),e!==null){t.blockedOn=e,go(t.priority,function(){e0(n)});return}}else if(e===31){if(e=y(n),e!==null){t.blockedOn=e,go(t.priority,function(){e0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gs(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);vr=a,n.target.dispatchEvent(a),vr=null}else return e=xl(n),e!==null&&t0(e),t.blockedOn=n,!1;e.shift()}return!0}function a0(t,e,n){Ou(t)&&n.delete(e)}function Mg(){_s=!1,Bn!==null&&Ou(Bn)&&(Bn=null),Ln!==null&&Ou(Ln)&&(Ln=null),$n!==null&&Ou($n)&&($n=null),ea.forEach(a0),na.forEach(a0)}function Nu(t,e){t.blockedOn===e&&(t.blockedOn=null,_s||(_s=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Mg)))}var Ru=null;function u0(t){Ru!==t&&(Ru=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ru===t&&(Ru=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],c=t[e+2];if(typeof a!="function"){if(vs(a||n)===null)continue;break}var s=xl(n);s!==null&&(t.splice(e,3),e-=3,gc(s,{pending:!0,data:c,method:n.method,action:a},a,c))}}))}function li(t){function e(w){return Nu(w,t)}Bn!==null&&Nu(Bn,t),Ln!==null&&Nu(Ln,t),$n!==null&&Nu($n,t),ea.forEach(e),na.forEach(e);for(var n=0;n<Yn.length;n++){var a=Yn[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)i0(n),n.blockedOn===null&&Yn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var c=n[a],s=n[a+1],d=c[ue]||null;if(typeof s=="function")d||u0(n);else if(d){var x=null;if(s&&s.hasAttribute("formAction")){if(c=s,d=s[ue]||null)x=d.formAction;else if(vs(c)!==null)continue}else x=d.action;typeof x=="function"?n[a+1]=x:(n.splice(a,3),a-=3),u0(n)}}}function r0(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(d){return c=d})},focusReset:"manual",scroll:"manual"})}function e(){c!==null&&(c(),c=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),c!==null&&(c(),c=null)}}}function bs(t){this._internalRoot=t}Hu.prototype.render=bs.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var n=e.current,a=Ee();Id(n,a,t,e,null,null)},Hu.prototype.unmount=bs.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Id(t.current,2,null,t,null,null),yu(),e[bl]=null}};function Hu(t){this._internalRoot=t}Hu.prototype.unstable_scheduleHydration=function(t){if(t){var e=po();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yn.length&&e!==0&&e<Yn[n].priority;n++);Yn.splice(n,0,t),n===0&&i0(t)}};var c0=i.version;if(c0!=="19.2.1")throw Error(r(527,c0,"19.2.1"));N.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(e),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var zg={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{hi=Uu.inject(zg),me=Uu}catch{}}return aa.createRoot=function(t,e){if(!o(t))throw Error(r(299));var n=!1,a="",c=mh,s=ph,d=gh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(d=e.onRecoverableError)),e=Fd(t,1,!1,null,null,n,a,null,c,s,d,r0),t[bl]=e.current,es(t),new bs(e)},aa.hydrateRoot=function(t,e,n){if(!o(t))throw Error(r(299));var a=!1,c="",s=mh,d=ph,x=gh,w=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),e=Fd(t,1,!0,e,n??null,a,c,w,s,d,x,r0),e.context=Wd(null),n=e.current,a=Ee(),a=or(a),c=Cn(a),c.callback=null,Tn(n,c,a),n=a,e.current.lanes=n,yi(e,n),Ge(e),t[bl]=e.current,es(t),new Hu(e)},aa.version="19.2.1",aa}var v0;function $g(){if(v0)return Es.exports;v0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),Es.exports=Lg(),Es.exports}var Yg=$g();function Us(l,i){let u,r;if(i===void 0)for(const o of l)o!=null&&(u===void 0?o>=o&&(u=r=o):(u>o&&(u=o),r<o&&(r=o)));else{let o=-1;for(let f of l)(f=i(f,++o,l))!=null&&(u===void 0?f>=f&&(u=r=f):(u>f&&(u=f),r<f&&(r=f)))}return[u,r]}var Xg={value:()=>{}};function ks(){for(var l=0,i=arguments.length,u={},r;l<i;++l){if(!(r=arguments[l]+"")||r in u||/[\s.]/.test(r))throw new Error("illegal type: "+r);u[r]=[]}return new Gu(u)}function Gu(l){this._=l}function jg(l,i){return l.trim().split(/^|\s+/).map(function(u){var r="",o=u.indexOf(".");if(o>=0&&(r=u.slice(o+1),u=u.slice(0,o)),u&&!i.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:r}})}Gu.prototype=ks.prototype={constructor:Gu,on:function(l,i){var u=this._,r=jg(l+"",u),o,f=-1,h=r.length;if(arguments.length<2){for(;++f<h;)if((o=(l=r[f]).type)&&(o=Gg(u[o],l.name)))return o;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++f<h;)if(o=(l=r[f]).type)u[o]=_0(u[o],l.name,i);else if(i==null)for(o in u)u[o]=_0(u[o],l.name,null);return this},copy:function(){var l={},i=this._;for(var u in i)l[u]=i[u].slice();return new Gu(l)},call:function(l,i){if((o=arguments.length-2)>0)for(var u=new Array(o),r=0,o,f;r<o;++r)u[r]=arguments[r+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(f=this._[l],r=0,o=f.length;r<o;++r)f[r].value.apply(i,u)},apply:function(l,i,u){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var r=this._[l],o=0,f=r.length;o<f;++o)r[o].value.apply(i,u)}};function Gg(l,i){for(var u=0,r=l.length,o;u<r;++u)if((o=l[u]).name===i)return o.value}function _0(l,i,u){for(var r=0,o=l.length;r<o;++r)if(l[r].name===i){l[r]=Xg,l=l.slice(0,r).concat(l.slice(r+1));break}return u!=null&&l.push({name:i,value:u}),l}var qs="http://www.w3.org/1999/xhtml";const b0={svg:"http://www.w3.org/2000/svg",xhtml:qs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function er(l){var i=l+="",u=i.indexOf(":");return u>=0&&(i=l.slice(0,u))!=="xmlns"&&(l=l.slice(u+1)),b0.hasOwnProperty(i)?{space:b0[i],local:l}:l}function Vg(l){return function(){var i=this.ownerDocument,u=this.namespaceURI;return u===qs&&i.documentElement.namespaceURI===qs?i.createElement(l):i.createElementNS(u,l)}}function Qg(l){return function(){return this.ownerDocument.createElementNS(l.space,l.local)}}function Fs(l){var i=er(l);return(i.local?Qg:Vg)(i)}function Zg(){}function Ws(l){return l==null?Zg:function(){return this.querySelector(l)}}function Kg(l){typeof l!="function"&&(l=Ws(l));for(var i=this._groups,u=i.length,r=new Array(u),o=0;o<u;++o)for(var f=i[o],h=f.length,y=r[o]=new Array(h),p,m,S=0;S<h;++S)(p=f[S])&&(m=l.call(p,p.__data__,S,f))&&("__data__"in p&&(m.__data__=p.__data__),y[S]=m);return new Ae(r,this._parents)}function Jg(l){return l==null?[]:Array.isArray(l)?l:Array.from(l)}function kg(){return[]}function ly(l){return l==null?kg:function(){return this.querySelectorAll(l)}}function Fg(l){return function(){return Jg(l.apply(this,arguments))}}function Wg(l){typeof l=="function"?l=Fg(l):l=ly(l);for(var i=this._groups,u=i.length,r=[],o=[],f=0;f<u;++f)for(var h=i[f],y=h.length,p,m=0;m<y;++m)(p=h[m])&&(r.push(l.call(p,p.__data__,m,h)),o.push(p));return new Ae(r,o)}function iy(l){return function(){return this.matches(l)}}function ay(l){return function(i){return i.matches(l)}}var Ig=Array.prototype.find;function Pg(l){return function(){return Ig.call(this.children,l)}}function tv(){return this.firstElementChild}function ev(l){return this.select(l==null?tv:Pg(typeof l=="function"?l:ay(l)))}var nv=Array.prototype.filter;function lv(){return Array.from(this.children)}function iv(l){return function(){return nv.call(this.children,l)}}function av(l){return this.selectAll(l==null?lv:iv(typeof l=="function"?l:ay(l)))}function uv(l){typeof l!="function"&&(l=iy(l));for(var i=this._groups,u=i.length,r=new Array(u),o=0;o<u;++o)for(var f=i[o],h=f.length,y=r[o]=[],p,m=0;m<h;++m)(p=f[m])&&l.call(p,p.__data__,m,f)&&y.push(p);return new Ae(r,this._parents)}function uy(l){return new Array(l.length)}function rv(){return new Ae(this._enter||this._groups.map(uy),this._parents)}function Ju(l,i){this.ownerDocument=l.ownerDocument,this.namespaceURI=l.namespaceURI,this._next=null,this._parent=l,this.__data__=i}Ju.prototype={constructor:Ju,appendChild:function(l){return this._parent.insertBefore(l,this._next)},insertBefore:function(l,i){return this._parent.insertBefore(l,i)},querySelector:function(l){return this._parent.querySelector(l)},querySelectorAll:function(l){return this._parent.querySelectorAll(l)}};function cv(l){return function(){return l}}function sv(l,i,u,r,o,f){for(var h=0,y,p=i.length,m=f.length;h<m;++h)(y=i[h])?(y.__data__=f[h],r[h]=y):u[h]=new Ju(l,f[h]);for(;h<p;++h)(y=i[h])&&(o[h]=y)}function ov(l,i,u,r,o,f,h){var y,p,m=new Map,S=i.length,g=f.length,v=new Array(S),_;for(y=0;y<S;++y)(p=i[y])&&(v[y]=_=h.call(p,p.__data__,y,i)+"",m.has(_)?o[y]=p:m.set(_,p));for(y=0;y<g;++y)_=h.call(l,f[y],y,f)+"",(p=m.get(_))?(r[y]=p,p.__data__=f[y],m.delete(_)):u[y]=new Ju(l,f[y]);for(y=0;y<S;++y)(p=i[y])&&m.get(v[y])===p&&(o[y]=p)}function fv(l){return l.__data__}function hv(l,i){if(!arguments.length)return Array.from(this,fv);var u=i?ov:sv,r=this._parents,o=this._groups;typeof l!="function"&&(l=cv(l));for(var f=o.length,h=new Array(f),y=new Array(f),p=new Array(f),m=0;m<f;++m){var S=r[m],g=o[m],v=g.length,_=dv(l.call(S,S&&S.__data__,m,r)),b=_.length,E=y[m]=new Array(b),C=h[m]=new Array(b),M=p[m]=new Array(v);u(S,g,E,C,M,_,i);for(var X=0,G=0,F,H;X<b;++X)if(F=E[X]){for(X>=G&&(G=X+1);!(H=C[G])&&++G<b;);F._next=H||null}}return h=new Ae(h,r),h._enter=y,h._exit=p,h}function dv(l){return typeof l=="object"&&"length"in l?l:Array.from(l)}function yv(){return new Ae(this._exit||this._groups.map(uy),this._parents)}function mv(l,i,u){var r=this.enter(),o=this,f=this.exit();return typeof l=="function"?(r=l(r),r&&(r=r.selection())):r=r.append(l+""),i!=null&&(o=i(o),o&&(o=o.selection())),u==null?f.remove():u(f),r&&o?r.merge(o).order():o}function pv(l){for(var i=l.selection?l.selection():l,u=this._groups,r=i._groups,o=u.length,f=r.length,h=Math.min(o,f),y=new Array(o),p=0;p<h;++p)for(var m=u[p],S=r[p],g=m.length,v=y[p]=new Array(g),_,b=0;b<g;++b)(_=m[b]||S[b])&&(v[b]=_);for(;p<o;++p)y[p]=u[p];return new Ae(y,this._parents)}function gv(){for(var l=this._groups,i=-1,u=l.length;++i<u;)for(var r=l[i],o=r.length-1,f=r[o],h;--o>=0;)(h=r[o])&&(f&&h.compareDocumentPosition(f)^4&&f.parentNode.insertBefore(h,f),f=h);return this}function vv(l){l||(l=_v);function i(g,v){return g&&v?l(g.__data__,v.__data__):!g-!v}for(var u=this._groups,r=u.length,o=new Array(r),f=0;f<r;++f){for(var h=u[f],y=h.length,p=o[f]=new Array(y),m,S=0;S<y;++S)(m=h[S])&&(p[S]=m);p.sort(i)}return new Ae(o,this._parents).order()}function _v(l,i){return l<i?-1:l>i?1:l>=i?0:NaN}function bv(){var l=arguments[0];return arguments[0]=this,l.apply(null,arguments),this}function Sv(){return Array.from(this)}function xv(){for(var l=this._groups,i=0,u=l.length;i<u;++i)for(var r=l[i],o=0,f=r.length;o<f;++o){var h=r[o];if(h)return h}return null}function Ev(){let l=0;for(const i of this)++l;return l}function Av(){return!this.node()}function Cv(l){for(var i=this._groups,u=0,r=i.length;u<r;++u)for(var o=i[u],f=0,h=o.length,y;f<h;++f)(y=o[f])&&l.call(y,y.__data__,f,o);return this}function Tv(l){return function(){this.removeAttribute(l)}}function wv(l){return function(){this.removeAttributeNS(l.space,l.local)}}function Mv(l,i){return function(){this.setAttribute(l,i)}}function zv(l,i){return function(){this.setAttributeNS(l.space,l.local,i)}}function Dv(l,i){return function(){var u=i.apply(this,arguments);u==null?this.removeAttribute(l):this.setAttribute(l,u)}}function Ov(l,i){return function(){var u=i.apply(this,arguments);u==null?this.removeAttributeNS(l.space,l.local):this.setAttributeNS(l.space,l.local,u)}}function Nv(l,i){var u=er(l);if(arguments.length<2){var r=this.node();return u.local?r.getAttributeNS(u.space,u.local):r.getAttribute(u)}return this.each((i==null?u.local?wv:Tv:typeof i=="function"?u.local?Ov:Dv:u.local?zv:Mv)(u,i))}function ry(l){return l.ownerDocument&&l.ownerDocument.defaultView||l.document&&l||l.defaultView}function Rv(l){return function(){this.style.removeProperty(l)}}function Hv(l,i,u){return function(){this.style.setProperty(l,i,u)}}function Uv(l,i,u){return function(){var r=i.apply(this,arguments);r==null?this.style.removeProperty(l):this.style.setProperty(l,r,u)}}function qv(l,i,u){return arguments.length>1?this.each((i==null?Rv:typeof i=="function"?Uv:Hv)(l,i,u??"")):ui(this.node(),l)}function ui(l,i){return l.style.getPropertyValue(i)||ry(l).getComputedStyle(l,null).getPropertyValue(i)}function Bv(l){return function(){delete this[l]}}function Lv(l,i){return function(){this[l]=i}}function $v(l,i){return function(){var u=i.apply(this,arguments);u==null?delete this[l]:this[l]=u}}function Yv(l,i){return arguments.length>1?this.each((i==null?Bv:typeof i=="function"?$v:Lv)(l,i)):this.node()[l]}function cy(l){return l.trim().split(/^|\s+/)}function Is(l){return l.classList||new sy(l)}function sy(l){this._node=l,this._names=cy(l.getAttribute("class")||"")}sy.prototype={add:function(l){var i=this._names.indexOf(l);i<0&&(this._names.push(l),this._node.setAttribute("class",this._names.join(" ")))},remove:function(l){var i=this._names.indexOf(l);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(l){return this._names.indexOf(l)>=0}};function oy(l,i){for(var u=Is(l),r=-1,o=i.length;++r<o;)u.add(i[r])}function fy(l,i){for(var u=Is(l),r=-1,o=i.length;++r<o;)u.remove(i[r])}function Xv(l){return function(){oy(this,l)}}function jv(l){return function(){fy(this,l)}}function Gv(l,i){return function(){(i.apply(this,arguments)?oy:fy)(this,l)}}function Vv(l,i){var u=cy(l+"");if(arguments.length<2){for(var r=Is(this.node()),o=-1,f=u.length;++o<f;)if(!r.contains(u[o]))return!1;return!0}return this.each((typeof i=="function"?Gv:i?Xv:jv)(u,i))}function Qv(){this.textContent=""}function Zv(l){return function(){this.textContent=l}}function Kv(l){return function(){var i=l.apply(this,arguments);this.textContent=i??""}}function Jv(l){return arguments.length?this.each(l==null?Qv:(typeof l=="function"?Kv:Zv)(l)):this.node().textContent}function kv(){this.innerHTML=""}function Fv(l){return function(){this.innerHTML=l}}function Wv(l){return function(){var i=l.apply(this,arguments);this.innerHTML=i??""}}function Iv(l){return arguments.length?this.each(l==null?kv:(typeof l=="function"?Wv:Fv)(l)):this.node().innerHTML}function Pv(){this.nextSibling&&this.parentNode.appendChild(this)}function t1(){return this.each(Pv)}function e1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function n1(){return this.each(e1)}function l1(l){var i=typeof l=="function"?l:Fs(l);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function i1(){return null}function a1(l,i){var u=typeof l=="function"?l:Fs(l),r=i==null?i1:typeof i=="function"?i:Ws(i);return this.select(function(){return this.insertBefore(u.apply(this,arguments),r.apply(this,arguments)||null)})}function u1(){var l=this.parentNode;l&&l.removeChild(this)}function r1(){return this.each(u1)}function c1(){var l=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(l,this.nextSibling):l}function s1(){var l=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(l,this.nextSibling):l}function o1(l){return this.select(l?s1:c1)}function f1(l){return arguments.length?this.property("__data__",l):this.node().__data__}function h1(l){return function(i){l.call(this,i,this.__data__)}}function d1(l){return l.trim().split(/^|\s+/).map(function(i){var u="",r=i.indexOf(".");return r>=0&&(u=i.slice(r+1),i=i.slice(0,r)),{type:i,name:u}})}function y1(l){return function(){var i=this.__on;if(i){for(var u=0,r=-1,o=i.length,f;u<o;++u)f=i[u],(!l.type||f.type===l.type)&&f.name===l.name?this.removeEventListener(f.type,f.listener,f.options):i[++r]=f;++r?i.length=r:delete this.__on}}}function m1(l,i,u){return function(){var r=this.__on,o,f=h1(i);if(r){for(var h=0,y=r.length;h<y;++h)if((o=r[h]).type===l.type&&o.name===l.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=f,o.options=u),o.value=i;return}}this.addEventListener(l.type,f,u),o={type:l.type,name:l.name,value:i,listener:f,options:u},r?r.push(o):this.__on=[o]}}function p1(l,i,u){var r=d1(l+""),o,f=r.length,h;if(arguments.length<2){var y=this.node().__on;if(y){for(var p=0,m=y.length,S;p<m;++p)for(o=0,S=y[p];o<f;++o)if((h=r[o]).type===S.type&&h.name===S.name)return S.value}return}for(y=i?m1:y1,o=0;o<f;++o)this.each(y(r[o],i,u));return this}function hy(l,i,u){var r=ry(l),o=r.CustomEvent;typeof o=="function"?o=new o(i,u):(o=r.document.createEvent("Event"),u?(o.initEvent(i,u.bubbles,u.cancelable),o.detail=u.detail):o.initEvent(i,!1,!1)),l.dispatchEvent(o)}function g1(l,i){return function(){return hy(this,l,i)}}function v1(l,i){return function(){return hy(this,l,i.apply(this,arguments))}}function _1(l,i){return this.each((typeof i=="function"?v1:g1)(l,i))}function*b1(){for(var l=this._groups,i=0,u=l.length;i<u;++i)for(var r=l[i],o=0,f=r.length,h;o<f;++o)(h=r[o])&&(yield h)}var dy=[null];function Ae(l,i){this._groups=l,this._parents=i}function ga(){return new Ae([[document.documentElement]],dy)}function S1(){return this}Ae.prototype=ga.prototype={constructor:Ae,select:Kg,selectAll:Wg,selectChild:ev,selectChildren:av,filter:uv,data:hv,enter:rv,exit:yv,join:mv,merge:pv,selection:S1,order:gv,sort:vv,call:bv,nodes:Sv,node:xv,size:Ev,empty:Av,each:Cv,attr:Nv,style:qv,property:Yv,classed:Vv,text:Jv,html:Iv,raise:t1,lower:n1,append:l1,insert:a1,remove:r1,clone:o1,datum:f1,on:p1,dispatch:_1,[Symbol.iterator]:b1};function P(l){return typeof l=="string"?new Ae([[document.querySelector(l)]],[document.documentElement]):new Ae([[l]],dy)}function ml(l){return P(Fs(l).call(document.documentElement))}function x1(l){let i;for(;i=l.sourceEvent;)l=i;return l}function sl(l,i){if(l=x1(l),i===void 0&&(i=l.currentTarget),i){var u=i.ownerSVGElement||i;if(u.createSVGPoint){var r=u.createSVGPoint();return r.x=l.clientX,r.y=l.clientY,r=r.matrixTransform(i.getScreenCTM().inverse()),[r.x,r.y]}if(i.getBoundingClientRect){var o=i.getBoundingClientRect();return[l.clientX-o.left-i.clientLeft,l.clientY-o.top-i.clientTop]}}return[l.pageX,l.pageY]}const Bs={capture:!0,passive:!1};function Ls(l){l.preventDefault(),l.stopImmediatePropagation()}function E1(l){var i=l.document.documentElement,u=P(l).on("dragstart.drag",Ls,Bs);"onselectstart"in i?u.on("selectstart.drag",Ls,Bs):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function A1(l,i){var u=l.document.documentElement,r=P(l).on("dragstart.drag",null);i&&(r.on("click.drag",Ls,Bs),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in u?r.on("selectstart.drag",null):(u.style.MozUserSelect=u.__noselect,delete u.__noselect)}function Ps(l,i,u){l.prototype=i.prototype=u,u.constructor=l}function yy(l,i){var u=Object.create(l.prototype);for(var r in i)u[r]=i[r];return u}function va(){}var fa=.7,ku=1/fa,ai="\\s*([+-]?\\d+)\\s*",ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",C1=/^#([0-9a-f]{3,8})$/,T1=new RegExp(`^rgb\\(${ai},${ai},${ai}\\)$`),w1=new RegExp(`^rgb\\(${Ve},${Ve},${Ve}\\)$`),M1=new RegExp(`^rgba\\(${ai},${ai},${ai},${ha}\\)$`),z1=new RegExp(`^rgba\\(${Ve},${Ve},${Ve},${ha}\\)$`),D1=new RegExp(`^hsl\\(${ha},${Ve},${Ve}\\)$`),O1=new RegExp(`^hsla\\(${ha},${Ve},${Ve},${ha}\\)$`),S0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ps(va,da,{copy(l){return Object.assign(new this.constructor,this,l)},displayable(){return this.rgb().displayable()},hex:x0,formatHex:x0,formatHex8:N1,formatHsl:R1,formatRgb:E0,toString:E0});function x0(){return this.rgb().formatHex()}function N1(){return this.rgb().formatHex8()}function R1(){return my(this).formatHsl()}function E0(){return this.rgb().formatRgb()}function da(l){var i,u;return l=(l+"").trim().toLowerCase(),(i=C1.exec(l))?(u=i[1].length,i=parseInt(i[1],16),u===6?A0(i):u===3?new de(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):u===8?qu(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):u===4?qu(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=T1.exec(l))?new de(i[1],i[2],i[3],1):(i=w1.exec(l))?new de(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=M1.exec(l))?qu(i[1],i[2],i[3],i[4]):(i=z1.exec(l))?qu(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=D1.exec(l))?w0(i[1],i[2]/100,i[3]/100,1):(i=O1.exec(l))?w0(i[1],i[2]/100,i[3]/100,i[4]):S0.hasOwnProperty(l)?A0(S0[l]):l==="transparent"?new de(NaN,NaN,NaN,0):null}function A0(l){return new de(l>>16&255,l>>8&255,l&255,1)}function qu(l,i,u,r){return r<=0&&(l=i=u=NaN),new de(l,i,u,r)}function H1(l){return l instanceof va||(l=da(l)),l?(l=l.rgb(),new de(l.r,l.g,l.b,l.opacity)):new de}function $s(l,i,u,r){return arguments.length===1?H1(l):new de(l,i,u,r??1)}function de(l,i,u,r){this.r=+l,this.g=+i,this.b=+u,this.opacity=+r}Ps(de,$s,yy(va,{brighter(l){return l=l==null?ku:Math.pow(ku,l),new de(this.r*l,this.g*l,this.b*l,this.opacity)},darker(l){return l=l==null?fa:Math.pow(fa,l),new de(this.r*l,this.g*l,this.b*l,this.opacity)},rgb(){return this},clamp(){return new de(hl(this.r),hl(this.g),hl(this.b),Fu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C0,formatHex:C0,formatHex8:U1,formatRgb:T0,toString:T0}));function C0(){return`#${fl(this.r)}${fl(this.g)}${fl(this.b)}`}function U1(){return`#${fl(this.r)}${fl(this.g)}${fl(this.b)}${fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function T0(){const l=Fu(this.opacity);return`${l===1?"rgb(":"rgba("}${hl(this.r)}, ${hl(this.g)}, ${hl(this.b)}${l===1?")":`, ${l})`}`}function Fu(l){return isNaN(l)?1:Math.max(0,Math.min(1,l))}function hl(l){return Math.max(0,Math.min(255,Math.round(l)||0))}function fl(l){return l=hl(l),(l<16?"0":"")+l.toString(16)}function w0(l,i,u,r){return r<=0?l=i=u=NaN:u<=0||u>=1?l=i=NaN:i<=0&&(l=NaN),new Le(l,i,u,r)}function my(l){if(l instanceof Le)return new Le(l.h,l.s,l.l,l.opacity);if(l instanceof va||(l=da(l)),!l)return new Le;if(l instanceof Le)return l;l=l.rgb();var i=l.r/255,u=l.g/255,r=l.b/255,o=Math.min(i,u,r),f=Math.max(i,u,r),h=NaN,y=f-o,p=(f+o)/2;return y?(i===f?h=(u-r)/y+(u<r)*6:u===f?h=(r-i)/y+2:h=(i-u)/y+4,y/=p<.5?f+o:2-f-o,h*=60):y=p>0&&p<1?0:h,new Le(h,y,p,l.opacity)}function q1(l,i,u,r){return arguments.length===1?my(l):new Le(l,i,u,r??1)}function Le(l,i,u,r){this.h=+l,this.s=+i,this.l=+u,this.opacity=+r}Ps(Le,q1,yy(va,{brighter(l){return l=l==null?ku:Math.pow(ku,l),new Le(this.h,this.s,this.l*l,this.opacity)},darker(l){return l=l==null?fa:Math.pow(fa,l),new Le(this.h,this.s,this.l*l,this.opacity)},rgb(){var l=this.h%360+(this.h<0)*360,i=isNaN(l)||isNaN(this.s)?0:this.s,u=this.l,r=u+(u<.5?u:1-u)*i,o=2*u-r;return new de(ws(l>=240?l-240:l+120,o,r),ws(l,o,r),ws(l<120?l+240:l-120,o,r),this.opacity)},clamp(){return new Le(M0(this.h),Bu(this.s),Bu(this.l),Fu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const l=Fu(this.opacity);return`${l===1?"hsl(":"hsla("}${M0(this.h)}, ${Bu(this.s)*100}%, ${Bu(this.l)*100}%${l===1?")":`, ${l})`}`}}));function M0(l){return l=(l||0)%360,l<0?l+360:l}function Bu(l){return Math.max(0,Math.min(1,l||0))}function ws(l,i,u){return(l<60?i+(u-i)*l/60:l<180?u:l<240?i+(u-i)*(240-l)/60:i)*255}const py=l=>()=>l;function B1(l,i){return function(u){return l+u*i}}function L1(l,i,u){return l=Math.pow(l,u),i=Math.pow(i,u)-l,u=1/u,function(r){return Math.pow(l+r*i,u)}}function $1(l){return(l=+l)==1?gy:function(i,u){return u-i?L1(i,u,l):py(isNaN(i)?u:i)}}function gy(l,i){var u=i-l;return u?B1(l,u):py(isNaN(l)?i:l)}const z0=(function l(i){var u=$1(i);function r(o,f){var h=u((o=$s(o)).r,(f=$s(f)).r),y=u(o.g,f.g),p=u(o.b,f.b),m=gy(o.opacity,f.opacity);return function(S){return o.r=h(S),o.g=y(S),o.b=p(S),o.opacity=m(S),o+""}}return r.gamma=l,r})(1);function jn(l,i){return l=+l,i=+i,function(u){return l*(1-u)+i*u}}var Ys=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ms=new RegExp(Ys.source,"g");function Y1(l){return function(){return l}}function X1(l){return function(i){return l(i)+""}}function j1(l,i){var u=Ys.lastIndex=Ms.lastIndex=0,r,o,f,h=-1,y=[],p=[];for(l=l+"",i=i+"";(r=Ys.exec(l))&&(o=Ms.exec(i));)(f=o.index)>u&&(f=i.slice(u,f),y[h]?y[h]+=f:y[++h]=f),(r=r[0])===(o=o[0])?y[h]?y[h]+=o:y[++h]=o:(y[++h]=null,p.push({i:h,x:jn(r,o)})),u=Ms.lastIndex;return u<i.length&&(f=i.slice(u),y[h]?y[h]+=f:y[++h]=f),y.length<2?p[0]?X1(p[0].x):Y1(i):(i=p.length,function(m){for(var S=0,g;S<i;++S)y[(g=p[S]).i]=g.x(m);return y.join("")})}var D0=180/Math.PI,Xs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vy(l,i,u,r,o,f){var h,y,p;return(h=Math.sqrt(l*l+i*i))&&(l/=h,i/=h),(p=l*u+i*r)&&(u-=l*p,r-=i*p),(y=Math.sqrt(u*u+r*r))&&(u/=y,r/=y,p/=y),l*r<i*u&&(l=-l,i=-i,p=-p,h=-h),{translateX:o,translateY:f,rotate:Math.atan2(i,l)*D0,skewX:Math.atan(p)*D0,scaleX:h,scaleY:y}}var Lu;function G1(l){const i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(l+"");return i.isIdentity?Xs:vy(i.a,i.b,i.c,i.d,i.e,i.f)}function V1(l){return l==null||(Lu||(Lu=document.createElementNS("http://www.w3.org/2000/svg","g")),Lu.setAttribute("transform",l),!(l=Lu.transform.baseVal.consolidate()))?Xs:(l=l.matrix,vy(l.a,l.b,l.c,l.d,l.e,l.f))}function _y(l,i,u,r){function o(m){return m.length?m.pop()+" ":""}function f(m,S,g,v,_,b){if(m!==g||S!==v){var E=_.push("translate(",null,i,null,u);b.push({i:E-4,x:jn(m,g)},{i:E-2,x:jn(S,v)})}else(g||v)&&_.push("translate("+g+i+v+u)}function h(m,S,g,v){m!==S?(m-S>180?S+=360:S-m>180&&(m+=360),v.push({i:g.push(o(g)+"rotate(",null,r)-2,x:jn(m,S)})):S&&g.push(o(g)+"rotate("+S+r)}function y(m,S,g,v){m!==S?v.push({i:g.push(o(g)+"skewX(",null,r)-2,x:jn(m,S)}):S&&g.push(o(g)+"skewX("+S+r)}function p(m,S,g,v,_,b){if(m!==g||S!==v){var E=_.push(o(_)+"scale(",null,",",null,")");b.push({i:E-4,x:jn(m,g)},{i:E-2,x:jn(S,v)})}else(g!==1||v!==1)&&_.push(o(_)+"scale("+g+","+v+")")}return function(m,S){var g=[],v=[];return m=l(m),S=l(S),f(m.translateX,m.translateY,S.translateX,S.translateY,g,v),h(m.rotate,S.rotate,g,v),y(m.skewX,S.skewX,g,v),p(m.scaleX,m.scaleY,S.scaleX,S.scaleY,g,v),m=S=null,function(_){for(var b=-1,E=v.length,C;++b<E;)g[(C=v[b]).i]=C.x(_);return g.join("")}}}var Q1=_y(G1,"px, ","px)","deg)"),Z1=_y(V1,", ",")",")"),K1=1e-12;function O0(l){return((l=Math.exp(l))+1/l)/2}function J1(l){return((l=Math.exp(l))-1/l)/2}function k1(l){return((l=Math.exp(2*l))-1)/(l+1)}const F1=(function l(i,u,r){function o(f,h){var y=f[0],p=f[1],m=f[2],S=h[0],g=h[1],v=h[2],_=S-y,b=g-p,E=_*_+b*b,C,M;if(E<K1)M=Math.log(v/m)/i,C=function(Q){return[y+Q*_,p+Q*b,m*Math.exp(i*Q*M)]};else{var X=Math.sqrt(E),G=(v*v-m*m+r*E)/(2*m*u*X),F=(v*v-m*m-r*E)/(2*v*u*X),H=Math.log(Math.sqrt(G*G+1)-G),W=Math.log(Math.sqrt(F*F+1)-F);M=(W-H)/i,C=function(Q){var et=Q*M,lt=O0(H),tt=m/(u*X)*(lt*k1(i*et+H)-J1(H));return[y+tt*_,p+tt*b,m*lt/O0(i*et+H)]}}return C.duration=M*1e3*i/Math.SQRT2,C}return o.rho=function(f){var h=Math.max(.001,+f),y=h*h,p=y*y;return l(h,y,p)},o})(Math.SQRT2,2,4);var ri=0,ca=0,ua=0,by=1e3,Wu,sa,Iu=0,pl=0,nr=0,ya=typeof performance=="object"&&performance.now?performance:Date,Sy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(l){setTimeout(l,17)};function to(){return pl||(Sy(W1),pl=ya.now()+nr)}function W1(){pl=0}function Pu(){this._call=this._time=this._next=null}Pu.prototype=xy.prototype={constructor:Pu,restart:function(l,i,u){if(typeof l!="function")throw new TypeError("callback is not a function");u=(u==null?to():+u)+(i==null?0:+i),!this._next&&sa!==this&&(sa?sa._next=this:Wu=this,sa=this),this._call=l,this._time=u,js()},stop:function(){this._call&&(this._call=null,this._time=1/0,js())}};function xy(l,i,u){var r=new Pu;return r.restart(l,i,u),r}function I1(){to(),++ri;for(var l=Wu,i;l;)(i=pl-l._time)>=0&&l._call.call(void 0,i),l=l._next;--ri}function N0(){pl=(Iu=ya.now())+nr,ri=ca=0;try{I1()}finally{ri=0,t_(),pl=0}}function P1(){var l=ya.now(),i=l-Iu;i>by&&(nr-=i,Iu=l)}function t_(){for(var l,i=Wu,u,r=1/0;i;)i._call?(r>i._time&&(r=i._time),l=i,i=i._next):(u=i._next,i._next=null,i=l?l._next=u:Wu=u);sa=l,js(r)}function js(l){if(!ri){ca&&(ca=clearTimeout(ca));var i=l-pl;i>24?(l<1/0&&(ca=setTimeout(N0,l-ya.now()-nr)),ua&&(ua=clearInterval(ua))):(ua||(Iu=ya.now(),ua=setInterval(P1,by)),ri=1,Sy(N0))}}function R0(l,i,u){var r=new Pu;return i=i==null?0:+i,r.restart(o=>{r.stop(),l(o+i)},i,u),r}var e_=ks("start","end","cancel","interrupt"),n_=[],Ey=0,H0=1,Gs=2,Vu=3,U0=4,Vs=5,Qu=6;function lr(l,i,u,r,o,f){var h=l.__transition;if(!h)l.__transition={};else if(u in h)return;l_(l,u,{name:i,index:r,group:o,on:e_,tween:n_,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:Ey})}function eo(l,i){var u=$e(l,i);if(u.state>Ey)throw new Error("too late; already scheduled");return u}function Ze(l,i){var u=$e(l,i);if(u.state>Vu)throw new Error("too late; already running");return u}function $e(l,i){var u=l.__transition;if(!u||!(u=u[i]))throw new Error("transition not found");return u}function l_(l,i,u){var r=l.__transition,o;r[i]=u,u.timer=xy(f,0,u.time);function f(m){u.state=H0,u.timer.restart(h,u.delay,u.time),u.delay<=m&&h(m-u.delay)}function h(m){var S,g,v,_;if(u.state!==H0)return p();for(S in r)if(_=r[S],_.name===u.name){if(_.state===Vu)return R0(h);_.state===U0?(_.state=Qu,_.timer.stop(),_.on.call("interrupt",l,l.__data__,_.index,_.group),delete r[S]):+S<i&&(_.state=Qu,_.timer.stop(),_.on.call("cancel",l,l.__data__,_.index,_.group),delete r[S])}if(R0(function(){u.state===Vu&&(u.state=U0,u.timer.restart(y,u.delay,u.time),y(m))}),u.state=Gs,u.on.call("start",l,l.__data__,u.index,u.group),u.state===Gs){for(u.state=Vu,o=new Array(v=u.tween.length),S=0,g=-1;S<v;++S)(_=u.tween[S].value.call(l,l.__data__,u.index,u.group))&&(o[++g]=_);o.length=g+1}}function y(m){for(var S=m<u.duration?u.ease.call(null,m/u.duration):(u.timer.restart(p),u.state=Vs,1),g=-1,v=o.length;++g<v;)o[g].call(l,S);u.state===Vs&&(u.on.call("end",l,l.__data__,u.index,u.group),p())}function p(){u.state=Qu,u.timer.stop(),delete r[i];for(var m in r)return;delete l.__transition}}function Zu(l,i){var u=l.__transition,r,o,f=!0,h;if(u){i=i==null?null:i+"";for(h in u){if((r=u[h]).name!==i){f=!1;continue}o=r.state>Gs&&r.state<Vs,r.state=Qu,r.timer.stop(),r.on.call(o?"interrupt":"cancel",l,l.__data__,r.index,r.group),delete u[h]}f&&delete l.__transition}}function i_(l){return this.each(function(){Zu(this,l)})}function a_(l,i){var u,r;return function(){var o=Ze(this,l),f=o.tween;if(f!==u){r=u=f;for(var h=0,y=r.length;h<y;++h)if(r[h].name===i){r=r.slice(),r.splice(h,1);break}}o.tween=r}}function u_(l,i,u){var r,o;if(typeof u!="function")throw new Error;return function(){var f=Ze(this,l),h=f.tween;if(h!==r){o=(r=h).slice();for(var y={name:i,value:u},p=0,m=o.length;p<m;++p)if(o[p].name===i){o[p]=y;break}p===m&&o.push(y)}f.tween=o}}function r_(l,i){var u=this._id;if(l+="",arguments.length<2){for(var r=$e(this.node(),u).tween,o=0,f=r.length,h;o<f;++o)if((h=r[o]).name===l)return h.value;return null}return this.each((i==null?a_:u_)(u,l,i))}function no(l,i,u){var r=l._id;return l.each(function(){var o=Ze(this,r);(o.value||(o.value={}))[i]=u.apply(this,arguments)}),function(o){return $e(o,r).value[i]}}function Ay(l,i){var u;return(typeof i=="number"?jn:i instanceof da?z0:(u=da(i))?(i=u,z0):j1)(l,i)}function c_(l){return function(){this.removeAttribute(l)}}function s_(l){return function(){this.removeAttributeNS(l.space,l.local)}}function o_(l,i,u){var r,o=u+"",f;return function(){var h=this.getAttribute(l);return h===o?null:h===r?f:f=i(r=h,u)}}function f_(l,i,u){var r,o=u+"",f;return function(){var h=this.getAttributeNS(l.space,l.local);return h===o?null:h===r?f:f=i(r=h,u)}}function h_(l,i,u){var r,o,f;return function(){var h,y=u(this),p;return y==null?void this.removeAttribute(l):(h=this.getAttribute(l),p=y+"",h===p?null:h===r&&p===o?f:(o=p,f=i(r=h,y)))}}function d_(l,i,u){var r,o,f;return function(){var h,y=u(this),p;return y==null?void this.removeAttributeNS(l.space,l.local):(h=this.getAttributeNS(l.space,l.local),p=y+"",h===p?null:h===r&&p===o?f:(o=p,f=i(r=h,y)))}}function y_(l,i){var u=er(l),r=u==="transform"?Z1:Ay;return this.attrTween(l,typeof i=="function"?(u.local?d_:h_)(u,r,no(this,"attr."+l,i)):i==null?(u.local?s_:c_)(u):(u.local?f_:o_)(u,r,i))}function m_(l,i){return function(u){this.setAttribute(l,i.call(this,u))}}function p_(l,i){return function(u){this.setAttributeNS(l.space,l.local,i.call(this,u))}}function g_(l,i){var u,r;function o(){var f=i.apply(this,arguments);return f!==r&&(u=(r=f)&&p_(l,f)),u}return o._value=i,o}function v_(l,i){var u,r;function o(){var f=i.apply(this,arguments);return f!==r&&(u=(r=f)&&m_(l,f)),u}return o._value=i,o}function __(l,i){var u="attr."+l;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(i==null)return this.tween(u,null);if(typeof i!="function")throw new Error;var r=er(l);return this.tween(u,(r.local?g_:v_)(r,i))}function b_(l,i){return function(){eo(this,l).delay=+i.apply(this,arguments)}}function S_(l,i){return i=+i,function(){eo(this,l).delay=i}}function x_(l){var i=this._id;return arguments.length?this.each((typeof l=="function"?b_:S_)(i,l)):$e(this.node(),i).delay}function E_(l,i){return function(){Ze(this,l).duration=+i.apply(this,arguments)}}function A_(l,i){return i=+i,function(){Ze(this,l).duration=i}}function C_(l){var i=this._id;return arguments.length?this.each((typeof l=="function"?E_:A_)(i,l)):$e(this.node(),i).duration}function T_(l,i){if(typeof i!="function")throw new Error;return function(){Ze(this,l).ease=i}}function w_(l){var i=this._id;return arguments.length?this.each(T_(i,l)):$e(this.node(),i).ease}function M_(l,i){return function(){var u=i.apply(this,arguments);if(typeof u!="function")throw new Error;Ze(this,l).ease=u}}function z_(l){if(typeof l!="function")throw new Error;return this.each(M_(this._id,l))}function D_(l){typeof l!="function"&&(l=iy(l));for(var i=this._groups,u=i.length,r=new Array(u),o=0;o<u;++o)for(var f=i[o],h=f.length,y=r[o]=[],p,m=0;m<h;++m)(p=f[m])&&l.call(p,p.__data__,m,f)&&y.push(p);return new mn(r,this._parents,this._name,this._id)}function O_(l){if(l._id!==this._id)throw new Error;for(var i=this._groups,u=l._groups,r=i.length,o=u.length,f=Math.min(r,o),h=new Array(r),y=0;y<f;++y)for(var p=i[y],m=u[y],S=p.length,g=h[y]=new Array(S),v,_=0;_<S;++_)(v=p[_]||m[_])&&(g[_]=v);for(;y<r;++y)h[y]=i[y];return new mn(h,this._parents,this._name,this._id)}function N_(l){return(l+"").trim().split(/^|\s+/).every(function(i){var u=i.indexOf(".");return u>=0&&(i=i.slice(0,u)),!i||i==="start"})}function R_(l,i,u){var r,o,f=N_(i)?eo:Ze;return function(){var h=f(this,l),y=h.on;y!==r&&(o=(r=y).copy()).on(i,u),h.on=o}}function H_(l,i){var u=this._id;return arguments.length<2?$e(this.node(),u).on.on(l):this.each(R_(u,l,i))}function U_(l){return function(){var i=this.parentNode;for(var u in this.__transition)if(+u!==l)return;i&&i.removeChild(this)}}function q_(){return this.on("end.remove",U_(this._id))}function B_(l){var i=this._name,u=this._id;typeof l!="function"&&(l=Ws(l));for(var r=this._groups,o=r.length,f=new Array(o),h=0;h<o;++h)for(var y=r[h],p=y.length,m=f[h]=new Array(p),S,g,v=0;v<p;++v)(S=y[v])&&(g=l.call(S,S.__data__,v,y))&&("__data__"in S&&(g.__data__=S.__data__),m[v]=g,lr(m[v],i,u,v,m,$e(S,u)));return new mn(f,this._parents,i,u)}function L_(l){var i=this._name,u=this._id;typeof l!="function"&&(l=ly(l));for(var r=this._groups,o=r.length,f=[],h=[],y=0;y<o;++y)for(var p=r[y],m=p.length,S,g=0;g<m;++g)if(S=p[g]){for(var v=l.call(S,S.__data__,g,p),_,b=$e(S,u),E=0,C=v.length;E<C;++E)(_=v[E])&&lr(_,i,u,E,v,b);f.push(v),h.push(S)}return new mn(f,h,i,u)}var $_=ga.prototype.constructor;function Y_(){return new $_(this._groups,this._parents)}function X_(l,i){var u,r,o;return function(){var f=ui(this,l),h=(this.style.removeProperty(l),ui(this,l));return f===h?null:f===u&&h===r?o:o=i(u=f,r=h)}}function Cy(l){return function(){this.style.removeProperty(l)}}function j_(l,i,u){var r,o=u+"",f;return function(){var h=ui(this,l);return h===o?null:h===r?f:f=i(r=h,u)}}function G_(l,i,u){var r,o,f;return function(){var h=ui(this,l),y=u(this),p=y+"";return y==null&&(p=y=(this.style.removeProperty(l),ui(this,l))),h===p?null:h===r&&p===o?f:(o=p,f=i(r=h,y))}}function V_(l,i){var u,r,o,f="style."+i,h="end."+f,y;return function(){var p=Ze(this,l),m=p.on,S=p.value[f]==null?y||(y=Cy(i)):void 0;(m!==u||o!==S)&&(r=(u=m).copy()).on(h,o=S),p.on=r}}function Q_(l,i,u){var r=(l+="")=="transform"?Q1:Ay;return i==null?this.styleTween(l,X_(l,r)).on("end.style."+l,Cy(l)):typeof i=="function"?this.styleTween(l,G_(l,r,no(this,"style."+l,i))).each(V_(this._id,l)):this.styleTween(l,j_(l,r,i),u).on("end.style."+l,null)}function Z_(l,i,u){return function(r){this.style.setProperty(l,i.call(this,r),u)}}function K_(l,i,u){var r,o;function f(){var h=i.apply(this,arguments);return h!==o&&(r=(o=h)&&Z_(l,h,u)),r}return f._value=i,f}function J_(l,i,u){var r="style."+(l+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(i==null)return this.tween(r,null);if(typeof i!="function")throw new Error;return this.tween(r,K_(l,i,u??""))}function k_(l){return function(){this.textContent=l}}function F_(l){return function(){var i=l(this);this.textContent=i??""}}function W_(l){return this.tween("text",typeof l=="function"?F_(no(this,"text",l)):k_(l==null?"":l+""))}function I_(l){return function(i){this.textContent=l.call(this,i)}}function P_(l){var i,u;function r(){var o=l.apply(this,arguments);return o!==u&&(i=(u=o)&&I_(o)),i}return r._value=l,r}function tb(l){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(l==null)return this.tween(i,null);if(typeof l!="function")throw new Error;return this.tween(i,P_(l))}function eb(){for(var l=this._name,i=this._id,u=Ty(),r=this._groups,o=r.length,f=0;f<o;++f)for(var h=r[f],y=h.length,p,m=0;m<y;++m)if(p=h[m]){var S=$e(p,i);lr(p,l,u,m,h,{time:S.time+S.delay+S.duration,delay:0,duration:S.duration,ease:S.ease})}return new mn(r,this._parents,l,u)}function nb(){var l,i,u=this,r=u._id,o=u.size();return new Promise(function(f,h){var y={value:h},p={value:function(){--o===0&&f()}};u.each(function(){var m=Ze(this,r),S=m.on;S!==l&&(i=(l=S).copy(),i._.cancel.push(y),i._.interrupt.push(y),i._.end.push(p)),m.on=i}),o===0&&f()})}var lb=0;function mn(l,i,u,r){this._groups=l,this._parents=i,this._name=u,this._id=r}function Ty(){return++lb}var dn=ga.prototype;mn.prototype={constructor:mn,select:B_,selectAll:L_,selectChild:dn.selectChild,selectChildren:dn.selectChildren,filter:D_,merge:O_,selection:Y_,transition:eb,call:dn.call,nodes:dn.nodes,node:dn.node,size:dn.size,empty:dn.empty,each:dn.each,on:H_,attr:y_,attrTween:__,style:Q_,styleTween:J_,text:W_,textTween:tb,remove:q_,tween:r_,delay:x_,duration:C_,ease:w_,easeVarying:z_,end:nb,[Symbol.iterator]:dn[Symbol.iterator]};function wy(l){return((l*=2)<=1?l*l*l:(l-=2)*l*l+2)/2}var ib={time:null,delay:0,duration:250,ease:wy};function ab(l,i){for(var u;!(u=l.__transition)||!(u=u[i]);)if(!(l=l.parentNode))throw new Error(`transition ${i} not found`);return u}function ub(l){var i,u;l instanceof mn?(i=l._id,l=l._name):(i=Ty(),(u=ib).time=to(),l=l==null?null:l+"");for(var r=this._groups,o=r.length,f=0;f<o;++f)for(var h=r[f],y=h.length,p,m=0;m<y;++m)(p=h[m])&&lr(p,l,i,m,h,u||ab(p,i));return new mn(r,this._parents,l,i)}ga.prototype.interrupt=i_;ga.prototype.transition=ub;const Qs=Math.PI,Zs=2*Qs,ol=1e-6,rb=Zs-ol;function My(l){this._+=l[0];for(let i=1,u=l.length;i<u;++i)this._+=arguments[i]+l[i]}function cb(l){let i=Math.floor(l);if(!(i>=0))throw new Error(`invalid digits: ${l}`);if(i>15)return My;const u=10**i;return function(r){this._+=r[0];for(let o=1,f=r.length;o<f;++o)this._+=Math.round(arguments[o]*u)/u+r[o]}}class sb{constructor(i){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=i==null?My:cb(i)}moveTo(i,u){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+u}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(i,u){this._append`L${this._x1=+i},${this._y1=+u}`}quadraticCurveTo(i,u,r,o){this._append`Q${+i},${+u},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(i,u,r,o,f,h){this._append`C${+i},${+u},${+r},${+o},${this._x1=+f},${this._y1=+h}`}arcTo(i,u,r,o,f){if(i=+i,u=+u,r=+r,o=+o,f=+f,f<0)throw new Error(`negative radius: ${f}`);let h=this._x1,y=this._y1,p=r-i,m=o-u,S=h-i,g=y-u,v=S*S+g*g;if(this._x1===null)this._append`M${this._x1=i},${this._y1=u}`;else if(v>ol)if(!(Math.abs(g*p-m*S)>ol)||!f)this._append`L${this._x1=i},${this._y1=u}`;else{let _=r-h,b=o-y,E=p*p+m*m,C=_*_+b*b,M=Math.sqrt(E),X=Math.sqrt(v),G=f*Math.tan((Qs-Math.acos((E+v-C)/(2*M*X)))/2),F=G/X,H=G/M;Math.abs(F-1)>ol&&this._append`L${i+F*S},${u+F*g}`,this._append`A${f},${f},0,0,${+(g*_>S*b)},${this._x1=i+H*p},${this._y1=u+H*m}`}}arc(i,u,r,o,f,h){if(i=+i,u=+u,r=+r,h=!!h,r<0)throw new Error(`negative radius: ${r}`);let y=r*Math.cos(o),p=r*Math.sin(o),m=i+y,S=u+p,g=1^h,v=h?o-f:f-o;this._x1===null?this._append`M${m},${S}`:(Math.abs(this._x1-m)>ol||Math.abs(this._y1-S)>ol)&&this._append`L${m},${S}`,r&&(v<0&&(v=v%Zs+Zs),v>rb?this._append`A${r},${r},0,1,${g},${i-y},${u-p}A${r},${r},0,1,${g},${this._x1=m},${this._y1=S}`:v>ol&&this._append`A${r},${r},0,${+(v>=Qs)},${g},${this._x1=i+r*Math.cos(f)},${this._y1=u+r*Math.sin(f)}`)}rect(i,u,r,o){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+u}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function ob(l){var i=0,u=l.children,r=u&&u.length;if(!r)i=1;else for(;--r>=0;)i+=u[r].value;l.value=i}function fb(){return this.eachAfter(ob)}function hb(l,i){let u=-1;for(const r of this)l.call(i,r,++u,this);return this}function db(l,i){for(var u=this,r=[u],o,f,h=-1;u=r.pop();)if(l.call(i,u,++h,this),o=u.children)for(f=o.length-1;f>=0;--f)r.push(o[f]);return this}function yb(l,i){for(var u=this,r=[u],o=[],f,h,y,p=-1;u=r.pop();)if(o.push(u),f=u.children)for(h=0,y=f.length;h<y;++h)r.push(f[h]);for(;u=o.pop();)l.call(i,u,++p,this);return this}function mb(l,i){let u=-1;for(const r of this)if(l.call(i,r,++u,this))return r}function pb(l){return this.eachAfter(function(i){for(var u=+l(i.data)||0,r=i.children,o=r&&r.length;--o>=0;)u+=r[o].value;i.value=u})}function gb(l){return this.eachBefore(function(i){i.children&&i.children.sort(l)})}function vb(l){for(var i=this,u=_b(i,l),r=[i];i!==u;)i=i.parent,r.push(i);for(var o=r.length;l!==u;)r.splice(o,0,l),l=l.parent;return r}function _b(l,i){if(l===i)return l;var u=l.ancestors(),r=i.ancestors(),o=null;for(l=u.pop(),i=r.pop();l===i;)o=l,l=u.pop(),i=r.pop();return o}function bb(){for(var l=this,i=[l];l=l.parent;)i.push(l);return i}function Sb(){return Array.from(this)}function xb(){var l=[];return this.eachBefore(function(i){i.children||l.push(i)}),l}function Eb(){var l=this,i=[];return l.each(function(u){u!==l&&i.push({source:u.parent,target:u})}),i}function*Ab(){var l=this,i,u=[l],r,o,f;do for(i=u.reverse(),u=[];l=i.pop();)if(yield l,r=l.children)for(o=0,f=r.length;o<f;++o)u.push(r[o]);while(u.length)}function ci(l,i){l instanceof Map?(l=[void 0,l],i===void 0&&(i=wb)):i===void 0&&(i=Tb);for(var u=new ma(l),r,o=[u],f,h,y,p;r=o.pop();)if((h=i(r.data))&&(p=(h=Array.from(h)).length))for(r.children=h,y=p-1;y>=0;--y)o.push(f=h[y]=new ma(h[y])),f.parent=r,f.depth=r.depth+1;return u.eachBefore(zb)}function Cb(){return ci(this).eachBefore(Mb)}function Tb(l){return l.children}function wb(l){return Array.isArray(l)?l[1]:null}function Mb(l){l.data.value!==void 0&&(l.value=l.data.value),l.data=l.data.data}function zb(l){var i=0;do l.height=i;while((l=l.parent)&&l.height<++i)}function ma(l){this.data=l,this.depth=this.height=0,this.parent=null}ma.prototype=ci.prototype={constructor:ma,count:fb,each:hb,eachAfter:yb,eachBefore:db,find:mb,sum:pb,sort:gb,path:vb,ancestors:bb,descendants:Sb,leaves:xb,links:Eb,copy:Cb,[Symbol.iterator]:Ab};function Db(l,i){return l.parent===i.parent?1:2}function zs(l){var i=l.children;return i?i[0]:l.t}function Ds(l){var i=l.children;return i?i[i.length-1]:l.t}function Ob(l,i,u){var r=u/(i.i-l.i);i.c-=r,i.s+=u,l.c+=r,i.z+=u,i.m+=u}function Nb(l){for(var i=0,u=0,r=l.children,o=r.length,f;--o>=0;)f=r[o],f.z+=i,f.m+=i,i+=f.s+(u+=f.c)}function Rb(l,i,u){return l.a.parent===i.parent?l.a:u}function Ku(l,i){this._=l,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}Ku.prototype=Object.create(ma.prototype);function Hb(l){for(var i=new Ku(l,0),u,r=[i],o,f,h,y;u=r.pop();)if(f=u._.children)for(u.children=new Array(y=f.length),h=y-1;h>=0;--h)r.push(o=u.children[h]=new Ku(f[h],h)),o.parent=u;return(i.parent=new Ku(null,0)).children=[i],i}function Ub(){var l=Db,i=1,u=1,r=null;function o(m){var S=Hb(m);if(S.eachAfter(f),S.parent.m=-S.z,S.eachBefore(h),r)m.eachBefore(p);else{var g=m,v=m,_=m;m.eachBefore(function(X){X.x<g.x&&(g=X),X.x>v.x&&(v=X),X.depth>_.depth&&(_=X)});var b=g===v?1:l(g,v)/2,E=b-g.x,C=i/(v.x+b+E),M=u/(_.depth||1);m.eachBefore(function(X){X.x=(X.x+E)*C,X.y=X.depth*M})}return m}function f(m){var S=m.children,g=m.parent.children,v=m.i?g[m.i-1]:null;if(S){Nb(m);var _=(S[0].z+S[S.length-1].z)/2;v?(m.z=v.z+l(m._,v._),m.m=m.z-_):m.z=_}else v&&(m.z=v.z+l(m._,v._));m.parent.A=y(m,v,m.parent.A||g[0])}function h(m){m._.x=m.z+m.parent.m,m.m+=m.parent.m}function y(m,S,g){if(S){for(var v=m,_=m,b=S,E=v.parent.children[0],C=v.m,M=_.m,X=b.m,G=E.m,F;b=Ds(b),v=zs(v),b&&v;)E=zs(E),_=Ds(_),_.a=m,F=b.z+X-v.z-C+l(b._,v._),F>0&&(Ob(Rb(b,m,g),m,F),C+=F,M+=F),X+=b.m,C+=v.m,G+=E.m,M+=_.m;b&&!Ds(_)&&(_.t=b,_.m+=X-M),v&&!zs(E)&&(E.t=v,E.m+=C-G,g=m)}return g}function p(m){m.x*=i,m.y=m.depth*u}return o.separation=function(m){return arguments.length?(l=m,o):l},o.size=function(m){return arguments.length?(r=!1,i=+m[0],u=+m[1],o):r?null:[i,u]},o.nodeSize=function(m){return arguments.length?(r=!0,i=+m[0],u=+m[1],o):r?[i,u]:null},o}function ii(l){return function(){return l}}function qb(l){let i=3;return l.digits=function(u){if(!arguments.length)return i;if(u==null)i=null;else{const r=Math.floor(u);if(!(r>=0))throw new RangeError(`invalid digits: ${u}`);i=r}return l},()=>new sb(i)}function Bb(l){return typeof l=="object"&&"length"in l?l:Array.from(l)}function zy(l){this._context=l}zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(l,i){switch(l=+l,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,i):this._context.moveTo(l,i);break;case 1:this._point=2;default:this._context.lineTo(l,i);break}}};function Lb(l){return new zy(l)}function $b(l){return l[0]}function Yb(l){return l[1]}function q0(l,i){var u=ii(!0),r=null,o=Lb,f=null,h=qb(y);l=typeof l=="function"?l:l===void 0?$b:ii(l),i=typeof i=="function"?i:i===void 0?Yb:ii(i);function y(p){var m,S=(p=Bb(p)).length,g,v=!1,_;for(r==null&&(f=o(_=h())),m=0;m<=S;++m)!(m<S&&u(g=p[m],m,p))===v&&((v=!v)?f.lineStart():f.lineEnd()),v&&f.point(+l(g,m,p),+i(g,m,p));if(_)return f=null,_+""||null}return y.x=function(p){return arguments.length?(l=typeof p=="function"?p:ii(+p),y):l},y.y=function(p){return arguments.length?(i=typeof p=="function"?p:ii(+p),y):i},y.defined=function(p){return arguments.length?(u=typeof p=="function"?p:ii(!!p),y):u},y.curve=function(p){return arguments.length?(o=p,r!=null&&(f=o(r)),y):o},y.context=function(p){return arguments.length?(p==null?r=f=null:f=o(r=p),y):r},y}function B0(l,i,u){l._context.bezierCurveTo((2*l._x0+l._x1)/3,(2*l._y0+l._y1)/3,(l._x0+2*l._x1)/3,(l._y0+2*l._y1)/3,(l._x0+4*l._x1+i)/6,(l._y0+4*l._y1+u)/6)}function Dy(l){this._context=l}Dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:B0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(l,i){switch(l=+l,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,i):this._context.moveTo(l,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:B0(this,l,i);break}this._x0=this._x1,this._x1=l,this._y0=this._y1,this._y1=i}};function Xb(l){return new Dy(l)}function L0(l){return l<0?-1:1}function $0(l,i,u){var r=l._x1-l._x0,o=i-l._x1,f=(l._y1-l._y0)/(r||o<0&&-0),h=(u-l._y1)/(o||r<0&&-0),y=(f*o+h*r)/(r+o);return(L0(f)+L0(h))*Math.min(Math.abs(f),Math.abs(h),.5*Math.abs(y))||0}function Y0(l,i){var u=l._x1-l._x0;return u?(3*(l._y1-l._y0)/u-i)/2:i}function Os(l,i,u){var r=l._x0,o=l._y0,f=l._x1,h=l._y1,y=(f-r)/3;l._context.bezierCurveTo(r+y,o+y*i,f-y,h-y*u,f,h)}function tr(l){this._context=l}tr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Os(this,this._t0,Y0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(l,i){var u=NaN;if(l=+l,i=+i,!(l===this._x1&&i===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(l,i):this._context.moveTo(l,i);break;case 1:this._point=2;break;case 2:this._point=3,Os(this,Y0(this,u=$0(this,l,i)),u);break;default:Os(this,this._t0,u=$0(this,l,i));break}this._x0=this._x1,this._x1=l,this._y0=this._y1,this._y1=i,this._t0=u}}};function Oy(l){this._context=new Ny(l)}(Oy.prototype=Object.create(tr.prototype)).point=function(l,i){tr.prototype.point.call(this,i,l)};function Ny(l){this._context=l}Ny.prototype={moveTo:function(l,i){this._context.moveTo(i,l)},closePath:function(){this._context.closePath()},lineTo:function(l,i){this._context.lineTo(i,l)},bezierCurveTo:function(l,i,u,r,o,f){this._context.bezierCurveTo(i,l,r,u,f,o)}};function X0(l){return new tr(l)}function j0(l){return new Oy(l)}const $u=l=>()=>l;function jb(l,{sourceEvent:i,target:u,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:l,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function yn(l,i,u){this.k=l,this.x=i,this.y=u}yn.prototype={constructor:yn,scale:function(l){return l===1?this:new yn(this.k*l,this.x,this.y)},translate:function(l,i){return l===0&i===0?this:new yn(this.k,this.x+this.k*l,this.y+this.k*i)},apply:function(l){return[l[0]*this.k+this.x,l[1]*this.k+this.y]},applyX:function(l){return l*this.k+this.x},applyY:function(l){return l*this.k+this.y},invert:function(l){return[(l[0]-this.x)/this.k,(l[1]-this.y)/this.k]},invertX:function(l){return(l-this.x)/this.k},invertY:function(l){return(l-this.y)/this.k},rescaleX:function(l){return l.copy().domain(l.range().map(this.invertX,this).map(l.invert,l))},rescaleY:function(l){return l.copy().domain(l.range().map(this.invertY,this).map(l.invert,l))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lo=new yn(1,0,0);yn.prototype;function Ns(l){l.stopImmediatePropagation()}function ra(l){l.preventDefault(),l.stopImmediatePropagation()}function Gb(l){return(!l.ctrlKey||l.type==="wheel")&&!l.button}function Vb(){var l=this;return l instanceof SVGElement?(l=l.ownerSVGElement||l,l.hasAttribute("viewBox")?(l=l.viewBox.baseVal,[[l.x,l.y],[l.x+l.width,l.y+l.height]]):[[0,0],[l.width.baseVal.value,l.height.baseVal.value]]):[[0,0],[l.clientWidth,l.clientHeight]]}function G0(){return this.__zoom||lo}function Qb(l){return-l.deltaY*(l.deltaMode===1?.05:l.deltaMode?1:.002)*(l.ctrlKey?10:1)}function Zb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kb(l,i,u){var r=l.invertX(i[0][0])-u[0][0],o=l.invertX(i[1][0])-u[1][0],f=l.invertY(i[0][1])-u[0][1],h=l.invertY(i[1][1])-u[1][1];return l.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),h>f?(f+h)/2:Math.min(0,f)||Math.max(0,h))}function Jb(){var l=Gb,i=Vb,u=Kb,r=Qb,o=Zb,f=[0,1/0],h=[[-1/0,-1/0],[1/0,1/0]],y=250,p=F1,m=ks("start","zoom","end"),S,g,v,_=500,b=150,E=0,C=10;function M(D){D.property("__zoom",G0).on("wheel.zoom",et,{passive:!1}).on("mousedown.zoom",lt).on("dblclick.zoom",tt).filter(o).on("touchstart.zoom",mt).on("touchmove.zoom",ft).on("touchend.zoom touchcancel.zoom",Bt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}M.transform=function(D,O,A,N){var $=D.selection?D.selection():D;$.property("__zoom",G0),D!==$?H(D,O,A,N):$.interrupt().each(function(){W(this,arguments).event(N).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},M.scaleBy=function(D,O,A,N){M.scaleTo(D,function(){var $=this.__zoom.k,j=typeof O=="function"?O.apply(this,arguments):O;return $*j},A,N)},M.scaleTo=function(D,O,A,N){M.transform(D,function(){var $=i.apply(this,arguments),j=this.__zoom,J=A==null?F($):typeof A=="function"?A.apply(this,arguments):A,T=j.invert(J),B=typeof O=="function"?O.apply(this,arguments):O;return u(G(X(j,B),J,T),$,h)},A,N)},M.translateBy=function(D,O,A,N){M.transform(D,function(){return u(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof A=="function"?A.apply(this,arguments):A),i.apply(this,arguments),h)},null,N)},M.translateTo=function(D,O,A,N,$){M.transform(D,function(){var j=i.apply(this,arguments),J=this.__zoom,T=N==null?F(j):typeof N=="function"?N.apply(this,arguments):N;return u(lo.translate(T[0],T[1]).scale(J.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof A=="function"?-A.apply(this,arguments):-A),j,h)},N,$)};function X(D,O){return O=Math.max(f[0],Math.min(f[1],O)),O===D.k?D:new yn(O,D.x,D.y)}function G(D,O,A){var N=O[0]-A[0]*D.k,$=O[1]-A[1]*D.k;return N===D.x&&$===D.y?D:new yn(D.k,N,$)}function F(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function H(D,O,A,N){D.on("start.zoom",function(){W(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){W(this,arguments).event(N).end()}).tween("zoom",function(){var $=this,j=arguments,J=W($,j).event(N),T=i.apply($,j),B=A==null?F(T):typeof A=="function"?A.apply($,j):A,k=Math.max(T[1][0]-T[0][0],T[1][1]-T[0][1]),I=$.__zoom,it=typeof O=="function"?O.apply($,j):O,ct=p(I.invert(B).concat(k/I.k),it.invert(B).concat(k/it.k));return function(ot){if(ot===1)ot=it;else{var St=ct(ot),rt=k/St[2];ot=new yn(rt,B[0]-St[0]*rt,B[1]-St[1]*rt)}J.zoom(null,ot)}})}function W(D,O,A){return!A&&D.__zooming||new Q(D,O)}function Q(D,O){this.that=D,this.args=O,this.active=0,this.sourceEvent=null,this.extent=i.apply(D,O),this.taps=0}Q.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,O){return this.mouse&&D!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var O=P(this.that).datum();m.call(D,this.that,new jb(D,{sourceEvent:this.sourceEvent,target:M,transform:this.that.__zoom,dispatch:m}),O)}};function et(D,...O){if(!l.apply(this,arguments))return;var A=W(this,O).event(D),N=this.__zoom,$=Math.max(f[0],Math.min(f[1],N.k*Math.pow(2,r.apply(this,arguments)))),j=sl(D);if(A.wheel)(A.mouse[0][0]!==j[0]||A.mouse[0][1]!==j[1])&&(A.mouse[1]=N.invert(A.mouse[0]=j)),clearTimeout(A.wheel);else{if(N.k===$)return;A.mouse=[j,N.invert(j)],Zu(this),A.start()}ra(D),A.wheel=setTimeout(J,b),A.zoom("mouse",u(G(X(N,$),A.mouse[0],A.mouse[1]),A.extent,h));function J(){A.wheel=null,A.end()}}function lt(D,...O){if(v||!l.apply(this,arguments))return;var A=D.currentTarget,N=W(this,O,!0).event(D),$=P(D.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",k,!0),j=sl(D,A),J=D.clientX,T=D.clientY;E1(D.view),Ns(D),N.mouse=[j,this.__zoom.invert(j)],Zu(this),N.start();function B(I){if(ra(I),!N.moved){var it=I.clientX-J,ct=I.clientY-T;N.moved=it*it+ct*ct>E}N.event(I).zoom("mouse",u(G(N.that.__zoom,N.mouse[0]=sl(I,A),N.mouse[1]),N.extent,h))}function k(I){$.on("mousemove.zoom mouseup.zoom",null),A1(I.view,N.moved),ra(I),N.event(I).end()}}function tt(D,...O){if(l.apply(this,arguments)){var A=this.__zoom,N=sl(D.changedTouches?D.changedTouches[0]:D,this),$=A.invert(N),j=A.k*(D.shiftKey?.5:2),J=u(G(X(A,j),N,$),i.apply(this,O),h);ra(D),y>0?P(this).transition().duration(y).call(H,J,N,D):P(this).call(M.transform,J,N,D)}}function mt(D,...O){if(l.apply(this,arguments)){var A=D.touches,N=A.length,$=W(this,O,D.changedTouches.length===N).event(D),j,J,T,B;for(Ns(D),J=0;J<N;++J)T=A[J],B=sl(T,this),B=[B,this.__zoom.invert(B),T.identifier],$.touch0?!$.touch1&&$.touch0[2]!==B[2]&&($.touch1=B,$.taps=0):($.touch0=B,j=!0,$.taps=1+!!S);S&&(S=clearTimeout(S)),j&&($.taps<2&&(g=B[0],S=setTimeout(function(){S=null},_)),Zu(this),$.start())}}function ft(D,...O){if(this.__zooming){var A=W(this,O).event(D),N=D.changedTouches,$=N.length,j,J,T,B;for(ra(D),j=0;j<$;++j)J=N[j],T=sl(J,this),A.touch0&&A.touch0[2]===J.identifier?A.touch0[0]=T:A.touch1&&A.touch1[2]===J.identifier&&(A.touch1[0]=T);if(J=A.that.__zoom,A.touch1){var k=A.touch0[0],I=A.touch0[1],it=A.touch1[0],ct=A.touch1[1],ot=(ot=it[0]-k[0])*ot+(ot=it[1]-k[1])*ot,St=(St=ct[0]-I[0])*St+(St=ct[1]-I[1])*St;J=X(J,Math.sqrt(ot/St)),T=[(k[0]+it[0])/2,(k[1]+it[1])/2],B=[(I[0]+ct[0])/2,(I[1]+ct[1])/2]}else if(A.touch0)T=A.touch0[0],B=A.touch0[1];else return;A.zoom("touch",u(G(J,T,B),A.extent,h))}}function Bt(D,...O){if(this.__zooming){var A=W(this,O).event(D),N=D.changedTouches,$=N.length,j,J;for(Ns(D),v&&clearTimeout(v),v=setTimeout(function(){v=null},_),j=0;j<$;++j)J=N[j],A.touch0&&A.touch0[2]===J.identifier?delete A.touch0:A.touch1&&A.touch1[2]===J.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(J=sl(J,this),Math.hypot(g[0]-J[0],g[1]-J[1])<C)){var T=P(this).on("dblclick.zoom");T&&T.apply(this,arguments)}}}return M.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:$u(+D),M):r},M.filter=function(D){return arguments.length?(l=typeof D=="function"?D:$u(!!D),M):l},M.touchable=function(D){return arguments.length?(o=typeof D=="function"?D:$u(!!D),M):o},M.extent=function(D){return arguments.length?(i=typeof D=="function"?D:$u([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),M):i},M.scaleExtent=function(D){return arguments.length?(f[0]=+D[0],f[1]=+D[1],M):[f[0],f[1]]},M.translateExtent=function(D){return arguments.length?(h[0][0]=+D[0][0],h[1][0]=+D[1][0],h[0][1]=+D[0][1],h[1][1]=+D[1][1],M):[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},M.constrain=function(D){return arguments.length?(u=D,M):u},M.duration=function(D){return arguments.length?(y=+D,M):y},M.interpolate=function(D){return arguments.length?(p=D,M):p},M.on=function(){var D=m.on.apply(m,arguments);return D===m?M:D},M.clickDistance=function(D){return arguments.length?(E=(D=+D)*D,M):Math.sqrt(E)},M.tapDistance=function(D){return arguments.length?(C=+D,M):C},M}function kb(){return`
    <g data-icon="user-plus">
      ${vl()}
      <path d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z" />
    </g>
  `}function Fb(){return`
    <g data-icon="user-plus-close">
      ${vl()}
      <path d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z" />
      <line x1="3" y1="3" x2="24" y2="24" stroke="currentColor" stroke-width="2" />
    </g>
  `}function Ry(){return`
    <g data-icon="plus">
      ${vl()}
      <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
    </g>
  `}function Wb(){return`
    <g data-icon="history-back">
      ${vl()}
      <path d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
    </g>
  `}function Ib(){return`
    <g data-icon="history-forward">
      ${vl()}
      <path d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
    </g>
  `}function Pb(){return`
    <g data-icon="person">
      <path d="M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 
        64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 
        0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z" />
    </g>
  `}function t2(){return`
    <g transform="translate(31,25)" data-icon="mini-tree">
      <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
      <g>
        <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
        <line y2="-17.5" stroke="#fff" />
        <line x1="-20" x2="20" y1="-17.5" y2="-17.5" stroke="#fff" />
        <rect x="-31" y="-25" width="25" height="15" rx="5" ry="5" class="card-male" />
        <rect x="6" y="-25" width="25" height="15" rx="5" ry="5" class="card-female" />
      </g>
    </g>
  `}function e2(){return`
    <g data-icon="chevron-down">
      ${vl()}
      <path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
    </g>
  `}function n2(){return`
    <g data-icon="link-off">
      ${vl()}
      <path d="M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.43 19.12,14.63 17.79,15L19.25,16.44C20.88,15.61 22,13.95 
      22,12A5,5 0 0,0 17,7M16,11H13.81L15.81,13H16V11M2,4.27L5.11,7.38C3.29,8.12 2,9.91 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 
      3.9,13.71 3.9,12C3.9,10.41 5.11,9.1 6.66,8.93L8.73,11H8V13H10.73L13,15.27V17H14.73L18.74,21L20,19.74L3.27,3L2,4.27Z" />
    </g>
  `}function l2(){return pn(kb())}function i2(){return pn(Fb())}function a2(){return pn(Ry())}function u2(){return pn(Wb())}function r2(){return pn(Ib())}function Hy(){return pn(Pb(),"0 0 512 512")}function c2(){return pn(t2(),"0 0 72 25")}function s2(){return pn(e2())}function o2(){return pn(n2())}function pn(l,i="0 0 24 24"){const u=l.match(/data-icon="([^"]+)"/),r=u?`data-icon="${u[1]}"`:"";return`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="${i}" style="fill: currentColor" ${r}>
      ${l}
    </svg>
  `}function vl(){return`
  `}function Tt(l){return l==null?"":String(l).replace(/[&<>"'`]/g,u=>{switch(u){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#39;";case"`":return"&#96;";default:return u}})}function Uy(l){if(!l)return!1;try{const i=String(l).trim();return!!(i.startsWith("http://")||i.startsWith("https://")||i.startsWith("data:")||!/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(i))}catch{return!1}}const f2=new Set(["SCRIPT","OBJECT","EMBED","APPLET"]),h2=new Set(["href","src","xlink:href","action","formaction"]);function qy(){return typeof document<"u"&&typeof document.createElement=="function"}function d2(l,i){const u=l.trim();if(!u)return!0;const r=u.toLowerCase();return r.startsWith("javascript:")?!1:r.startsWith("data:")?i==="src"||i==="xlink:href":/^[a-z][a-z0-9+.+-]*:/.test(u)?r.startsWith("http:")||r.startsWith("https:")||r.startsWith("mailto:")||r.startsWith("tel:"):!0}function io(l){if(l.nodeType===Node.ELEMENT_NODE){const u=l,r=u.tagName.toUpperCase();if(f2.has(r)){u.remove();return}Array.from(u.attributes).forEach(o=>{const f=o.name,h=f.toLowerCase(),y=o.value;if(h.startsWith("on")){u.removeAttribute(f);return}if(h==="style"){const p=y.toLowerCase();if(p.includes("expression(")||p.includes("javascript:")){u.removeAttribute(f);return}}h2.has(h)&&(d2(y,h)||u.removeAttribute(f))})}let i=l.firstChild;for(;i;){const u=i.nextSibling;io(i),i=u}}function By(l){const i=document.createElement("template");return i.innerHTML=l,io(i.content),i.content}function Ly(l,i,u){if(!qy()){l.innerHTML=i;return}const r=l instanceof SVGElement?y2(i):By(i),o=Array.from(r.childNodes);l.replaceChildren(...o),o.length===0&&i&&u&&typeof console<"u"&&typeof console.warn=="function"&&console.warn(`Safe HTML sanitisation removed all content for ${u}. Input may contain unsupported markup.`)}function y2(l){if(typeof DOMParser>"u")return By(l);const i=new DOMParser,u=`<svg xmlns="http://www.w3.org/2000/svg">${l}</svg>`,r=i.parseFromString(u,"image/svg+xml"),o=document.createDocumentFragment(),f=r.documentElement;return Array.from(f.childNodes).forEach(h=>{const y=document.importNode(h,!0);o.appendChild(y)}),io(o),o}function si(l,i,u){l&&Ly(l,i,u)}function Vn(l){if(l){if(!qy()){l.innerHTML="";return}l.replaceChildren()}}function Qe(l,i,u){l&&l.each(function(){Ly(this,i,u)})}function m2(l){const i=l.style==="default"?m:l.style==="imageCircleRect"?p:l.style==="imageCircle"?S:l.style==="imageRect"?g:l.style==="rect"?v:m;return function(H){si(this,`
    <div class="card ${_(H).join(" ")}" data-id="${H.tid}" style="transform: translate(-50%, -50%); pointer-events: auto;">
      ${l.mini_tree?y(H):""}
      ${l.cardInnerHtmlCreator&&!H.data._new_rel_data?Tt(l.cardInnerHtmlCreator(H)):i(H)}
    </div>
    `,"CardHtml template");const Q=P(this).select(".card"),et=Q.node();et.addEventListener("click",tt=>l.onCardClick(tt,H)),!H.data.to_add&&!H.data._new_rel_data&&!H.all_rels_displayed?et.classList.add("card-has-hidden-relatives"):et.classList.remove("card-has-hidden-relatives");const lt=this.querySelector(".mini-tree");if(lt&&(lt.setAttribute("role","button"),lt.setAttribute("tabindex","0"),lt.setAttribute("aria-label","Autres proches masqus  cliquer pour centrer"),lt.setAttribute("title","Autres proches masqus  cliquer pour centrer"),lt.dataset.hiddenRelatives="true",lt.addEventListener("click",tt=>{tt.stopPropagation(),l.onMiniTreeClick&&l.onMiniTreeClick(tt,H)}),lt.addEventListener("keydown",tt=>{(tt.key==="Enter"||tt.key===" ")&&(tt.preventDefault(),tt.stopPropagation(),l.onMiniTreeClick&&l.onMiniTreeClick(tt,H))})),l.onCardUpdate&&l.onCardUpdate.call(this,H),l.onCardMouseenter&&Q.on("mouseenter",function(tt,mt){l.onCardMouseenter(tt,mt)}),l.onCardMouseleave&&Q.on("mouseleave",function(tt,mt){l.onCardMouseleave(tt,mt)}),H.duplicate&&G(this,H),location.origin.includes("localhost")){H.__node=this.querySelector(".card");const tt=H.data.data["first name"];if(H.__label=typeof tt=="string"?tt:void 0,H.data.to_add){const mt=H.spouse||H.coparent||null;if(mt){const ft=mt.data.data["first name"];typeof ft=="string"&&Q.attr("data-to-add",ft)}}}};function u(H){return`
    <div class="card-inner card-image-circle" ${b()}>
  ${F(H)}
      <div class="card-label">${f(H)}</div>
      ${H.duplicate?M(H):""}
    </div>
    `}function r(H){return`
    <div class="card-inner card-image-rect" ${b()}>
  ${F(H)}
      <div class="card-label">${f(H)}</div>
      ${H.duplicate?M(H):""}
    </div>
    `}function o(H){return`
    <div class="card-inner card-rect" ${b()}>
      ${f(H)}
      ${H.duplicate?M(H):""}
    </div>
    `}function f(H){return H.data._new_rel_data?h(H):H.data.to_add?`<div>${Tt(l.empty_card_label||" AJOUTER")}</div>`:H.data.unknown?`<div>${Tt(l.unknown_card_label||"INCONNU")}</div>`:l.card_display.map(Q=>`<div>${Tt(Q(H.data))}</div>`).join("")}function h(H){const W=H.data._new_rel_data;if(!W)return"";const Q=[];Q.push(`data-rel-type="${W.rel_type}"`),["son","daughter"].includes(W.rel_type)&&W.other_parent_id&&Q.push(`data-other-parent-id="${W.other_parent_id}"`);const et=W.label||"",lt=X(et);return`<div ${Q.join(" ")}>${Tt(lt)}</div>`}function y(H){return!l.mini_tree||H.data.to_add||H.data._new_rel_data||H.all_rels_displayed?"":`<div class="mini-tree">${c2()}</div>`}function p(H){return H.data.data[l.cardImageField]?S(H):v(H)}function m(H){return r(H)}function S(H){return u(H)}function g(H){return r(H)}function v(H){return o(H)}function _(H){const W=[];return H.data.data.gender==="M"?W.push("card-male"):H.data.data.gender==="F"?W.push("card-female"):W.push("card-genderless"),W.push(`card-depth-${H.is_ancestry?-H.depth:H.depth}`),H.data.main&&W.push("card-main"),H.data._new_rel_data&&W.push("card-new-rel"),H.data.to_add&&W.push("card-to-add"),H.data.unknown&&W.push("card-unknown"),W}function b(){let H='style="';if(l.card_dim.w||l.card_dim.h)H+=`width: ${l.card_dim.w}px; min-height: ${l.card_dim.h}px;`,l.card_dim.height_auto?H+="height: auto;":H+=`height: ${l.card_dim.h}px;`;else return"";return H+='"',H}function E(){let H='style="position: relative;';if(l.card_dim.img_w||l.card_dim.img_h||l.card_dim.img_x||l.card_dim.img_y)H+=`width: ${l.card_dim.img_w}px; height: ${l.card_dim.img_h}px;`,H+=`left: ${l.card_dim.img_x}px; top: ${l.card_dim.img_y}px;`;else return"";return H+='"',H}function C(H){return H.data._new_rel_data?`<div class="person-icon" ${E()}>${a2()}</div>`:`<div class="person-icon" ${E()}>${l.defaultPersonIcon?l.defaultPersonIcon(H):Hy()}</div>`}function M(H){return`<div class="f3-card-duplicate-tag">x${H.duplicate}</div>`}function X(H){return H?H.replace(/\s*\([^)]*\)/g," ").replace(/\b\d{1,2}[./-]\d{1,2}[./-]\d{2,4}\b/g," ").replace(/\b\d{4}\b/g," ").replace(/\s{2,}/g," ").trim():""}function G(H,W){P(H).on("mouseenter",()=>{P(H.closest(".cards_view")).selectAll(".card_cont").select(".card").classed("f3-card-duplicate-hover",function(Q){return Q.data.id===W.data.id})}),P(H).on("mouseleave",()=>{P(H.closest(".cards_view")).selectAll(".card_cont").select(".card").classed("f3-card-duplicate-hover",!1)})}function F(H){const W=H.data.data[l.cardImageField],Q=typeof W=="string"?W:void 0;return Q&&Uy(Q)?`<img loading="lazy" decoding="async" src="${Tt(Q)}" ${E()}>`:C(H)}}function $y(l){const i=[],u=r=>r==null?"":String(r);return Array.isArray(l)?l.forEach(r=>{typeof r=="function"?i.push(r):typeof r=="string"?i.push(o=>u(o.data[r])):Array.isArray(r)&&i.push(o=>r.map(f=>u(o.data[f])).join(" ").trim())}):typeof l=="function"?i.push(l):typeof l=="string"&&i.push(r=>u(r.data[l])),i}function p2(l,i,u,r){const o=u.is_ancestry,f=i.data(),h=[],y=[];if(o){const g=[];let v=u,_=0;for(;v!==r&&_<100;){_++;const E=f.find(C=>C.spouse===!0&&(C.source===v||C.target===v));if(E){const C=f.filter(X=>Array.isArray(X.target)&&X.target.includes(E.source)&&X.target.includes(E.target)),M=S(C,r);if(!M)break;g.push(E),g.push(M),v=M.source}else{const C=f.filter(X=>Array.isArray(X.target)&&X.target.includes(v)),M=S(C,r);if(!M)break;g.push(M),v=M.source}}i.each(function(E){g.includes(E)&&h.push({link:E,node:this})});const b=m(u,g);l.each(function(E){b.includes(E)&&y.push({card:E,node:this})})}else if(u.spouse&&u.spouse.data===r.data){i.each(function(v){v.target===u&&h.push({link:v,node:this})});const g=[r,u];l.each(function(v){g.includes(v)&&y.push({card:v,node:this})})}else if(u.sibling){i.each(function(v){if(!Array.isArray(u.parents))throw new Error("datum.parents is not an array");v.source===u&&h.push({link:v,node:this}),v.source===r&&Array.isArray(v.target)&&v.target.length===2&&h.push({link:v,node:this}),u.parents.includes(v.source)&&!Array.isArray(v.target)&&u.parents.includes(v.target)&&h.push({link:v,node:this})});const g=[r,u,...u.parents||[]];l.each(function(v){g.includes(v)&&y.push({card:v,node:this})})}else{const g=[];let v=u,_=0;for(;v!==r&&_<100;){_++;const E=f.find(C=>C.target===v&&Array.isArray(C.source));if(E){const C=f.find(M=>{if(M.spouse!==!0||Array.isArray(M.source)||Array.isArray(M.target))return!1;const X=[M.source,M.target];return p(X,E.source)});g.push(E),g.push(C),C?v=C.source:v=E.source[0]}else{const C=f.find(M=>M.target===v&&!Array.isArray(M.source));if(!C)break;g.push(C),v=C.source}}i.each(function(E){g.includes(E)&&h.push({link:E,node:this})});const b=m(r,g);l.each(function(E){b.includes(E)&&y.push({card:E,node:this})})}return{cards_node_to_main:y,links_node_to_main:h};function p(g,v){return g.every(_=>v.some(b=>_===b))}function m(g,v){const _=v.filter(C=>C).reduce((C,M)=>(Array.isArray(M.target)?C.push(...M.target):C.push(M.target),Array.isArray(M.source)?C.push(...M.source):C.push(M.source),C),[]),b=[r,u];return E(g),b;function E(C){C.data.rels.children&&C.data.rels.children.forEach(M=>{const X=_.find(G=>G.data.id===M);X&&(b.push(X),E(X))})}}function S(g,v){return g.length===0?null:g.length===1?g[0]:g.find(_=>_.source===v)}}function V0(l,i){return new g2(l,i)}let g2=class Yy{constructor(i,u){return this.cont=i,this.svg=this.cont.querySelector("svg.main_svg"),this.store=u,this.card_display=[r=>`${r.data["first name"]} ${r.data["last name"]}`],this.cardImageField="avatar",this.onCardClick=this.onCardClickDefault.bind(this),this.onMiniTreeClick=this.onMiniTreeClickDefault.bind(this),this.style="default",this.mini_tree=!1,this.card_dim={},this}static normalizeDimKey(i){const r={width:"w",height:"h",img_width:"img_w",img_height:"img_h"}[i]||i;return["w","h","text_x","text_y","img_w","img_h","img_x","img_y"].includes(r)?r:r==="height_auto"?"height_auto":null}getCard(){return m2({store:this.store,card_display:this.card_display,cardImageField:this.cardImageField,defaultPersonIcon:this.defaultPersonIcon,onCardClick:this.onCardClick,onMiniTreeClick:this.onMiniTreeClick,style:this.style,mini_tree:this.mini_tree,onCardUpdate:this.onCardUpdate,card_dim:this.card_dim,empty_card_label:this.store.state.single_parent_empty_card_label||"",unknown_card_label:this.store.state.unknown_card_label||"",cardInnerHtmlCreator:this.cardInnerHtmlCreator,onCardMouseenter:this.onCardMouseenter?this.onCardMouseenter.bind(this):void 0,onCardMouseleave:this.onCardMouseleave?this.onCardMouseleave.bind(this):void 0})}setCardDisplay(i){return this.card_display=$y(i),this}setCardImageField(i){return this.cardImageField=i,this}setDefaultPersonIcon(i){return this.defaultPersonIcon=i,this}setOnCardClick(i){return this.onCardClick=i,this}setOnMiniTreeClick(i){return this.onMiniTreeClick=i,this}onCardClickDefault(i,u){this.store.updateMainId(u.data.id),this.store.updateTree({})}onMiniTreeClickDefault(i,u){this.store.updateMainId(u.data.id),this.store.updateTree({tree_position:"main_to_middle"})}setStyle(i){return this.style=i,this}setMiniTree(i){return this.mini_tree=i,this}setOnCardUpdate(i){return this.onCardUpdate=i,this}setCardDim(i){return!i||typeof i!="object"?(console.error("card_dim must be an object"),this):(Object.entries(i).forEach(([u,r])=>{const o=Yy.normalizeDimKey(u);if(o)if(o==="height_auto"){if(typeof r!="boolean"){console.error(`card_dim.${u} must be a boolean`);return}this.card_dim.height_auto=r}else{if(typeof r!="number"){console.error(`card_dim.${u} must be a number`);return}this.card_dim[o]=r}}),this)}resetCardDim(){return this.card_dim={},this}setCardInnerHtmlCreator(i){return this.cardInnerHtmlCreator=i,this}setOnHoverPathToMain(){return this.onCardMouseenter=this.onEnterPathToMain.bind(this),this.onCardMouseleave=this.onLeavePathToMain.bind(this),this}unsetOnHoverPathToMain(){return this.onCardMouseenter=void 0,this.onCardMouseleave=void 0,this}onEnterPathToMain(i,u){this.to_transition=u.data.id;const r=this.store.getTreeMainDatum(),o=P(this.cont).select("div.cards_view").selectAll(".card_cont"),f=P(this.cont).select("svg.main_svg .links_view").selectAll(".link"),{cards_node_to_main:h,links_node_to_main:y}=p2(o,f,u,r);return h.forEach(p=>{const m=Math.abs(u.depth-p.card.depth)*200;P(p.node.querySelector("div.card-inner")).transition().duration(0).delay(m).on("end",()=>this.to_transition===u.data.id&&P(p.node.querySelector("div.card-inner")).classed("f3-path-to-main",!0))}),y.forEach(p=>{const m=Math.abs(u.depth-p.link.depth)*200;P(p.node).transition().duration(0).delay(m).on("end",()=>this.to_transition===u.data.id&&P(p.node).classed("f3-path-to-main",!0))}),this}onLeavePathToMain(){return this.to_transition=!1,P(this.cont).select("div.cards_view").selectAll("div.card-inner").classed("f3-path-to-main",!1),P(this.cont).select("svg.main_svg .links_view").selectAll(".link").classed("f3-path-to-main",!1),this}};function Xy({d:l,card_dim:i,card_display:u}){return{template:`
    <g class="card-body">
      <rect width="${i.w}" height="${i.h}" class="card-body-rect" />
      ${_2({d:l,card_dim:i,card_display:u}).template}
    </g>
  `}}function v2({card_dim:l,label:i}){return{template:`
    <g class="card-body">
      <rect class="card-body-rect" width="${l.w}" height="${l.h}" />
      <text transform="translate(${l.img_w+5}, ${l.h/2})">
        <tspan font-size="18" dy="8" pointer-events="none">${Tt(i)}</tspan>
      </text>
    </g>
  `}}function _2({d:l,card_dim:i,card_display:u}){return{template:`
    <g>
      <g class="card-text" clip-path="url(#card_text_clip)">
        <g transform="translate(${i.text_x}, ${i.text_y})">
          <text>
            ${Array.isArray(u)?u.map(r=>`<tspan x="0" dy="14">${Tt(r(l.data))}</tspan>`).join(`
`):Tt(u(l.data))}
          </text>
        </g>
      </g>
      <rect width="${i.w-10}" height="${i.h}" style="mask: url(#fade)" class="text-overflow-mask" /> 
    </g>
  `}}function Q0({d:l,card_dim:i,is_new:u}){return{template:`
    <rect width="${i.w}" height="${i.h}" rx="4" ry="4" class="card-outline ${l.data.main&&!u?"card-main-outline":""} ${u?"card-new-outline":""}" />
  `}}function b2({card_dim:l}){return{template:`
    <g class="card_family_tree" style="cursor: pointer">
      <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
      <g transform="translate(${l.w*.8},6)scale(.9)">
        <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
        <line y2="-17.5" stroke="#fff" />
        <line x1="-20" x2="20" y1="-17.5" y2="-17.5" stroke="#fff" />
        <rect x="-31" y="-25" width="25" height="15" rx="5" ry="5" class="card-male" />
        <rect x="6" y="-25" width="25" height="15" rx="5" ry="5" class="card-female" />
      </g>
    </g>
  `}}function S2({d:l,image:i,card_dim:u,maleIcon:r,femaleIcon:o}){return{template:`
    <g style="transform: translate(${u.img_x}px,${u.img_y}px);" class="card_image" clip-path="url(#card_image_clip)">
      ${i&&Uy(i)?`<image href="${Tt(i)}" height="${u.img_h}" width="${u.img_w}" preserveAspectRatio="xMidYMin slice" />`:(l.data.data.gender,l.data.data.gender,f())}      
    </g>
  `};function f(){return`
      <g class="genderless-icon">
        <rect height="${u.img_h}" width="${u.img_w}" fill="rgb(59, 85, 96)" />
        <g transform="scale(${u.img_w*.001616})">
         <path transform="translate(50,40)" fill="lightgrey" d="M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 
            64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 
            0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z" />
        </g>
      </g>
    `}}function Yu(l,i,u){const r=document.createElementNS("http://www.w3.org/2000/svg","g");si(r,l,"CardSvg template fragment"),u?i.insertBefore(r,i.firstChild):i.appendChild(r)}function jy(l,{d:i}){return l.updateMainId(i.data.id),l.updateTree({}),!0}const Z0={miniTree:x2,cardBody:E2,cardImage:A2};function x2(l,i){if(l.data.to_add)return;const u=i.card_dim;if(l.all_rels_displayed)return;const r=ml("svg:g");return Qe(r,b2({card_dim:u}).template,"CardSvg mini tree"),r.on("click",function(o){o.stopPropagation(),i.onMiniTreeClick?i.onMiniTreeClick.call(this,o,l):jy(i.store,{d:l})}),r.node()}function E2(l,i){const u=i.card_dim,r=ml("svg:g");return Qe(r,Xy({d:l,card_dim:u,card_display:i.card_display}).template,"CardSvg body"),r.on("click",function(o){o.stopPropagation(),i.onCardClick?i.onCardClick.call(this,o,l):jy(i.store,{d:l})}),r.node()}function A2(l,i){if(l.data.to_add)return;const u=i.card_dim,r=typeof l.data.data.avatar=="string"?l.data.data.avatar:"",o=ml("svg:g");return Qe(o,S2({d:l,image:r,card_dim:u,maleIcon:void 0,femaleIcon:void 0}).template,"CardSvg image"),o.node()}function K0(l,i,u=!1){l&&(u?i.insertBefore(l,i.firstChild):i.appendChild(l))}function Gy(l,i){if(l.querySelector("defs#f3CardDef"))return;const u=Number.isFinite(Number(i.w))?Math.max(0,Math.floor(Number(i.w))):0,r=Number.isFinite(Number(i.h))?Math.max(0,Math.floor(Number(i.h))):0,o=Number.isFinite(Number(i.img_w))?Math.max(0,Math.floor(Number(i.img_w))):0,f=Number.isFinite(Number(i.img_h))?Math.max(0,Math.floor(Number(i.img_h))):0,h="http://www.w3.org/2000/svg",y=document.createElementNS(h,"defs");y.setAttribute("id","f3CardDef");const p=document.createElementNS(h,"linearGradient");p.setAttribute("id","fadeGrad");const m=document.createElementNS(h,"stop");m.setAttribute("offset","0.9"),m.setAttribute("stop-color","white"),m.setAttribute("stop-opacity","0");const S=document.createElementNS(h,"stop");S.setAttribute("offset",".91"),S.setAttribute("stop-color","white"),S.setAttribute("stop-opacity","0.5");const g=document.createElementNS(h,"stop");g.setAttribute("offset","1"),g.setAttribute("stop-color","white"),g.setAttribute("stop-opacity","1"),p.appendChild(m),p.appendChild(S),p.appendChild(g);const v=document.createElementNS(h,"mask");v.setAttribute("id","fade"),v.setAttribute("maskContentUnits","objectBoundingBox");const _=document.createElementNS(h,"rect");_.setAttribute("width","1"),_.setAttribute("height","1"),_.setAttribute("fill","url(#fadeGrad)"),v.appendChild(_);const b=document.createElementNS(h,"clipPath");b.setAttribute("id","card_clip");const E=document.createElementNS(h,"path");E.setAttribute("d",W({w:u,h:r},5)),b.appendChild(E);const C=document.createElementNS(h,"clipPath");C.setAttribute("id","card_text_clip");const M=document.createElementNS(h,"rect");M.setAttribute("width",String(Math.max(0,u-10))),M.setAttribute("height",String(r)),C.appendChild(M);const X=document.createElementNS(h,"clipPath");X.setAttribute("id","card_image_clip");const G=document.createElementNS(h,"path");G.setAttribute("d",`M0,0 Q 0,0 0,0 H${o} V${f} H0 Q 0,${f} 0,${f} z`),X.appendChild(G);const F=document.createElementNS(h,"clipPath");F.setAttribute("id","card_image_clip_curved");const H=document.createElementNS(h,"path");H.setAttribute("d",W({w:o,h:f},5,["rx","ry"])),F.appendChild(H),y.appendChild(p),y.appendChild(v),y.appendChild(b),y.appendChild(C),y.appendChild(X),y.appendChild(F),l.insertBefore(y,l.firstChild);function W(Q,et,lt){const{w:tt,h:mt}=Q,ft=et,Bt=lt||[],D=j=>Bt.includes(j),O=D("lx")?"M0,0":`M0,${ft} Q 0,0 5,0`,A=D("rx")?`H${tt}`:`H${tt-ft} Q ${tt},0 ${tt},5`,N=D("ry")?`V${mt}`:`V${mt-ft} Q ${tt},${mt} ${tt-ft},${mt}`,$=D("ly")?"H0":`H${ft} Q 0,${mt} 0,${mt-ft}`;return`${O} ${A} ${N} ${$} z`}}function C2(l,i){l.querySelector("defs#f3CardDef")&&l.querySelector("defs#f3CardDef").remove(),Gy(l,i)}function T2(l){return l=i(l),Gy(l.svg,l.card_dim),function(u){var r,o;const f=u.data.data.gender==="M"?"card-male":u.data.data.gender==="F"?"card-female":"card-genderless",h=l.card_dim,y=ml("svg:g").attr("class",`card ${f}`).attr("transform",`translate(${[-h.w/2,-h.h/2]})`);if(y.append("g").attr("class","card-inner").attr("clip-path","url(#card_clip)"),Vn(this),this.appendChild(y.node()),y.on("click",function(p){p.stopPropagation(),l.onCardClick.call(this,p,u)}),u.data._new_rel_data){Yu(Q0({d:u,card_dim:h,is_new:!!u.data.to_add}).template,y.node(),!0);const p=(o=(r=u.data._new_rel_data)===null||r===void 0?void 0:r.label)!==null&&o!==void 0?o:"";Yu(v2({card_dim:h,label:p}).template,this.querySelector(".card-inner"),!0);const m=P(this.querySelector(".card-inner")).append("g").attr("class","card-edit-icon").attr("fill","currentColor").attr("transform",`translate(-1,2)scale(${h.img_h/22})`);Qe(m,Ry(),"CardSvg add relative icon")}else Yu(Q0({d:u,card_dim:h,is_new:!!u.data.to_add}).template,y.node(),!0),Yu(Xy({d:u,card_dim:h,card_display:l.card_display}).template,this.querySelector(".card-inner"),!1),l.img&&K0(Z0.cardImage(u,l),this.querySelector(".card")),l.mini_tree&&K0(Z0.miniTree(u,l),this.querySelector(".card"),!0);l.onCardUpdate&&l.onCardUpdate.call(this,u)};function i(u){return Object.assign(Object.assign({},{img:!0,mini_tree:!0,link_break:!1,card_dim:{w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5}}),u)}}function J0(l,i){return new w2(l,i)}let w2=class{constructor(i,u){return this.cont=i,this.store=u,this.svg=this.cont.querySelector("svg.main_svg"),this.card_dim={w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5},this.card_display=[],this.mini_tree=!0,this.link_break=!1,this.onCardClick=this.onCardClickDefault.bind(this),this}getCard(){return T2({store:this.store,svg:this.svg,card_dim:this.card_dim,card_display:this.card_display,mini_tree:this.mini_tree,link_break:this.link_break,onCardClick:this.onCardClick,onCardUpdate:this.onCardUpdate})}setCardDisplay(i){return this.card_display=$y(i),this}setCardDim(i){if(typeof i!="object")return console.error("card_dim must be an object"),this;for(let u in i){const r=i[u];if(typeof r!="number"&&typeof r!="boolean")return console.error(`card_dim.${u} must be a number or boolean`),this;u==="width"&&(u="w"),u==="height"&&(u="h"),u==="img_width"&&(u="img_w"),u==="img_height"&&(u="img_h"),u==="img_x"&&(u="img_x"),u==="img_y"&&(u="img_y"),this.card_dim[u]=r}return C2(this.svg,this.card_dim),this}setOnCardUpdate(i){return this.onCardUpdate=i,this}setMiniTree(i){return this.mini_tree=i,this}setLinkBreak(i){return this.link_break=i,this}onCardClickDefault(i,u){this.store.updateMainId(u.data.id),this.store.updateTree({})}setOnCardClick(i){return this.onCardClick=i,this}};const M2=2e3,z2=wy;function dl(l=M2,i=0){return{duration:l,ease:z2,delay:i}}function yl(l,i){return l.transition().duration(i.duration).delay(i.delay||0).ease(i.ease)}function Vy({t:l,svg:i,transition_time:u=2e3}){const r=N2(i),o=r.__zoomObj,f=P(r),y=dl(u??0,u?100:0),p=yl(f,y),m=lo.scale(l.k).translate(l.x,l.y);o.transform(p,m)}function Ks({svg:l,svg_dim:i,tree_dim:u,transition_time:r}){const o=D2(i,u);Vy({t:o,svg:l,transition_time:r})}function D2(l,i){const u=i.width>0?l.width/i.width:1/0,r=i.height>0?l.height/i.height:1/0;let o=Math.min(u,r,1);(!Number.isFinite(o)||o<=0)&&(o=1);const f=(E,C)=>{if(!Number.isFinite(E)||!Number.isFinite(C))return{min:0,max:0};if(E>C){const M=(E+C)/2;return{min:M,max:M}}return{min:E,max:C}},h=(E,C,M,X)=>{const G=X*.25;return E<C?Math.max(E,C-G):E>M?Math.min(E,M+G):E},y=f(-o*i.min_x,l.width-o*i.max_x),p=l.width/2-o*i.center_x,m=h(p,y.min,y.max,l.width),S=f(-o*i.min_y,l.height-o*i.max_y),g=l.height/2-o*i.center_y,v=h(g,S.min,S.max,l.height),_=m/o,b=v/o;return{k:o,x:_,y:b}}function O2({datum:l,svg:i,svg_dim:u,scale:r,transition_time:o}){const f=r||1,h=u.width/2-l.x*f,y=u.height/2-l.y,p={k:f,x:h/f,y:y/f};Vy({t:p,svg:i,transition_time:o})}function N2(l){const i=l;if(i.__zoomObj)return i;const u=l.parentNode;if(u&&u instanceof Element){const r=u;if(r.__zoomObj)return r}throw new Error("Zoom object not found")}function R2(l,i={}){const u=l;if(u.__zoom)return;const r=l.querySelector(".view");if(!r)throw new Error("Zoom view container not found");const o=Jb().on("zoom",i.onZoom||h),f=P(l);o(f),u.__zoomObj=o,i.zoom_polite&&o.filter(y);function h(p){P(r).attr("transform",p.transform.toString())}function y(p){return p.type==="wheel"&&!p.ctrlKey?!1:!(p.touches&&p.touches.length<2)}}function H2(l,i={}){const u=l.getBoundingClientRect(),r=`
    <svg class="main_svg">
      <rect width="${u.width}" height="${u.height}" fill="transparent" />
      <g class="view">
        <g class="links_view"></g>
        <g class="cards_view"></g>
      </g>
      <g style="transform: translate(100%, 100%)">
        <g class="fit_screen_icon cursor-pointer" style="transform: translate(-50px, -50px); display: none">
          <rect width="27" height="27" stroke-dasharray="${27/2}" stroke-dashoffset="${27/4}" 
            style="stroke:#fff;stroke-width:4px;fill:transparent;"/>
          <circle r="5" cx="${27/2}" cy="${27/2}" style="fill:#fff" />          
        </g>
      </g>
    </svg>
  `,o=y(l),f=ml("div").node();si(f,r,"SVG renderer template");const h=f.querySelector("svg");return o.appendChild(h),l.appendChild(o),R2(o,i),h;function y(p){let m=p.querySelector("#f3Canvas");return m||(m=ml("div").attr("id","f3Canvas").attr("style","position: relative; overflow: hidden; width: 100%; height: 100%;").node()),m}}function Qy(l){return H2(l,{onZoom:Ky(()=>l.querySelector("svg .view"),()=>l.querySelector("#htmlSvg .cards_view"))}),Zy(l),{svg:l.querySelector("svg.main_svg"),svgView:l.querySelector("svg .view"),htmlSvg:l.querySelector("#htmlSvg"),htmlView:l.querySelector("#htmlSvg .cards_view")}}function Zy(l){const u=P(l).select("#f3Canvas").append("div").attr("id","htmlSvg").attr("style","position: absolute; width: 100%; height: 100%; z-index: 2; top: 0; left: 0");return u.append("div").attr("class","cards_view").style("transform-origin","0 0"),u.node()}function Ky(l,i){return function(r){const o=r.transform;P(l()).style("transform",`translate(${o.x}px, ${o.y}px) scale(${o.k}) `),P(i()).style("transform",`translate(${o.x}px, ${o.y}px) scale(${o.k}) `)}}var U2=Object.freeze({__proto__:null,createHtmlSvg:Zy,default:Qy,onZoomSetup:Ky});function Gn({data:l,rels:i}){return{id:q2(),data:l||{},rels:Object.assign({parents:[],children:[],spouses:[]},i||{})}}function q2(){let l=new Date().getTime(),i=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){let r=Math.random()*16;return l>0?(r=(l+r)%16|0,l=Math.floor(l/16)):(r=(i+r)%16|0,i=Math.floor(i/16)),(u==="x"?r:r&3|8).toString(16)})}const B2=new Set(["birthday","birthdate","birth","death","deathdate","burial","burialdate","baptism","baptismdate","uniondate","marriagedate","weddingdate","divorcedate","engagementdate","anniversary","anniversarydate"]),L2=new Set(["date","birth","birthday","death","burial","baptism","marriage","wedding","union","divorce","engagement","anniversary","naissance","deces"]),k0=new Set(["update","updatedate","lastupdate","birthplace","deathplace","unionplace","marriageplace","weddingplace","baptismplace","burialplace"]);function $2(l){return l.split("__ref__")[0].trim()}function Y2(l){return l.toLowerCase().replace(/[^a-z]/g,"")}function X2(l){return l.toLowerCase().split(/[^a-z]+/g).filter(Boolean)}function Jy(l){if(!l||typeof l!="string")return!1;const i=$2(l);if(!i)return!1;const u=i.toLowerCase();if(u.includes("place")||u.includes("location"))return!1;const r=Y2(i);if(!r||k0.has(r))return!1;if(B2.has(r)||r.endsWith("date")&&!k0.has(r))return!0;const o=X2(i);if(!o.length)return!1;for(const f of o)if(L2.has(f))return!0;return!1}const j2=/^[0-9xX./\-\s]+$/;function G2(l){let i=l.trim();if(!i)return{approx:"",payload:""};let u="";const r=i[0];return(r==="<"||r===">")&&(u=r,i=i.slice(1).trim()),i?(i=i.replace(/\b(?:approx|approximativement|circa|vers|env\.?|environ|ca)\b/gi," "),i=i.replace(/\?/g,"X"),j2.test(i)||(i=i.replace(/[^0-9xX./\-\s]/g," ").trim()),{approx:u,payload:i}):{approx:u,payload:""}}function Rs(l){return l?/^[xX]{3,4}$/.test(l)?!0:/^\d{3,4}$/.test(l):!1}function F0(l){return l?/^[xX]{1,2}$/.test(l)?l.toUpperCase():/^\d{1,2}$/.test(l)?l.padStart(2,"0"):/^\d{3,}$/.test(l)?l.slice(0,2).padStart(2,"0"):l:"XX"}function V2(l){if(!l)return"XXXX";if(/^[xX]{1,4}$/.test(l)){const i=l.toUpperCase();return i.length>=4?i.slice(0,4):i.padEnd(4,"X")}return/^\d{4}$/.test(l)?l:/^\d{1,4}$/.test(l)?l.padStart(4,"0").slice(-4):l}function Q2(l){const i=l.filter(Boolean),u=["","",""];if(i.length===0)return["","",""];if(i.length>=3)return u[0]=i[0],u[1]=i[1],u[2]=i[2],u;if(i.length===1)return Rs(i[0])?u[2]=i[0]:u[0]=i[0],u;if(i.length===2){const[r,o]=i;return Rs(o)?(u[1]=r,u[2]=o):Rs(r)?u[2]=r:(u[0]=r,u[1]=o),u}return u}function ky(l){if(l==null)return"";const i=typeof l=="string"?l:String(l),{approx:u,payload:r}=G2(i);if(!r)return u;const o=r.split(/[.\-/\s]+/g).filter(Boolean).map(g=>g.replace(/[^0-9xX]/g,""));if(o.length===0)return u?u+r:r;const[f,h,y]=(()=>{const g=Q2(o);return[g[0],g[1],g[2]]})(),p=F0(f),m=F0(h),S=V2(y);return`${u}${p||"XX"}.${m||"XX"}.${S||"XXXX"}`}function Fy(l){!l||!l.data||typeof l.data!="object"||Object.entries(l.data).forEach(([i,u])=>{if(typeof u!="string"||!Jy(i))return;const r=ky(u);l.data[i]=r})}function Z2(){return typeof window<"u"&&window.location&&window.location.origin?window.location.origin:"http://localhost"}function K2(l){if(l==null)return"";const i=String(l).trim();if(!i)return"";try{const u=Z2(),r=new URL(i,u);return r.origin===u?`${r.pathname}${r.search}${r.hash}`:r.toString()}catch{return i}}function J2(l){if(!l)return!1;const i=String(l).trim();return i.startsWith("http://")||i.startsWith("https://")}function k2(l,i,u){u.forEach((r,o)=>{typeof r=="string"&&Jy(o)?l.data[o]=ky(r):typeof r=="string"&&J2(r)?l.data[o]=K2(r):l.data[o]=r}),F2(l,i),l.to_add&&delete l.to_add,l.unknown&&delete l.unknown}function F2(l,i){Object.keys(l.data).forEach(u=>{if(u.includes("__ref__")){const r=u.split("__ref__")[1],o=i.find(h=>h.id===r);if(!o)return;const f=u.split("__ref__")[0]+"__ref__"+l.id;o.data[f]=l.data[u]}})}function W2(l,i){Object.keys(l.data).forEach(u=>{if(u.includes("__ref__")){const r=u.split("__ref__")[1],o=i.find(h=>h.id===r);if(!o)return;const f=u.split("__ref__")[0]+"__ref__"+l.id;delete o.data[f]}})}function I2(l,i){return Wy(l,i,!1),!1}function Wy(l,i,u=!0){return r(),u&&ao(i),{success:!0};function r(){i.forEach(f=>{for(const h in f.rels){if(!Object.prototype.hasOwnProperty.call(f.rels,h))continue;const y=h,p=f.rels[y];if(Array.isArray(p)){const m=p.indexOf(l.id);m!==-1&&p.splice(m,1)}}}),W2(l,i);const o=i.findIndex(f=>f.id===l.id);o!==-1&&i.splice(o,1),i.length===0&&i.push(Gn({data:{gender:"M"}}))}}function P2(l){return ao(l),l.forEach(i=>{delete i.main,delete i._tgdp,delete i._tgdp_sp,delete i.__tgdp_sp}),l.forEach(i=>{Object.keys(i).forEach(u=>{u[0]==="_"&&console.error("key starts with _",u)})}),l}function ao(l){for(let i=l.length-1;i>=0;i--)l[i].to_add&&I2(l[i],l)}function tS(l,i,u){if(!i.rels.children)return;const r=i.rels.spouses||[];return l.sort((o,f)=>{const h=W0(o,i,u),y=W0(f,i,u),p=h?r.indexOf(h.id):-1,m=y?r.indexOf(y.id):-1;return i.data.gender==="M"?p-m:m-p})}function eS(l){return l.sort((i,u)=>{const r=i._new_rel_data,o=u._new_rel_data;return r&&!o?1:!r&&o?-1:0})}function W0(l,i,u){return u.find(r=>r.id!==i.id&&l.rels.parents.includes(r.id))}function oi(l,i,u){if(l.exiting=u,i)if(l.depth===0&&!l.spouse)l._x=l.x,l._y=l.y;else if(l.spouse)l._x=l.spouse.x,l._y=l.spouse.y;else if(l.is_ancestry){if(!l.parent)throw new Error("no parent");l._x=l.parent.x,l._y=l.parent.y}else l._x=l.psx,l._y=l.psy;else if(u){const r=l.x>0?1:-1,o=l.y>0?1:-1;l._x=l.x+400*r,l._y=l.y+400*o}}function nS({tree:l,data_stash:i,node_separation:u,sortChildrenFunction:r}){const o=l.find(v=>v.data.main);if(!o)throw new Error("no main");const f=o.data.rels.parents[0],h=o.data.rels.parents[1],y=m(o);if(y.length>0&&!o.parents)throw new Error("no parents");const p=S(o);g(o);function m(v){return i.filter(_=>_.id===v.data.id?!1:!!(f&&_.rels.parents.includes(f)||h&&_.rels.parents.includes(h)))}function S(v){const _=[];for(let b=0;b<y.length;b++){const E={data:y[b],sibling:!0,x:0,y:v.y,depth:v.depth-1,parents:[]},C=v.parents.find(X=>X.data.id===E.data.rels.parents[0]),M=v.parents.find(X=>X.data.id===E.data.rels.parents[1]);C&&E.parents.push(C),M&&E.parents.push(M),l.push(E),_.push(E)}return _}function g(v){var _,b;const E=[v,...p];r&&E.sort((F,H)=>r(F.data,H.data)),E.sort((F,H)=>{const W=v.parents.find(tt=>tt.data.id===F.data.rels.parents[0]),Q=v.parents.find(tt=>tt.data.id===F.data.rels.parents[1]),et=v.parents.find(tt=>tt.data.id===H.data.rels.parents[0]),lt=v.parents.find(tt=>tt.data.id===H.data.rels.parents[1]);return!Q&&lt?-1:Q&&!lt||!W&&et?1:W&&!et?-1:0});const C=v.x,M=(v.spouses||[]).map(F=>F.x),X=Us([C,...M]),G=E.findIndex(F=>F.data.id===v.data.id);for(let F=0;F<E.length;F++){if(F===G)continue;const H=E[F];F<G?H.x=((_=X[0])!==null&&_!==void 0?_:0)-u*(G-F):H.x=((b=X[1])!==null&&b!==void 0?b:0)+u*(F-G)}}}function lS({tree:l,data_stash:i,private_cards_config:u}){const r={},o=u.condition;if(!o)return console.error("private_cards_config.condition is not set");l.forEach(h=>{if(h.data._new_rel_data)return;const y=f(h.data.id);y&&(h.is_private=y)});function f(h){const y=[];let p=!1;return m(h),r[h]=p,p;function m(S){if(p)return;if(Object.prototype.hasOwnProperty.call(r,S))return p=r[S],p;const g=i.find(_=>_.id===S);if(!g)throw new Error("no d");if(g._new_rel_data)return;if(o(g))return p=!0,!0;const v=g.rels;[...v.parents,...v.spouses||[]].forEach(_=>{_&&(y.includes(_)||(y.push(_),m(_)))})}}}function iS(l,i){const u=i.find(y=>y.id===l);if(!u)throw new Error("no datum");const r=ci(u,y=>h(y)),o=ci(u,y=>f(y));return{ancestry:r.height,progeny:o.height};function f(y){return[...y.rels.children||[]].map(p=>i.find(m=>m.id===p)).filter(p=>p&&!p._new_rel_data&&!p.to_add)}function h(y){return y.rels.parents.filter(p=>p).map(p=>i.find(m=>m.id===p)).filter(p=>p&&!p._new_rel_data&&!p.to_add)}}function aS(l,i){const u=l.data.rels;return[...u.parents,...u.spouses||[],...u.children||[]].filter(o=>o).every(o=>i.some(f=>f.data.id===o))}function fi(l,i,u){const r=u*.4,o=Math.max(...l.data.map(h=>h.is_ancestry?h.depth:0));let f=i.depth*r;return(i.depth!==0||i.spouse)&&!i.is_ancestry&&(f+=o*r,i.spouse&&(f+=r),f+=i.depth*r),f}function I0(l){return l.forEach(u=>{u.rels.parents||(u.rels.parents=[]),u.rels.spouses||(u.rels.spouses=[]),u.rels.children||(u.rels.children=[]),i(u),Fy(u)}),l;function i(u){u.rels.parents||(u.rels.parents=[]),u.rels.father&&u.rels.parents.push(u.rels.father),u.rels.mother&&u.rels.parents.push(u.rels.mother),delete u.rels.father,delete u.rels.mother}}function uS(l,i=!1){return l.forEach(u=>{var r;if(i){let o,f;(r=u.rels.parents)===null||r===void 0||r.forEach(h=>{const y=l.find(S=>S.id===h);if(!y)throw new Error("Parent not found");const p=typeof y.data=="object"&&y.data?y.data:{gender:void 0},m=p.gender==="M"||p.gender==="F"?p.gender:void 0;m==="M"?o?f=y.id:o=y.id:m==="F"&&(f?o=y.id:f=y.id)}),o&&(u.rels.father=o),f&&(u.rels.mother=f),delete u.rels.parents}u.rels.parents&&u.rels.parents.length===0&&delete u.rels.parents,u.rels.spouses&&u.rels.spouses.length===0&&delete u.rels.spouses,u.rels.children&&u.rels.children.length===0&&delete u.rels.children,Fy(u)}),l}function rS(l,{main_id:i=null,node_separation:u=250,level_separation:r=150,single_parent_empty_card:o=!0,is_horizontal:f=!1,one_level_rels:h=!1,sortChildrenFunction:y=void 0,sortSpousesFunction:p=void 0,ancestry_depth:m=void 0,progeny_depth:S=void 0,show_siblings_of_main:g=!1,modifyTreeHierarchy:v=void 0,private_cards_config:_=void 0}){if(!l||!l.length)throw new Error("No data");f&&([u,r]=[r,u]);const b=o?ft(l):l;(!i||!b.find(D=>D.id===i))&&(i=b[0].id);const E=b.find(D=>D.id===i);if(!E)throw new Error("Main not found");const C=F(E,"children",!1),M=F(E,"parents",!0);b.forEach(D=>D.main=D===E),H(M,C);const X=W(M,C);tt(X),et(X,u),g&&!h&&nS({tree:X,data_stash:b,node_separation:u,sortChildrenFunction:y}),lt(X),Q(X),X.forEach(D=>D.all_rels_displayed=aS(D,X)),_&&lS({tree:X,data_stash:b,private_cards_config:_}),cS(X);const G=mt(X,u,r);return{data:X,data_stash:b,dim:G,main_id:E.id,is_horizontal:f};function F(D,O,A){const N=O==="children"?ct:ot,$=Ub().nodeSize([u,r]).separation(T),j=ci(D,N);Bt(j,A),v&&v(j,A),$(j);const J=j.descendants();return J.forEach(rt=>{rt.x===void 0&&(rt.x=0),rt.y===void 0&&(rt.y=0)}),J;function T(rt,zt){let Zt=1;return A||(B(rt,zt)||(Zt+=.25),h||it(rt,zt)&&(Zt+=St(rt,zt)),B(rt,zt)&&!k(rt,zt)&&(Zt+=.125)),Zt}function B(rt,zt){return rt.parent==zt.parent}function k(rt,zt){const Zt=[...rt.data.rels.parents].sort(),ne=[...zt.data.rels.parents].sort();return Zt.length===ne.length&&Zt.every((_l,Ke)=>_l===ne[Ke])}function I(rt){return rt.data.rels.spouses&&rt.data.rels.spouses.length>0}function it(rt,zt){return I(rt)||I(zt)}function ct(rt){const zt=[...rt.rels.children||[]].map(Zt=>b.find(ne=>ne.id===Zt)).filter(Zt=>!!Zt);return y&&zt.sort(y),eS(zt),p&&p(rt,b),tS(zt,rt,b),zt}function ot(rt){const zt=[...rt.rels.parents],Zt=b.find(ne=>ne.id===zt[0]);return Zt&&Zt.data.gender==="F"&&zt.reverse(),zt.filter(ne=>!!ne).map(ne=>b.find(_l=>_l.id===ne)).filter(ne=>!!ne)}function St(rt,zt){return((rt.data.rels.spouses||[]).length+(zt.data.rels.spouses||[]).length)*.5}}function H(D,O){const A=(D[0].x-O[0].x)/2;D.forEach(N=>N.x-=A),O.forEach(N=>N.x+=A)}function W(D,O){return D.forEach(A=>{A.is_ancestry=!0}),D.forEach(A=>A.depth===1?A.parent=O[0]:null),[...O,...D.slice(1)]}function Q(D){D.forEach(O=>{if(O.y*=O.is_ancestry?-1:1,f){const A=O.x;O.x=O.y,O.y=A}})}function et(D,O){for(let A=D.length;A--;){const N=D[A];if(!N.is_ancestry){let $=N.data.rels.spouses||[];if(N._ignore_spouses&&($=$.filter(j=>!N._ignore_spouses.includes(j))),$.length>0){if(h&&N.depth>0)continue;const j=N.data.data.gender==="M"?-1:1;N.x+=$.length/2*O*j,$.forEach((J,T)=>{const B={data:b.find(k=>k.id===J),added:!0,depth:N.depth,spouse:N,x:N.x-O*(T+1)*j,y:N.y,tid:`${N.data.id}-spouse-${T}`};B.sx=T>0?B.x:B.x+O/2*j,B.sy=T>0?B.y:B.y+O/2*j,N.spouses||(N.spouses=[]),N.spouses.push(B),D.push(B)})}}if(N.parents&&N.parents.length===2){const $=N.parents[0],j=N.parents[1],J=$.x-($.x-j.x)/2,T=(B,k)=>J+O/2*(B.x<k.x?1:-1);j.x=T($,j),$.x=T(j,$)}}}function lt(D){D.forEach(O=>{if(O.is_ancestry||O.depth===0||O.added||O.sibling)return;const A=O.parent,N=(A?.spouses||[]).find(j=>O.data.rels.parents.includes(j.data.id));if(A&&N){!A.added&&!N.added&&console.error("no added spouse",A,N);const j=A.added?A:N;$(O,j)}else if(A||N){const j=A||N;if(!j)throw new Error("no progeny parent");j.sx=j.x,j.sy=j.y,$(O,j)}function $(j,J){j.psx=f?J.y:J.sx,j.psy=f?J.sx:J.y}})}function tt(D){D.forEach(O=>{if(delete O.children,D.forEach(A=>{A.parent===O&&(A.is_ancestry?(O.parents||(O.parents=[]),O.parents.push(A)):(O.children||(O.children=[]),O.children.push(A)))}),O.parents&&O.parents.length===2){const A=O.parents[0],N=O.parents[1];A.coparent=N,N.coparent=A}})}function mt(D,O,A){f&&([O,A]=[A,O]);const N=Us(D,St=>St.x),$=Us(D,St=>St.y);if(N[0]===void 0||N[1]===void 0||$[0]===void 0||$[1]===void 0)throw new Error("No extent");const j=O/2,J=A/2,T=N[0]-j,B=N[1]+j,k=$[0]-J,I=$[1]+J,it=D.find(St=>!St.is_ancestry&&!St.added&&St.depth===0)||D[0],ct=it?it.x:0,ot=it?it.y:0;return{width:B-T,height:I-k,x_off:-T,y_off:-k,min_x:T,max_x:B,min_y:k,max_y:I,center_x:ct,center_y:ot,padding_x:j,padding_y:J}}function ft(D){const O=[];for(let $=0;$<D.length;$++){const j=D[$];if(j.rels.children&&j.rels.children.length>0){j.rels.spouses||(j.rels.spouses=[]);let J;j.rels.children.forEach(T=>{const B=D.find(k=>k.id===T);if(B.rels.parents.length!==2){if(J||(J=A(j)),J.rels.children||(J.rels.children=[]),J.rels.children.push(B.id),B.rels.parents.length!==1)throw new Error("child has more than 1 parent");B.rels.parents.push(J.id)}})}}return O.forEach($=>D.push($)),D;function A($){return($.rels.spouses||[]).map(J=>D.find(T=>T.id===J)).filter(J=>J!==void 0).find(J=>J.to_add)||N($)}function N($){const j=Gn({data:{gender:$.data.gender==="M"?"F":"M"},rels:{spouses:[$.id]}});return j.to_add=!0,O.push(j),$.rels.spouses||($.rels.spouses=[]),$.rels.spouses.push(j.id),j}}function Bt(D,O){let A=O?m:S;if(h&&(A=1),!A&&A!==0)return D;return N(D,0),D;function N($,j){j===A?$.children&&delete $.children:$.children&&$.children.forEach(J=>{N(J,j+1)})}}}function cS(l){const i=[];l.forEach(u=>{if(i.includes(u.data.id)){const r=l.filter(o=>o.data.id===u.data.id);r.forEach((o,f)=>{o.tid=`${u.data.id}--x${f+1}`,o.duplicate=r.length,i.push(u.data.id)})}else u.tid=u.data.id,i.push(u.data.id)})}function Iy(l){let i;const u=Object.assign({transition_time:1e3,link_style:"legacy"},l);return u.main_id_history=[],u.data&&(v(u.data),I0(u.data)),{state:u,updateTree:_=>{!u.data||u.data.length===0||(u.tree=o(),!u.main_id&&u.tree&&m(u.tree.main_id),i&&i(_))},updateData:_=>{v(_),I0(_),u.data=_,S()},updateMainId:m,getMainId:()=>u.main_id,getData:()=>u.data,getTree:()=>u.tree,setOnUpdate:_=>i=_,getMainDatum:f,getDatum:h,getTreeMainDatum:y,getTreeDatum:p,getLastAvailableMainDatum:g,methods:{}};function o(){const _={main_id:u.main_id};return u.node_separation!==void 0&&(_.node_separation=u.node_separation),u.level_separation!==void 0&&(_.level_separation=u.level_separation),u.single_parent_empty_card!==void 0&&(_.single_parent_empty_card=u.single_parent_empty_card),u.is_horizontal!==void 0&&(_.is_horizontal=u.is_horizontal),u.one_level_rels!==void 0&&(_.one_level_rels=u.one_level_rels),u.modifyTreeHierarchy!==void 0&&(_.modifyTreeHierarchy=u.modifyTreeHierarchy),u.sortChildrenFunction!==void 0&&(_.sortChildrenFunction=u.sortChildrenFunction),u.sortSpousesFunction!==void 0&&(_.sortSpousesFunction=u.sortSpousesFunction),u.ancestry_depth!==void 0&&(_.ancestry_depth=u.ancestry_depth),u.progeny_depth!==void 0&&(_.progeny_depth=u.progeny_depth),u.show_siblings_of_main!==void 0&&(_.show_siblings_of_main=u.show_siblings_of_main),u.private_cards_config!==void 0&&(_.private_cards_config=u.private_cards_config),rS(u.data,_)}function f(){const _=u.data.find(b=>b.id===u.main_id);if(!_)throw new Error("Main datum not found");return _}function h(_){const b=u.data.find(E=>E.id===_);if(b)return b}function y(){if(!u.tree)throw new Error("No tree");const _=u.tree.data.find(b=>b.data.id===u.main_id);if(!_)throw new Error("No tree main datum");return _}function p(_){if(!u.tree)throw new Error("No tree");const b=u.tree.data.find(E=>E.data.id===_);if(b)return b}function m(_){_!==u.main_id&&(u.main_id_history=u.main_id_history.filter(b=>b!==_).slice(-10),u.main_id_history.push(_),u.main_id=_)}function S(){u.main_id?!u.data.find(b=>b.id===u.main_id)&&u.data.length>0&&m(u.data[0].id):u.data.length>0&&m(u.data[0].id)}function g(){let _=u.main_id_history.slice(0).reverse().find(E=>h(E));if(!_&&u.data.length>0&&(_=u.data[0].id),!_)throw new Error("No main id");_!==u.main_id&&m(_);const b=h(_);if(!b)throw new Error("Main datum not found");return b}function v(_){if(u.legacy_format===void 0){for(const b of _)if(b.rels.father||b.rels.mother){u.legacy_format=!0;return}u.legacy_format=!1}}}function sS(l,i=!1){const u=[];return(l.spouses||l.coparent)&&f(l),r(l),o(l),u;function r(b){if(!b.parents)return;const E=b.parents[0],C=b.parents[1]||E,M={x:h(E,C,"x"),y:h(E,C,"y")};u.push({d:p(b,M),_d:()=>{const X={x:b.x,y:b.y},G={x:b.x,y:b.y};return p(X,G)},curve:!0,id:g(b,E,C),depth:b.depth+1,is_ancestry:!0,source:b,target:[E,C]})}function o(b){if(!b.children||b.children.length===0)return;const E=b.children.length;b.children.forEach(C=>{const M=v(C,b),X=M||b,G=M&&typeof M.x=="number"?(M.x+b.x)/2:b.x,F=M&&typeof M.y=="number"?(M.y+b.y)/2:b.y,H=_(C.psx,M?.sx,b.sx,G,b.x),W=_(C.psy,M?.sy,b.sy,F,b.y);if(typeof H!="number"||Number.isNaN(H))throw new Error("Cannot resolve progeny link anchor X");if(typeof W!="number"||Number.isNaN(W))throw new Error("Cannot resolve progeny link anchor Y");const Q=E>1||!!M,et=Q?H:typeof C.psx=="number"?C.psx:H,lt=Q?W:typeof C.psy=="number"?C.psy:W,tt=i?{x:b.x,y:lt}:{x:et,y:b.y},mt={x:C.x,y:C.y};u.push({d:p(tt,mt),_d:()=>p(tt,{x:y(tt,"x"),y:y(tt,"y")}),curve:!0,id:g(C,b,X),depth:b.depth+1,is_ancestry:!1,source:[b,X],target:C})})}function f(b){b.spouses?b.spouses.forEach(C=>u.push(E(b,C))):b.coparent&&u.push(E(b,b.coparent));function E(C,M){return{d:[[C.x,C.y],[M.x,M.y]],_d:()=>[C.is_ancestry?[y(C,"x")-1e-4,y(C,"y")]:[C.x,C.y],C.is_ancestry?[y(M,"x"),y(M,"y")]:[C.x-1e-4,C.y]],curve:!1,id:g(C,M),depth:C.depth,spouse:!0,is_ancestry:M.is_ancestry,source:C,target:M}}}function h(b,E,C,M=!1){return M?y(b,C)-(y(b,C)-y(E,C))/2:b[C]-(b[C]-E[C])/2}function y(b,E){const C=Object.prototype.hasOwnProperty.call(b,`_${E}`)?b[`_${E}`]:b[E];if(typeof C!="number")throw new Error(`${E} is not a number`);return C}function p(b,E){return i?S(b,E):m(b,E)}function m(b,E){const C=b.y+(E.y-b.y)/2;return[[b.x,b.y],[b.x,C],[b.x,C],[E.x,C],[E.x,C],[E.x,E.y]]}function S(b,E){const C=b.x+(E.x-b.x)/2;return[[b.x,b.y],[C,b.y],[C,b.y],[C,E.y],[C,E.y],[E.x,E.y]]}function g(...b){return b.map(E=>E.tid).sort().join(", ")}function v(b,E){return(E.spouses||[]).find(M=>b.data.rels.parents.includes(M.data.id))}function _(...b){for(const E of b)if(typeof E=="number"&&!Number.isNaN(E))return E}}function oS(l,i,u={}){var r,o;const f=i.data.reduce((G,F)=>(sS(F,i.is_horizontal).forEach(H=>G[H.id]=H),G),{}),h=Object.values(f);fS(h,i.is_horizontal);const y=(r=u.link_style)!==null&&r!==void 0?r:"smooth",p=Math.max(260,Math.round(((o=u.transition_time)!==null&&o!==void 0?o:200)*1.25)),m=Math.max(220,Math.round(p*.85)),S=Math.max(200,Math.round(p*.7)),g=Math.min(140,Math.round(p*.18)),v=P(l).select(".links_view").selectAll("path.link").data(h,G=>G.id);if(u.transition_time===void 0)throw new Error("transition_time is undefined");const _=v.exit(),b=v.enter().append("path").attr("class","link"),E=b.merge(v);_.each(X),b.each(C),E.each(M);function C(G){const F=P(this).attr("fill","none").attr("stroke","#fff").attr("stroke-width",1).style("opacity",0).attr("d",Xu(G,!0,y,i.is_horizontal)),H=G.__animation,W=H?H.index*g:0,Q=u.transition_time?100:0,et=(u.initial?fi(i,G,u.transition_time):0)+W+Q,lt=hS(H,i.is_horizontal);lt?F.attr("transform",`translate(${yt(lt[0])},${yt(lt[1])})`):F.attr("transform","translate(0,0)");const tt=dl(p,et);yl(F,tt).attr("d",Xu(G,!1,y,i.is_horizontal)).style("opacity",1).attr("transform","translate(0,0)")}function M(G){const F=P(this),H=G.__animation,W=H?H.index*Math.max(40,Math.round(g*.6)):0,Q=u.transition_time?100:0,et=(u.initial?fi(i,G,u.transition_time):0)+W+Q;F.interrupt().attr("transform","translate(0,0)");const lt=dl(m,et);yl(F,lt).attr("d",Xu(G,!1,y,i.is_horizontal)).style("opacity",1)}function X(G){const F=P(this),H=G?.__animation,W=H?(H.count-H.index-1)*Math.max(30,Math.round(g*.35)):0,Q=dl(S,W);yl(F,Q).attr("d",Xu(G,!0,y,i.is_horizontal)).style("opacity",0).attr("transform","translate(0,0)").on("end",()=>F.remove())}}function fS(l,i){const u=new Map;l.forEach(r=>{var o,f;const h=r;if(h.__animation=void 0,r.spouse||r.is_ancestry===!0||!Array.isArray(r.source))return;const y=Array.isArray(r.source)?r.source[0]:r.source,p=y?.data,m=(f=(o=p?.id)!==null&&o!==void 0?o:y?.id)!==null&&f!==void 0?f:y?.tid,S=m?`child:${String(m)}`:`child:${r.id}`;u.has(S)||u.set(S,[]),u.get(S).push(h)}),u.forEach(r=>{const o=r.slice().sort((f,h)=>{var y,p,m,S;const g=Array.isArray(f.target)?f.target[0]:f.target,v=Array.isArray(h.target)?h.target[0]:h.target,_=i?(y=g?.y)!==null&&y!==void 0?y:0:(p=g?.x)!==null&&p!==void 0?p:0,b=i?(m=v?.y)!==null&&m!==void 0?m:0:(S=v?.x)!==null&&S!==void 0?S:0;return _-b});o.forEach((f,h)=>{const y=mS(h,o.length,i);f.__animation={index:h,count:o.length,offset:y}})})}function hS(l,i){if(!l?.offset)return null;const u=i?.3:.35,r=l.offset.dx*u,o=l.offset.dy*u;return Math.abs(r)<.25&&Math.abs(o)<.25?null:[r,o]}function Xu(l,i=!1,u="smooth",r=!1){var o,f;const h=l,y=(i?l._d():l.d).map(([b,E])=>[b,E]),p=l.is_ancestry===!1&&!l.spouse&&Array.isArray(l.source),m=uo(y),S=yS(m,h.__animation),g=S,v=S;if(g.length<2||!l.curve)return oa(v);if(u==="legacy")return pS(v,r);if(u==="smooth"){const b=l.is_ancestry===!0,E=b||p?r?X0:j0:Xb,C=q0().x(M=>M[0]).y(M=>M[1]).curve(E);if(g&&g.length>=2){const M={x:g[0][0],y:g[0][1]},X={x:g[g.length-1][0],y:g[g.length-1][1]};if((b||p)&&!l.spouse){const G=b?"ancestor":p?"descendant":"other",{d:F}=dS(M,X,{isHorizontal:r,linkDirection:G});return F}}return(o=C(g))!==null&&o!==void 0?o:oa(v)}return(f=q0().x(b=>b[0]).y(b=>b[1]).curve(r?X0:j0)(g))!==null&&f!==void 0?f:oa(v)}function dS(l,i,u={}){const{isHorizontal:r=!1,linkDirection:o="other"}=u,f=i.x-l.x,h=i.y-l.y;if(o==="ancestor"||o==="descendant"){if(r){const G=f===0?1:Math.sign(f),F=pa(Math.abs(f)*.4,18,130),H={x:l.x+F*G,y:l.y},W={x:i.x-F*G,y:i.y};return{d:`M ${yt(l.x)},${yt(l.y)} C ${yt(H.x)},${yt(H.y)} ${yt(W.x)},${yt(W.y)} ${yt(i.x)},${yt(i.y)}`,controls:{c1:H,c2:W}}}const E=h===0?1:Math.sign(h),C=pa(Math.abs(h)*.4,20,120),M={x:l.x,y:l.y+C*E},X={x:i.x,y:i.y-C*E};return{d:`M ${yt(l.x)},${yt(l.y)} C ${yt(M.x)},${yt(M.y)} ${yt(X.x)},${yt(X.y)} ${yt(i.x)},${yt(i.y)}`,controls:{c1:M,c2:X}}}const y=Math.hypot(f,h)||1,p=Math.min(140,Math.max(24,y*.18)),m={x:l.x+f*.35,y:l.y+h*.35},S={x:i.x-f*.35,y:i.y-h*.35},g=-h/y*p*.25,v=f/y*p*.25,_={x:m.x+g,y:m.y+v},b={x:S.x+g,y:S.y+v};return{d:`M ${yt(l.x)},${yt(l.y)} C ${yt(_.x)},${yt(_.y)} ${yt(b.x)},${yt(b.y)} ${yt(i.x)},${yt(i.y)}`,controls:{c1:_,c2:b}}}function yS(l,i){if(!i?.offset)return l;const u=pa(i.offset.dx,-18,18),r=pa(i.offset.dy,-18,18);if(Math.abs(u)<.01&&Math.abs(r)<.01)return l;const o=l.length-1;if(o<=1)return l;const f=l.map(([h,y])=>[h,y]);for(let h=1;h<o;h++){const y=h/o,p=Math.sin(Math.PI*y)*.6;if(!Number.isFinite(p))continue;const m=l[h-1],S=l[h],g=l[h+1],v=[S[0]-m[0],S[1]-m[1]],_=[g[0]-S[0],g[1]-S[1]],b=Math.abs(v[0])<.001,E=Math.abs(v[1])<.001,C=Math.abs(_[0])<.001,M=Math.abs(_[1])<.001,X=b||C,G=E||M;Math.abs(u)>.01&&!X&&(f[h][0]+=u*p),Math.abs(r)>.01&&!G&&(f[h][1]+=r*p)}return f}function mS(l,i,u){if(i<=1)return;const r=(i-1)/2,o=l-r;if(Math.abs(o)<.05)return;const h=Math.min(20,(u?10:12)+i),y=pa(o*h,-24,24);return u?{dx:0,dy:y}:{dx:y,dy:0}}function pa(l,i,u){return Math.max(i,Math.min(u,l))}function oa(l){const i=uo(l);return i.length?i.map(([u,r],o)=>`${o===0?"M":"L"}${yt(u)},${yt(r)}`).join(" "):""}function uo(l){if(l.length<2)return l.slice();const i=[l[0]];for(let u=1;u<l.length;u++){const[r,o]=l[u],[f,h]=i[i.length-1];r===f&&o===h||i.push([r,o])}return i}function yt(l){if(!Number.isFinite(l))return"0";const i=Number(l.toFixed(3));return Number.isInteger(i),i.toString()}function pS(l,i){const u=uo(l);if(u.length<2)return oa(u);const r=[],o=u[0];r.push(`M${yt(o[0])},${yt(o[1])}`);for(let f=1;f<u.length;f++){const h=u[f],y=u[f-1];if(f===u.length-1){r.push(`L${yt(h[0])},${yt(h[1])}`);continue}const p=u[f+1],m=[h[0]-y[0],h[1]-y[1]],S=[p[0]-h[0],p[1]-h[1]],g=Math.hypot(m[0],m[1]),v=Math.hypot(S[0],S[1]);if(g===0||v===0){r.push(`L${yt(h[0])},${yt(h[1])}`);continue}const _=gS(g,v,i);if(_<=.5){r.push(`L${yt(h[0])},${yt(h[1])}`);continue}const b=[h[0]-m[0]/g*_,h[1]-m[1]/g*_],E=[h[0]+S[0]/v*_,h[1]+S[1]/v*_];r.push(`L${yt(b[0])},${yt(b[1])}`),r.push(`Q${yt(h[0])},${yt(h[1])} ${yt(E[0])},${yt(E[1])}`)}return r.join(" ")}function gS(l,i,u){const r=Math.min(l,i);if(r<=.001)return 0;const o=u?16:20,f=u?32:40,h=u?48:64,y=Math.max(2,r/2),p=f*(1-Math.exp(-r/h)),m=Math.max(o,Math.min(p,f));return Math.min(m,y)}function vS(l,i,u,r={}){const o=P(l).select(".cards_view").selectAll("g.card_cont").data(i.data,g=>g.data.id),f=o.exit(),h=o.enter().append("g").attr("class","card_cont"),y=h.merge(o);f.each(g=>oi(g,!1,!0)),h.each(g=>oi(g,!0,!1)),f.each(S),h.each(p),y.each(m);function p(g){P(this).attr("transform",`translate(${g._x}, ${g._y})`).style("opacity",0),u.call(this,g)}function m(g){u.call(this,g);const v=r.transition_time?100:0,_=(r.initial?fi(i,g,r.transition_time):0)+v,b=dl(r.transition_time,_);yl(P(this),b).attr("transform",`translate(${g.x}, ${g.y})`).style("opacity",1)}function S(g){const v=g,_=v?[v._x,v._y]:[0,0],b=P(this);b.transition().duration(r.transition_time).style("opacity",0).attr("transform",`translate(${_[0]}, ${_[1]})`).on("end",()=>b.remove())}}function _S(l,i,u,r={}){const o=v(l),f=P(o).select(".cards_view").selectAll("div.card_cont").data(i.data,_=>_.tid),h=f.exit(),y=f.enter().append("div").attr("class","card_cont").style("pointer-events","none"),p=y.merge(f);h.each(_=>oi(_,!1,!0)),y.each(_=>oi(_,!0,!1)),h.each(g),y.each(m),p.each(S);function m(_){P(this).style("position","absolute").style("top","0").style("left","0").style("transform",`translate(${_._x}px, ${_._y}px)`).style("opacity",0),u.call(this,_)}function S(_){u.call(this,_);const b=r.transition_time?100:0,E=(r.initial?fi(i,_,r.transition_time):0)+b,C=dl(r.transition_time,E);yl(P(this),C).style("transform",`translate(${_.x}px, ${_.y}px)`).style("opacity",1)}function g(_){const b=_,E=b?[b._x,b._y]:[0,0],C=P(this);C.transition().duration(r.transition_time).style("opacity",0).style("transform",`translate(${E[0]}px, ${E[1]}px)`).on("end",()=>C.remove())}function v(_){if(r.cardHtmlDiv)return r.cardHtmlDiv;const b=_.closest("#f3Canvas");if(!b)throw new Error("canvas not found");const E=b.querySelector("#htmlSvg");if(!E)throw new Error("htmlSvg not found");return E}}function bS(l){let i=[];return function(f){const h=r(f,i);return i=[...f,...h],u(Py(l),i),i};function u(o,f){const y=P(o).selectAll("div.card_cont_2fake").data(f,b=>b.data.id),p=y.exit(),m=y.enter().append("div").attr("class","card_cont_2fake").style("display","none").attr("data-id",()=>Math.random().toString(36).slice(2)),S=m.merge(y);p.each(_),m.each(g),S.each(v);function g(b){b.unique_id=P(this).attr("data-id")}function v(b){b.unique_id=P(this).attr("data-id")}function _(b){b&&(b.unique_id=P(this).attr("data-id"),P(this).remove())}}function r(o,f){return f.length>0?f.filter(h=>!o.find(y=>y.data.id===h.data.id)):[]}}function Py(l){return P(l()).select("div.cards_view_fake").node()}function SS(l){P(l()).append("div").attr("class","cards_view_fake").style("display","none")}const xS=bS;function ES(l){return l.unique_id}function AS(l,i,u,r={}){const o=r.cardHtmlDiv?r.cardHtmlDiv:l.closest("#f3Canvas").querySelector("#htmlSvg"),h=P(Py(()=>o)).selectAll("div.card_cont_fake").data(i.data,_=>_.data.id),y=h.exit(),p=h.enter().append("div").attr("class","card_cont_fake").style("display","none"),m=p.merge(h);y.each(_=>oi(_,!1,!0)),p.each(_=>oi(_,!0,!1)),y.each(v),p.each(S),m.each(g);function S(_){P(u(_)).style("position","absolute").style("top","0").style("left","0").style("opacity",0).style("transform",`translate(${_._x}px, ${_._y}px)`)}function g(_){const b=P(u(_)),E=r.transition_time?100:0,C=(r.initial?fi(i,_,r.transition_time):0)+E,M=dl(r.transition_time,C);yl(b,M).style("transform",`translate(${_.x}px, ${_.y}px)`).style("opacity",1)}function v(_){const b=[_._x,_._y],E=P(u(_)),C=P(this);E.transition().duration(r.transition_time).style("opacity",0).style("transform",`translate(${b[0]}px, ${b[1]}px)`).on("end",()=>C.remove())}}function tm(l,i,u,r={}){const o=Object.prototype.hasOwnProperty.call(r,"initial"),f=Object.prototype.hasOwnProperty.call(r,"transition_time");r.initial=o?r.initial:!P(i.parentNode).select(".card_cont").node(),r.transition_time=f?r.transition_time:1e3,r.cardComponent?AS(i,l,u,r):r.cardHtml?_S(i,l,u,r):vS(i,l,u,r),oS(i,l,r);const h=r.tree_position||"fit";return r.initial?Ks({svg:i,svg_dim:i.getBoundingClientRect(),tree_dim:l.dim,transition_time:0}):h==="fit"?Ks({svg:i,svg_dim:i.getBoundingClientRect(),tree_dim:l.dim,transition_time:r.transition_time}):h==="main_to_middle"&&O2({datum:l.data[0],svg:i,svg_dim:i.getBoundingClientRect(),scale:r.scale,transition_time:r.transition_time}),!0}function em(l,i,u){const r=l.id;u.forEach(h=>{h.rels.parents.includes(r)&&(h.rels.parents[h.rels.parents.indexOf(r)]=i),h.rels.spouses&&h.rels.spouses.includes(r)&&(h.rels.spouses=h.rels.spouses.filter(y=>y!==r),h.rels.spouses.includes(i)||h.rels.spouses.push(i)),h.rels.children&&h.rels.children.includes(r)&&(h.rels.children=h.rels.children.filter(y=>y!==r),h.rels.children.includes(i)||h.rels.children.push(i))});const o=u.find(h=>h.id===i),f=u.find(h=>h.id===r);if(!f)throw new Error("New rel not found");if(!o)throw new Error("Link rel not found");if((f.rels.children||[]).forEach(h=>{o.rels.children||(o.rels.children=[]),o.rels.children.includes(h)||o.rels.children.push(h)}),(f.rels.spouses||[]).forEach(h=>{o.rels.spouses||(o.rels.spouses=[]),o.rels.spouses.includes(h)||o.rels.spouses.push(h)}),o.rels.parents.length===0)o.rels.parents=[...f.rels.parents];else{const h=o.rels.parents.find(S=>{var g;return((g=u.find(v=>v.id===S))===null||g===void 0?void 0:g.data.gender)==="M"}),y=o.rels.parents.find(S=>{var g;return((g=u.find(v=>v.id===S))===null||g===void 0?void 0:g.data.gender)==="F"}),p=f.rels.parents.find(S=>{var g;return((g=u.find(v=>v.id===S))===null||g===void 0?void 0:g.data.gender)==="M"}),m=f.rels.parents.find(S=>{var g;return((g=u.find(v=>v.id===S))===null||g===void 0?void 0:g.data.gender)==="F"});p&&(h?(console.error("link rel already has father"),o.rels.parents[o.rels.parents.indexOf(h)]=p):o.rels.parents.push(p)),m&&(y?(console.error("link rel already has mother"),o.rels.parents[o.rels.parents.indexOf(y)]=m):o.rels.parents.push(m))}u.splice(u.findIndex(h=>h.id===r),1)}function CS(l,i){var u;const r=(u=i.find(p=>{var m;return p.id===((m=l._new_rel_data)===null||m===void 0?void 0:m.rel_id)}))!==null&&u!==void 0?u:null,o=h(l,i),f=y(l,i);if(l._new_rel_data&&["son","daughter"].includes(l._new_rel_data.rel_type)){if(!r)throw new Error("Rel datum not found");f.push(...y(r,i))}return i.filter(p=>p.id!==l.id&&p.id!==r?.id&&!p._new_rel_data&&!p.to_add&&!p.unknown).filter(p=>!o.includes(p.id)).filter(p=>!f.includes(p.id)).filter(p=>!(p.rels.spouses||[]).includes(l.id));function h(p,m){const S=[];return g(p),S;function g(v){v.rels.parents.forEach(_=>{if(_){S.push(_);const b=m.find(E=>E.id===_);if(!b)throw new Error("Parent not found");g(b)}})}}function y(p,m){const S=[];return g(p),S;function g(v){(v.rels.children?[...v.rels.children]:[]).forEach(b=>{S.push(b);const E=m.find(C=>C.id===b);if(!E)throw new Error("Child not found");g(E)})}}}function P0(l){var i,u,r,o;if(!l)return"";const f=l,h=f&&typeof f.data=="object"?f:{id:(i=f?.id)!==null&&i!==void 0?i:"",data:(u=f?.data)!==null&&u!==void 0?u:{}},y=(r=h.data)===null||r===void 0?void 0:r["first name"],p=(o=h.data)===null||o===void 0?void 0:o["last name"],m=typeof y=="string"?y.trim():"",S=typeof p=="string"?p.trim():"",g=[m,S].filter(Boolean);if(g.length>0)return g.join(" ");const v=typeof h.id=="string"&&h.id.trim().length>0?h.id.trim():"";return v?`Profil ${v}`:"Profil sans nom"}function TS({datum:l,store:i,fields:u,postSubmitHandler:r,addRelative:o,removeRelative:f,deletePerson:h,onCancel:y,editFirst:p,link_existing_rel_config:m,onFormCreation:S,no_edit:g,onSubmit:v,onDelete:_,canEdit:b,canDelete:E}){const C=new Set;let M=E?E(l):!0;(b?b(l):!0)||(g=!0,M=!1);let G;const F={datum_id:l.id,fields:[],onSubmit:ft,onCancel:y,onFormCreation:S,no_edit:g};if(l._new_rel_data)G=Object.assign(Object.assign({},F),{title:l._new_rel_data.label,new_rel:!0,editable:!0});else{if(!o)throw new Error("addRelative is required");if(!f)throw new Error("removeRelative is required");G=Object.assign(Object.assign({},F),{onDelete:D,addRelative:()=>o.activate(l),addRelativeCancel:()=>o.onCancel(),addRelativeActive:o.is_active,removeRelative:()=>f.activate(l),removeRelativeCancel:()=>f.onCancel(),removeRelativeActive:f.is_active,editable:!1,can_delete:M})}(l._new_rel_data||l.to_add||l.unknown)&&m&&(G.linkExistingRelative=mt(l,i.getData(),m)),g?G.editable=!1:p&&(G.editable=!0);const H=O=>O==null?"":String(O),W=O=>"label"in O&&O.label?O.label:O.id,Q=O=>"type"in O&&O.type?O.type:"text";function et(O){return typeof O.getRelLabel=="function"||"type"in O&&O.type==="rel_reference"}return u.forEach(O=>{if("initial_value"in O){G.fields.push(O);return}const A=Q(O),N=W(O);if(A==="rel_reference"){const $=et(O)&&typeof O.getRelLabel=="function"?O.getRelLabel:void 0,j=T=>{try{if(T)return P0(T)}catch{}return"Profil sans nom"},J={id:O.id,label:N,rel_type:"rel_type"in O?O.rel_type:"spouse",getRelLabel:$||j};if(!$){const T=O.id||"__rel_reference_missing_getRelLabel__";C.has(T)||(console.debug("rel_reference field creator did not provide getRelLabel  using default"),C.add(T))}lt(J);return}if(A==="select"){const $={id:O.id,type:"select",label:N,placeholder:"placeholder"in O?O.placeholder:void 0,options:"options"in O?O.options:void 0,optionCreator:"optionCreator"in O?O.optionCreator:void 0};tt($);return}G.fields.push({id:O.id,type:A,label:N,initial_value:H(l.data[O.id])})}),G;function lt(O){O.getRelLabel||console.error("getRelLabel is not set"),O.rel_type==="spouse"&&(l.rels.spouses||[]).forEach(A=>{const N=i.getDatum(A);if(!N)throw new Error("Spouse not found");const $=`${O.id}__ref__${A}`,j=P0(N),J={id:$,type:"rel_reference",label:O.label,rel_id:A,rel_label:j,initial_value:H(l.data[$]),rel_type:O.rel_type};G.fields.push(J)})}function tt(O){if(!O.options&&!O.optionCreator)return console.error("optionCreator or options is not set for field",O);const A=O.options||(O.optionCreator?O.optionCreator(l):[]),N={id:O.id,type:O.type,label:O.label,initial_value:H(l.data[O.id]),placeholder:O.placeholder,options:A};G.fields.push(N)}function mt(O,A,N){if(!N)throw new Error("link_existing_rel_config is required");return{title:N.title,select_placeholder:N.select_placeholder,options:CS(O,A).map(j=>({value:j.id,label:N.linkRelLabel(j)})).sort((j,J)=>typeof j.label=="string"&&typeof J.label=="string"?j.label.localeCompare(J.label):j.label<J.label?-1:1),onSelect:Bt}}function ft(O){v?v(O,l,A,()=>r({})):(O.preventDefault(),A(),r({}));function A(){const N=new FormData(O.target);k2(l,i.getData(),N)}}function Bt(O){const A=O.target.value;r({link_rel_id:A})}function D(){_?_(l,()=>h(),()=>r({delete:!0})):(h(),r({delete:!0}))}}function wS(l,i,u){let r=[],o=-1;return{changed:f,back:h,forward:y,canForward:p,canBack:m};function f(){o<r.length-1&&(r=r.slice(0,o+1));const g=i();g.main_id=l.getMainId(),r.push(g),o++}function h(){m()&&(o--,S(r[o]))}function y(){p()&&(o++,S(r[o]))}function p(){return o<r.length-1}function m(){return o>0}function S(g){const v=l.getMainId();g=JSON.parse(JSON.stringify(g)),g.find(_=>_.id===v)||l.updateMainId(g.main_id),l.updateData(g),u()}}function MS(l,i){const u=P(l).append("div").attr("class","f3-history-controls");l.insertBefore(u.node(),l.firstChild);const r=u.append("button").attr("class","f3-back-button").on("click",()=>{i.back(),f()}),o=u.append("button").attr("class","f3-forward-button").on("click",()=>{i.forward(),f()});return Qe(r,u2(),"History back icon"),Qe(o,r2(),"History forward icon"),{back_btn:r.node(),forward_btn:o.node(),updateButtons:f,destroy:h};function f(){r.classed("disabled",!i.canBack()),o.classed("disabled",!i.canForward()),!i.canBack()&&!i.canForward()?u.style("opacity",0).style("pointer-events","none"):u.style("opacity",1).style("pointer-events","auto")}function h(){P(l).select(".f3-history-controls").remove()}}const gl={add:{father:"Ajouter un pre",mother:"Ajouter une mre",spouse:"Ajouter un conjoint",son:"Ajouter un fils",daughter:"Ajouter une fille"},form:{cancel:"Annuler",save:"Enregistrer"},union:{title:"Unions et conjoints",unionWith:"Union avec"}};function zS(l){return` 
    <form id="familyForm" class="f3-form">
      ${im()}
      <h3 class="f3-form-title">${Tt(l.title)}</h3>

      ${nm(l)}
      
      <div class="f3-form-buttons">
        <button type="button" class="f3-cancel-btn">${Tt(gl.form.cancel)}</button>
        <button type="submit">${Tt(gl.form.save)}</button>
      </div>

      ${l.linkExistingRelative?lm(l):""}
    </form>
  `}function DS(l){return` 
    <form id="familyForm" class="f3-form ${l.editable?"":"non-editable"}">
      ${im()}
      
      <div class="tabs-nav" style="margin-top: 20px;">
        <button type="button" class="active" data-tab="details">Dtails</button>
        <button type="button" data-tab="files">Fichiers</button>
      </div>

      <div class="tab-content active" data-tab-content="details">
        <div style="text-align: right; display: 'block'">
          ${l.no_edit?"":RS(l)}
        </div>

        ${nm(l)}
        
        <div class="f3-form-buttons">
          <button type="button" class="f3-cancel-btn">${Tt(gl.form.cancel)}</button>
          <button type="submit">${Tt(gl.form.save)}</button>
        </div>

        ${l.linkExistingRelative?lm(l):""}

        <hr>
        ${OS(l)}

        ${NS(l)}
      </div>

      <div class="tab-content" data-tab-content="files">
        <div class="f3-files-placeholder" style="padding: 1rem; text-align: center; color: #666;">
            <p>Documents lis  la personne (Bientt disponible)</p>
        </div>
      </div>
    </form>
  `}function OS(l){return`
    <div>
      <button type="button" class="f3-delete-btn" ${l.can_delete?"":"disabled"}>
        Supprimer
      </button>
    </div>
  `}function NS(l){return`
    <div>
      <button type="button" class="f3-remove-relative-btn${l.removeRelativeActive?" active":""}">
        ${l.removeRelativeActive?"Annuler la suppression du lien":"Supprimer le lien"}
      </button>
    </div>
  `}function RS(l){return`
    <span class="f3-add-relative-btn">
      ${l.addRelativeActive?i2():l2()}
    </span>
  `}function nm(l){if(!l.editable)return f();const i=new Map,u=[];l.fields.forEach(g=>{if(h(g)){const v=g,_=v.rel_id;if(!_)return;const b=i.get(_)||{relLabel:v.rel_label},E=ty(v.id);E==="date"?b.dateField=v:E==="place"?b.placeField=v:u.push(v),i.set(_,b);return}u.push(g)});const r=p(i);let o="";return u.forEach(g=>{o+=y(g)}),r&&(o+=r),o;function f(){let g="";return l.fields.forEach(v=>{var _;if(v.type==="rel_reference"){const b=v;if(!b.initial_value)return;const E=S(b.rel_label);g+=`
          <div class="f3-info-field">
            <span class="f3-info-field-label">${b.label} - <i>${E}</i></span>
            <span class="f3-info-field-value">${b.initial_value||""}</span>
          </div>`}else if(v.type==="select"){const b=v;if(!v.initial_value)return;g+=`
        <div class="f3-info-field">
          <span class="f3-info-field-label">${b.label}</span>
          <span class="f3-info-field-value">${((_=b.options.find(E=>E.value===b.initial_value))===null||_===void 0?void 0:_.label)||""}</span>
        </div>`}else g+=`
        <div class="f3-info-field">
          <span class="f3-info-field-label">${v.label}</span>
          <span class="f3-info-field-value">${v.initial_value||""}</span>
        </div>`}),g}function h(g){if(!g||typeof g!="object")return!1;const v=g;return v.type!=="rel_reference"||typeof v.id!="string"?!1:ty(v.id)!==null}function y(g){if(g.type==="text")return`
      <div class="f3-form-field">
        <label>${g.label}</label>
        <input type="${g.type}" 
          name="${g.id}" 
          value="${Tt(g.initial_value||"")}"
          placeholder="${Tt(g.label)}">
      </div>`;if(g.type==="textarea")return`
      <div class="f3-form-field">
        <label>${g.label}</label>
        <textarea name="${g.id}" 
          placeholder="${Tt(g.label)}">${Tt(g.initial_value||"")}</textarea>
      </div>`;if(g.type==="select"){const v=g;return`
      <div class="f3-form-field">
        <label>${v.label}</label>
        <select name="${v.id}" value="${v.initial_value||""}">
          <option value="">${Tt(v.placeholder||`Slectionnez ${v.label}`)}</option>
          ${v.options.map(_=>`<option ${_.value===v.initial_value?"selected":""} value="${Tt(_.value)}">${Tt(_.label)}</option>`).join("")}
        </select>
      </div>`}if(g.type==="rel_reference"){const v=g,_=S(v.rel_label);return`
      <div class="f3-form-field">
        <label>${v.label} - <i>${_}</i></label>
        <input type="text" 
          name="${v.id}" 
          value="${Tt(v.initial_value||"")}"
          placeholder="${Tt(v.label)}">
      </div>`}return""}function p(g){var v,_;if(!g||g.size===0)return"";let b=`
    <section class="f3-union-section">
      <h4 class="f3-union-title">${(_=(v=gl.union)===null||v===void 0?void 0:v.title)!==null&&_!==void 0?_:"Unions et conjoints"}</h4>`,E=!1;return g.forEach(C=>{var M,X;const G=S(C.relLabel||"Conjoint"),F=C.dateField,H=C.placeField,W=m(F),Q=m(H);!W&&!Q||(E=!0,b+=`
      <div class="f3-union-entry">
        <p class="f3-union-entry-heading">${(X=(M=gl.union)===null||M===void 0?void 0:M.unionWith)!==null&&X!==void 0?X:"Union avec"} <strong>${G}</strong></p>
        <div class="f3-union-fields">
          ${W}
          ${Q}
        </div>
      </div>`)}),b+=`
    </section>`,E?b:""}function m(g){return g?`
          <div class="f3-form-field f3-union-field">
            <label>${g.label}</label>
            <input type="text" 
              name="${g.id}" 
              value="${g.initial_value||""}"
              placeholder="${g.label}">
          </div>`:""}function S(g){return g?g.replace(/\s*\([^)]*\)/g," ").replace(/\b\d{1,2}[./-]\d{1,2}[./-]\d{2,4}\b/g," ").replace(/\b\d{4}\b/g," ").replace(/\s{2,}/g," ").trim():""}}function ty(l){if(typeof l!="string")return null;const i=l.indexOf("__ref__");if(i===-1)return null;const r=l.slice(0,i).toLowerCase().replace(/[^a-z]+/g," ").trim(),o=r.replace(/[^a-z]+/g,"");return o==="uniondate"||r.startsWith("union")&&r.includes("date")?"date":o==="unionplace"||r.startsWith("union")&&r.includes("place")?"place":null}function lm(l){const i=l.linkExistingRelative,u=i&&Object.prototype.hasOwnProperty.call(i,"title")?i.title:"Profil dj prsent ?",r=i&&Object.prototype.hasOwnProperty.call(i,"select_placeholder")?i.select_placeholder:"Slectionnez un profil",o=i?i.options:[];return`
    <div>
      <hr>
      <div class="f3-link-existing-relative">
        <label>${u}</label>
        <select>
          <option value="">${r}</option>
          ${o.map(f=>`<option value="${f.value}">${f.label}</option>`).join("")}
        </select>
      </div>
    </div>
  `}function im(){return`
    <span class="f3-close-btn">
      
    </span>
  `}function HS(l){const i=typeof l=="string"?document.querySelector(l):l;if(!i)return;const u=i.querySelectorAll(".tabs-nav > [data-tab], [data-tab]");if(u.length===0)return;u.forEach(o=>{o.addEventListener("click",f=>{f.preventDefault();const h=o.dataset.tab;u.forEach(p=>p.classList.remove("active")),o.classList.add("active"),i.querySelectorAll("[data-tab-content]").forEach(p=>{p.dataset.tabContent===h?p.classList.add("active"):Array.from(u).some(S=>S.dataset.tab===p.dataset.tabContent)&&p.classList.remove("active")})})}),!Array.from(u).find(o=>o.classList.contains("active"))&&u.length>0&&u[0].click()}function US(l,i){return am(l,i)}function qS(l,i){return am(l,i)}function am(l,i){const u=f(l),r=document.createElement("div");return o(),r;function o(){const h=u?zS(l):DS(l);si(r,h,"Form renderer"),HS(r),BS(r,l,i,o),u?LS(r,l):$S(r,l,o),l.onFormCreation&&l.onFormCreation({cont:r,form_creator:l})}function f(h){return"new_rel"in h}}function BS(l,i,u,r){const o=l.querySelector("form");o.addEventListener("submit",i.onSubmit),o.querySelector(".f3-cancel-btn").addEventListener("click",y),o.querySelector(".f3-close-btn").addEventListener("click",u);function y(){i.editable=!1,i.onCancel&&i.onCancel(),r()}}function LS(l,i){const r=l.querySelector("form").querySelector(".f3-link-existing-relative select");r&&i.linkExistingRelative&&r.addEventListener("change",i.linkExistingRelative.onSelect)}function $S(l,i,u){const r=l.querySelector("form"),o=r.querySelector(".f3-edit-btn");o&&o.addEventListener("click",m);const f=r.querySelector(".f3-delete-btn");f&&i.onDelete&&f.addEventListener("click",i.onDelete);const h=r.querySelector(".f3-add-relative-btn");h&&i.addRelative&&h.addEventListener("click",()=>{i.addRelativeActive?i.addRelativeCancel():i.addRelative(),i.addRelativeActive=!i.addRelativeActive,u()});const y=r.querySelector(".f3-remove-relative-btn");y&&i.removeRelative&&y.addEventListener("click",()=>{i.removeRelativeActive?i.removeRelativeCancel():i.removeRelative(),i.removeRelativeActive=!i.removeRelativeActive,u()});const p=r.querySelector(".f3-link-existing-relative select");p&&i.linkExistingRelative&&p.addEventListener("change",i.linkExistingRelative.onSelect);function m(){i.editable=!i.editable,u()}}function YS(l,i){i.forEach(u=>{const r=u._new_rel_data;r&&r.rel_type==="spouse"&&(u.data.gender=u.data.gender==="M"?"F":"M")})}function XS(l){for(let i=l.length-1;i>=0;i--){const u=l[i];u._new_rel_data&&(l.forEach(r=>{r.rels.parents.includes(u.id)&&r.rels.parents.splice(r.rels.parents.indexOf(u.id),1),r.rels.children&&r.rels.children.includes(u.id)&&r.rels.children.splice(r.rels.children.indexOf(u.id),1),r.rels.spouses&&r.rels.spouses.includes(u.id)&&r.rels.spouses.splice(r.rels.spouses.indexOf(u.id),1)}),l.splice(i,1))}}function jS(l,i,u,r){let o={parent:!0,spouse:!0,child:!0};r&&(o=Object.assign(o,r(l))),l.rels.spouses||(l.rels.spouses=[]),l.rels.children||(l.rels.children=[]),o.parent&&f(),o.spouse&&(h(),y()),o.child&&p();function f(){const m=l.rels.parents,S=m.find(b=>{var E;return((E=i.find(C=>C.id===b))===null||E===void 0?void 0:E.data.gender)==="M"}),g=m.find(b=>{var E;return((E=i.find(C=>C.id===b))===null||E===void 0?void 0:E.data.gender)==="F"});if(m.length<2&&!S){const b=Gn({data:{gender:"M"},rels:{children:[l.id]}});b._new_rel_data={rel_type:"father",label:u.father,rel_id:l.id},l.rels.parents.push(b.id),i.push(b)}if(m.length<2&&!g){const b=Gn({data:{gender:"F"},rels:{children:[l.id]}});b._new_rel_data={rel_type:"mother",label:u.mother,rel_id:l.id},l.rels.parents.push(b.id),i.push(b)}const v=i.find(b=>b.id===l.rels.parents[0]),_=i.find(b=>b.id===l.rels.parents[1]);v.rels.spouses||(v.rels.spouses=[]),_.rels.spouses||(_.rels.spouses=[]),v.rels.spouses.includes(_.id)||v.rels.spouses.push(_.id),_.rels.spouses.includes(v.id)||_.rels.spouses.push(v.id),v.rels.children||(v.rels.children=[]),_.rels.children||(_.rels.children=[]),v.rels.children.includes(l.id)||v.rels.children.push(l.id),_.rels.children.includes(l.id)||_.rels.children.push(l.id)}function h(){if(l.rels.spouses||(l.rels.spouses=[]),l.rels.children){let m;l.rels.children.forEach(S=>{const g=i.find(v=>v.id===S);if(g.rels.parents.length===1){const _=i.find(b=>b.id===g.rels.parents[0]).data.gender==="M"?"F":"M";m||(m=Gn({data:{gender:_},rels:{spouses:[l.id]}})),m._new_rel_data={rel_type:"spouse",label:u.spouse,rel_id:l.id},m.rels.children.push(g.id),l.rels.spouses.push(m.id),g.rels.parents.push(m.id),i.push(m)}})}}function y(){l.rels.spouses||(l.rels.spouses=[]);const m=l.data.gender==="M"?"F":"M",S=Gn({data:{gender:m},rels:{spouses:[l.id]}});S._new_rel_data={rel_type:"spouse",label:u.spouse,rel_id:l.id},l.rels.spouses.push(S.id),i.push(S)}function p(){l.rels.children||(l.rels.children=[]),l.rels.spouses||(l.rels.spouses=[]),l.rels.spouses.forEach(m=>{const S=i.find(_=>_.id===m);S.rels.children||(S.rels.children=[]);const g=Gn({data:{gender:"M"},rels:{parents:[l.id,S.id]}});g._new_rel_data={rel_type:"son",label:u.son,other_parent_id:S.id,rel_id:l.id},S.rels.children.push(g.id),l.rels.children.push(g.id),i.push(g);const v=Gn({data:{gender:"F"},rels:{parents:[l.id,S.id]}});v._new_rel_data={rel_type:"daughter",label:u.daughter,other_parent_id:S.id,rel_id:l.id},S.rels.children.push(v.id),l.rels.children.push(v.id),i.push(v)})}return i}var GS=(l,i,u)=>new VS(l,i,u);class VS{constructor(i,u,r){return this.store=i,this.onActivate=u,this.cancelCallback=r,this.datum=null,this.onChange=null,this.onCancel=null,this.is_active=!1,this.addRelLabels=this.addRelLabelsDefault(),this}activate(i){this.is_active&&this.onCancel(),this.onActivate(),this.is_active=!0,this.store.state.one_level_rels=!0;const u=this.store;this.datum=i;let r=this.datum.data.gender;jS(i,this.getStoreData(),this.addRelLabels,this.canAdd),u.updateTree({}),this.onChange=o,this.onCancel=()=>f(this);function o(h,y){h?._new_rel_data?typeof y?.link_rel_id=="string"?em(h,y.link_rel_id,u.getData()):delete h._new_rel_data:h.id===i.id?h.data.gender!==r&&(r=h.data.gender,YS(h,u.getData())):console.error("Something went wrong")}function f(h){h.is_active&&(h.is_active=!1,h.store.state.one_level_rels=!1,h.cleanUp(),h.cancelCallback(h.datum),h.datum=null,h.onChange=null,h.onCancel=null)}}setAddRelLabels(i){if(typeof i!="object"){console.error("add_rel_labels must be an object");return}for(const u in i){const r=u;this.addRelLabels[r]=i[r]}return this}setCanAdd(i){return this.canAdd=i,this}addRelLabelsDefault(){return gl.add}getStoreData(){return this.store.getData()}cleanUp(i){return i||(i=this.store.getData()),XS(i),i}}var QS=(l,i,u,r)=>new ZS(l,i,u,r);class ZS{constructor(i,u,r,o){return this.store=i,this.onActivate=u,this.cancelCallback=r,this.modal=o,this.datum=null,this.onChange=null,this.onCancel=null,this.is_active=!1,this}activate(i){this.is_active&&this.onCancel(),this.onActivate(),this.is_active=!0,this.store.state.one_level_rels=!0;const u=this.store;u.updateTree({}),this.datum=i,this.onChange=r.bind(this),this.onCancel=o.bind(this);function r(f,h){const y=v(f),p=i.rels;y==="parent"?m.call(this):y==="spouse"?S.call(this):y==="children"&&g.call(this);function m(){const _=f.data.id,b=u.getDatum(_);if(!b)throw new Error("Parent not found");if(!b.rels.children)throw new Error("Parent has no children");b.rels.children=b.rels.children.filter(E=>E!==i.id),p.parents=p.parents.filter(E=>E!==_),h()}function S(){const _=f.data;b()?E.call(this):C.call(this,!0);function b(){return(_.rels.children||[]).some(X=>{const G=u.getDatum(X);if(!G)throw new Error("Child not found");return!!G.rels.parents.includes(_.id)})}function E(){const M=i.data.gender==="M"?"f3-male-bg":i.data.gender==="F"?"f3-female-bg":null,X=_.data.gender==="M"?"f3-male-bg":_.data.gender==="F"?"f3-female-bg":null,G=ml("div");Qe(G,`
            <p>Vous supprimez un lien de conjoint. Comme des enfants sont partags, choisissez quel parent doit les conserver dans l'arbre.</p>
            <div class="f3-modal-options">
              <button data-option="assign-to-current" class="f3-btn ${M}">Garder les enfants avec la personne actuelle</button>
              <button data-option="assign-to-spouse" class="f3-btn ${X}">Garder les enfants avec le conjoint</button>
            </div>
          `,"Remove relative confirmation"),G.selectAll('[data-option="assign-to-current"]').on("click",()=>{C(!0),this.modal.close()}),G.selectAll('[data-option="assign-to-spouse"]').on("click",()=>{C(!1),this.modal.close()}),this.modal.activate(G.node())}function C(M){f.data.rels.spouses=f.data.rels.spouses.filter(F=>F!==i.id),p.spouses=p.spouses.filter(F=>F!==f.data.id);const X=M?i:f.data,G=M?f.data:i;(p.children||[]).forEach(F=>{const H=u.getDatum(F);if(!H)throw new Error("Child not found");H.rels.parents.includes(G.id)&&(H.rels.parents=H.rels.parents.filter(W=>W!==G.id))}),G.rels.children&&(G.rels.children=G.rels.children.filter(F=>!(X.rels.children||[]).includes(F))),h()}}function g(){if(!p.children)throw new Error("Children not found");p.children=p.children.filter(_=>_!==f.data.id),f.data.rels.parents=f.data.rels.parents.filter(_=>_!==i.id),h()}function v(_){if(_.is_ancestry){if(i.rels.parents.includes(_.data.id))return"parent"}else if(_.spouse){if(!i.rels.spouses)throw new Error("Spouses not found");if(i.rels.spouses.includes(_.data.id))return"spouse"}else{if(!i.rels.children)throw new Error("Children not found");if(i.rels.children.includes(_.data.id))return"children"}return null}}function o(){if(this.is_active){if(this.is_active=!1,this.store.state.one_level_rels=!1,!this.datum)throw new Error("Datum not found");this.cancelCallback(this.datum),this.datum=null,this.onChange=null,this.onCancel=null}}}}function KS(l){return new JS(l)}class JS{constructor(i){this.cont=i,this.active=!1,this.onClose=null,this.modal_cont=P(this.cont).append("div").attr("class","f3-modal").node(),P(this.modal_cont).style("display","none"),this.create()}create(){const i=P(this.modal_cont);Qe(i,`
      <div class="f3-modal-content">
        <span class="f3-modal-close">&times;</span>
        <div class="f3-modal-content-inner"></div>
        <div class="f3-modal-content-bottom"></div>
      </div>
    `,"Modal structure"),i.select(".f3-modal-close").on("click",()=>{this.close()}),i.on("click",u=>{u.target==i.node()&&this.close()})}activate(i,{boolean:u,onAccept:r,onCancel:o}={}){this.reset();const f=P(this.modal_cont).select(".f3-modal-content-inner").node();if(typeof i=="string"?f.textContent=i:f.appendChild(i),u){if(!r)throw new Error("onAccept is required");if(!o)throw new Error("onCancel is required");const h=P(this.modal_cont).select(".f3-modal-content-bottom");Qe(h,`
        <button class="f3-modal-accept f3-btn">Valider</button>
        <button class="f3-modal-cancel f3-btn">Annuler</button>
      `,"Modal confirmation actions"),P(this.modal_cont).select(".f3-modal-accept").on("click",()=>{r(),this.reset(),this.close()}),P(this.modal_cont).select(".f3-modal-cancel").on("click",()=>{this.close()}),this.onClose=o}this.open()}reset(){this.onClose=null,Vn(this.modal_cont.querySelector(".f3-modal-content-inner")),Vn(this.modal_cont.querySelector(".f3-modal-content-bottom"))}open(){this.modal_cont.style.display="block",this.active=!0}close(){this.modal_cont.style.display="none",this.active=!1,this.onClose&&this.onClose()}}const ey={"first name":"Prnom","first names":"Prnoms","last name":"Nom","maiden name":"Nom de naissance",birthday:"Date de naissance",death:"Date de dcs",gender:"Genre",birthplace:"Lieu de naissance",deathplace:"Lieu de dcs",bio:"Biographie",metiers:"Mtiers",nationality:"Nationalit",occupation:"Profession",avatar:"Avatar","union paragraph":"Paragraphe dunion"};var kS=(l,i)=>new FS(l,i);class FS{constructor(i,u){return this.cont=i,this.store=u,this.fields=[{type:"text",label:"Prnom",id:"first name"},{type:"text",label:"Prnoms",id:"first names"},{type:"text",label:"Nom",id:"last name"},{type:"text",label:"Date de naissance",id:"birthday"},{type:"text",label:"Avatar",id:"avatar"}],this.is_fixed=!0,this.no_edit=!1,this.onChange=null,this.editFirst=!1,this.postSubmit=null,this.onFormCreation=null,this.createFormEdit=null,this.createFormNew=null,this.formCont=this.getFormContDefault(),this.modal=this.setupModal(),this.addRelativeInstance=this.setupAddRelative(),this.removeRelativeInstance=this.setupRemoveRelative(),this.history=this.createHistory(),this}open(i){i.rels||(i=i.data);const u=o=>{i._new_rel_data?o.cardEditForm(i):(o.addRelativeInstance.onCancel(),o.cardEditForm(i),o.store.updateMainId(i.id),o.store.updateTree({}))},r=(o,f)=>{if(!f)throw new Error("Tree datum not found");if(!o.removeRelativeInstance.datum)throw new Error("Remove relative datum not found");if(!o.removeRelativeInstance.onCancel)throw new Error("Remove relative onCancel not found");if(!o.removeRelativeInstance.onChange)throw new Error("Remove relative onChange not found");if(i.id===o.removeRelativeInstance.datum.id)o.removeRelativeInstance.onCancel(),o.cardEditForm(i);else{const h=()=>{o.removeRelativeInstance.onCancel(),o.updateHistory(),o.store.updateTree({})};o.removeRelativeInstance.onChange(f,h.bind(o))}};this.addRelativeInstance.is_active?u(this):this.removeRelativeInstance.is_active?r(this,this.store.getTreeDatum(i.id)):this.cardEditForm(i)}setupAddRelative(){const i=r=>{r.removeRelativeInstance.is_active&&r.removeRelativeInstance.onCancel()},u=(r,o)=>{r.store.updateMainId(o.id),r.store.updateTree({}),r.openFormWithId(o.id)};return GS(this.store,()=>i(this),r=>u(this,r))}setupRemoveRelative(){const i=(o,f)=>{P(o).select("#f3Canvas").classed("f3-remove-relative-active",f)},u=function(){this.addRelativeInstance.is_active&&this.addRelativeInstance.onCancel(),i(this.cont,!0)},r=function(o){i(this.cont,!1),this.store.updateMainId(o.id),this.store.updateTree({}),this.openFormWithId(o.id)};return QS(this.store,u.bind(this),r.bind(this),this.modal)}createHistory(){const i=function(){var f,h;this.addRelativeInstance.is_active&&this.addRelativeInstance.onCancel(),this.removeRelativeInstance.is_active&&this.removeRelativeInstance.onCancel(),this.store.updateTree({initial:!1}),(f=this.history)===null||f===void 0||f.controls.updateButtons(),this.openFormWithId((h=this.store.getMainDatum())===null||h===void 0?void 0:h.id),this.onChange&&this.onChange()},u=wS(this.store,this._getStoreDataCopy.bind(this),i.bind(this)),r=this.cont.querySelector(".f3-nav-cont");if(!r)throw new Error("Nav cont not found");const o=MS(r,u);return u.changed(),o.updateButtons(),Object.assign(Object.assign({},u),{controls:o})}openWithoutRelCancel(i){this.cardEditForm(i)}getFormContDefault(){let i=P(this.cont).select("div.f3-form-cont").node();return i||(i=P(this.cont).append("div").classed("f3-form-cont",!0).node()),{el:i,populate(u){Vn(i),i.appendChild(u)},open(){P(i).classed("opened",!0)},close(){P(i).classed("opened",!1),Vn(i)}}}setFormCont(i){return this.formCont=i,this}cardEditForm(i){const u={},r=i?._new_rel_data;r?u.onCancel=()=>this.addRelativeInstance.onCancel():(u.addRelative=this.addRelativeInstance,u.removeRelative=this.removeRelativeInstance,u.deletePerson=()=>{Wy(i,this.store.getData()),this.openFormWithId(this.store.getLastAvailableMainDatum().id),this.store.updateTree({})});const o=(y,p)=>{if(y.addRelativeInstance.is_active){y.addRelativeInstance.onChange(i,p),y.postSubmit&&y.postSubmit(i,y.store.getData());const m=y.addRelativeInstance.datum;if(!m)throw new Error("Active datum not found");y.store.updateMainId(m.id),y.openWithoutRelCancel(m)}else if((i.to_add||i.unknown)&&typeof p?.link_rel_id=="string"){const m=p.link_rel_id;em(i,m,y.store.getData()),y.store.updateMainId(m),y.openFormWithId(m)}else p?.delete||(y.postSubmit&&y.postSubmit(i,y.store.getData()),y.openFormWithId(i.id));y.is_fixed||y.closeForm(),y.store.updateTree({}),y.updateHistory()},f=TS(Object.assign({store:this.store,datum:i,postSubmitHandler:y=>o(this,y),fields:this.fields,onCancel:()=>{},editFirst:this.editFirst,no_edit:this.no_edit,link_existing_rel_config:this.link_existing_rel_config,onFormCreation:this.onFormCreation,onSubmit:this.onSubmit,onDelete:this.onDelete,canEdit:this.canEdit,canDelete:this.canDelete},u)),h=r?(this.createFormNew||US)(f,this.closeForm.bind(this)):(this.createFormEdit||qS)(f,this.closeForm.bind(this));this.formCont.populate(h),this.openForm()}openForm(){this.formCont.open()}closeForm(){this.formCont.close(),this.store.updateTree({})}fixed(){return this.is_fixed=!0,this.formCont.el&&P(this.formCont.el).style("position","relative"),this}absolute(){return this.is_fixed=!1,this.formCont.el&&P(this.formCont.el).style("position","absolute"),this}setCardClickOpen(i){return i.setOnCardClick((u,r)=>{const o=u;this.isAddingRelative()?this.open(r.data):this.isRemovingRelative()?this.open(r.data):(this.open(r.data),i.onCardClickDefault(o,r))}),this}openFormWithId(i){if(i){const u=this.store.getDatum(i);if(!u)throw new Error("Datum not found");this.openWithoutRelCancel(u)}else{const u=this.store.getMainDatum();if(!u)throw new Error("Main datum not found");this.openWithoutRelCancel(u)}}setNoEdit(){return this.no_edit=!0,this}setEdit(){return this.no_edit=!1,this}setFields(i){const u=[];if(!Array.isArray(i))return console.error("fields must be an array"),this;for(const r of i)if(typeof r=="string"){const o=r,f=ey[o]||r;u.push({type:"text",label:f,id:o})}else if(typeof r=="object"&&r!==null)if(!("id"in r)||typeof r.id!="string"||!r.id)console.error("fields must be an array of objects with id property");else{const o=r;if(Object.prototype.hasOwnProperty.call(o,"getRelLabel")||Object.prototype.hasOwnProperty.call(o,"options")||Object.prototype.hasOwnProperty.call(o,"optionCreator"))u.push(o);else{const f=r,h=f.label||ey[f.id]||f.id,y=f.type||"text";u.push({id:f.id,label:h,type:y})}}else console.error("fields must be an array of strings or objects");return this.fields=u,this}setOnChange(i){return this.onChange=i,this}setCanEdit(i){return this.canEdit=i,this}setCanDelete(i){return this.canDelete=i,this}setCanAdd(i){return this.addRelativeInstance.setCanAdd(i),this}addRelative(i){return i||(i=this.store.getMainDatum()),this.addRelativeInstance.activate(i),this}setupModal(){return KS(this.cont)}setEditFirst(i){return this.editFirst=i,this}isAddingRelative(){return this.addRelativeInstance.is_active}isRemovingRelative(){return this.removeRelativeInstance.is_active}setAddRelLabels(i){return this.addRelativeInstance.setAddRelLabels(i),this}setLinkExistingRelConfig(i){return this.link_existing_rel_config=i,this}setOnFormCreation(i){return this.onFormCreation=i,this}setCreateFormEdit(i){return this.createFormEdit=i,this}setCreateFormNew(i){return this.createFormNew=i,this}_getStoreDataCopy(){let i=JSON.parse(JSON.stringify(this.store.getData()));return this.addRelativeInstance.is_active&&(i=this.addRelativeInstance.cleanUp(i)),i=P2(i),i}getStoreDataCopy(){return this.exportData()}exportData(){let i=this._getStoreDataCopy();return i=uS(i,this.store.state.legacy_format),i}getDataJson(){return JSON.stringify(this.exportData(),null,2)}updateHistory(){const i=this.history;i&&(i.changed(),i.controls.updateButtons()),this.onChange&&this.onChange()}setPostSubmit(i){return this.postSubmit=i,this}setOnSubmit(i){return this.onSubmit=i,this}setOnDelete(i){return this.onDelete=i,this}destroy(){return this.history&&(this.history.controls.destroy(),this.history=null),this.formCont.el&&P(this.formCont.el).remove(),this.addRelativeInstance.onCancel&&this.addRelativeInstance.onCancel(),this.store.updateTree({}),this}}function WS(l,i,u){const r=[];i.data.forEach(v=>{v.coparent&&v.data.data.gender==="F"&&r.push({nodes:[v,v.coparent],id:`${v.data.id}--${v.coparent.data.id}`}),v.spouses&&v.spouses.forEach(_=>r.push({nodes:[_,v],id:`${_.data.id}--${v.data.id}`}))});const o=P(l).select(".links_view").selectAll("g.link-text").data(r,v=>v.id),f=o.exit(),h=o.enter().append("g").attr("class","link-text"),y=h.merge(o),p=(v,_)=>v.spouse&&v.data.data.gender==="F"?v.x-u.node_separation/2:_.spouse&&_.data.data.gender==="M"?_.x+u.node_separation/2:Math.min(v.x,_.x)+u.node_separation/2;f.each(g),h.each(m),y.each(S);function m(v){const[_,b]=v.nodes,E=P(this);E.attr("transform",`translate(${p(_,b)}, ${_.y-3})`).style("opacity",0),E.append("text").style("font-size","12px").style("fill","#fff").style("text-anchor","middle")}function S(v){const[_,b]=v.nodes,E=P(this),C=u.initial?fi(i,_,u.transition_time):0;E.select("text").text(u.linkSpouseText(_,b)),E.transition("text").duration(u.transition_time).delay(C).attr("transform",`translate(${p(_,b)}, ${_.y-3})`),E.transition("text-op").duration(100).delay(C+u.transition_time).style("opacity",1)}function g(){const v=P(this);v.transition("text").duration(100).style("opacity",0).on("end",()=>v.remove())}}function IS(l,i,u=[]){const r=i[0];if(l.id===r.id)return!0;const o=[...u];let f=!1;return h(l),f;function h(y){if(f)return;const p=y.rels;[...p.parents,...p.spouses||[],...p.children||[]].filter(S=>!!S).forEach(S=>{if(o.includes(S))return;o.push(S);const g=i.find(v=>v.id===S);g.id===r.id?f=!0:h(g)})}}function PS(l,i,u={}){return new tx(l,i,u)}class tx{constructor(i,u,r={}){this.cont=i,this.options=[],this.onSelect=u,this.config=r,this.autocomplete_cont=P(this.cont).append("div").attr("class","f3-autocomplete-cont").node(),this.create()}create(){var i;const u=P(this.autocomplete_cont);u.selectAll("*").remove();const r=u.append("div").attr("class","f3-autocomplete"),o=r.append("div").attr("class","f3-autocomplete-input-cont"),f=o.append("input").attr("type","text").attr("placeholder",((i=this.config)===null||i===void 0?void 0:i.placeholder)||"Rechercher"),h=o.append("span").attr("class","f3-autocomplete-toggle");Qe(h,s2(),"Autocomplete toggle icon");const y=r.append("div").attr("class","f3-autocomplete-items").attr("tabindex",0),p=(b,E)=>{b.forEach(C=>P(C).classed("f3-selected",!1)),b[E]&&(P(b[E]).classed("f3-selected",!0),b[E].scrollIntoView({block:"nearest"}))},m=b=>{y.selectAll("div.f3-autocomplete-item").data(b,M=>M.value).join("div").attr("class","f3-autocomplete-item").on("click",(M,X)=>{this.onSelect(X.value)}).each(function(M){const X=this;if(Vn(X),M.optionHtml)si(X,M.optionHtml(M),"Autocomplete option");else{const G=document.createElement("div");M.class&&(G.className=M.class),si(G,M.label_html||Tt(M.label),"Autocomplete option label"),X.appendChild(G)}})},S=()=>{r.classed("active",!1),m([])},g=()=>{this.options=this.getOptions()},v=()=>{r.classed("active",!0);const E=(f.property("value")||"").trim().toLowerCase(),C=this.options.filter(M=>E?(M.searchText||M.label||"").toLowerCase().includes(E):!0);C.forEach(M=>{M.label_html=ex(M.label,E)}),C.sort((M,X)=>M.label.localeCompare(X.label)),m(C)},_=b=>{const E=y.selectAll("div.f3-autocomplete-item").nodes(),C=E.findIndex(M=>P(M).classed("f3-selected"));if(b.key==="ArrowDown"){b.preventDefault();const M=C<E.length-1?C+1:0;p(E,M)}else if(b.key==="ArrowUp"){b.preventDefault();const M=C>0?C-1:E.length-1;p(E,M)}else if(b.key==="Enter"&&C!==-1){b.preventDefault();const M=P(E[C]).datum();M&&this.onSelect(M.value)}};r.on("focusout",()=>{setTimeout(()=>{r.node().contains(document.activeElement)||S()},200)}),f.on("focus",()=>{g(),v()}).on("input",()=>v()).on("keydown",b=>_(b)),y.on("wheel",b=>b.stopPropagation()),r.select(".f3-autocomplete-toggle").on("click",b=>{b.stopPropagation();const E=r.classed("active");r.classed("active",!E),E?S():(f.node().focus(),v())})}setOptionsGetter(i){return this.getOptions=i,this}setOptionsGetterPerson(i,u){return this.getOptions=()=>{const f=[];return i().forEach(y=>{y.to_add||y.unknown||y._new_rel_data||f.find(p=>p.value===y.id)||f.push({label:u(y),value:y.id,optionHtml:r(y)})}),f},this;function r(f){const h=!IS(f,i());return y=>`
        <div>
          <span style="float: left; width: 10px; height: 10px; margin-right: 10px;" class="f3-${o(f)}-color">${Hy()}</span>
          <span>${y.label_html||Tt(y.label)}</span>
          ${h?`<span style="float: right; width: 10px; height: 10px; margin-left: 5px;" title="Ce profil n'est pas reli au profil principal">${o2()}</span>`:""}
        </div>
      `}function o(f){return f.data.gender==="M"?"male":f.data.gender==="F"?"female":"genderless"}}destroy(){this.autocomplete_cont.remove()}}function ex(l,i){const u=Tt(l),r=i||"";if(!r)return u;const f=l.toLowerCase().indexOf(r);if(f===-1)return u;const h=Tt(l.slice(0,f)),y=Tt(l.slice(f,f+r.length)),p=Tt(l.slice(f+r.length));return`${h}<strong>${y}</strong>${p}`}function nx(l,i,u){const r=i.find(S=>S.id===l),o={};return f(r.id,"self",0),h(o),u.show_in_law&&y(o,i),p(o),o;function f(S,g,v,_=void 0){if(!S||o[S])return;g&&(o[S]=g);const E=i.find(C=>C.id===S).rels;if(g==="self")E.parents.forEach(C=>f(C,"parent",v-1,S)),(E.spouses||[]).forEach(C=>f(C,"spouse",v)),(E.children||[]).forEach(C=>f(C,"child",v+1));else if(g==="parent")E.parents.forEach(C=>f(C,"grandparent",v-1,S)),(E.children||[]).forEach(C=>{_&&_===C||f(C,"sibling",v+1)});else if(g!=="spouse")if(g==="child")(E.children||[]).forEach(C=>f(C,"grandchild",v+1));else if(g==="sibling")(E.children||[]).forEach(C=>f(C,"nephew",v+1));else if(g==="grandparent")_||console.error(`${g} should have prev_rel_id`),E.parents.forEach(C=>f(C,"great-grandparent",v-1,S)),(E.children||[]).forEach(C=>{_&&_===C||f(C,"uncle",v+1)});else if(g.includes("grandchild"))(E.children||[]).forEach(C=>f(C,ju(g,v+1),v+1));else if(g.includes("great-grandparent"))_||console.error(`${g} should have prev_rel_id`),E.parents.forEach(C=>f(C,ju(g,v-1),v-1,S)),(E.children||[]).forEach(C=>{if(_&&_===C)return;const M=rm(v+1);M===0?f(C,"granduncle",v+1):M>0?f(C,ju("granduncle",v+1),v+1):console.error(`${g} should have great_count > -1`)});else if(g==="nephew")(E.children||[]).forEach(C=>f(C,"grandnephew",v+1));else if(g.includes("grandnephew"))(E.children||[]).forEach(C=>f(C,ju(g,v+1),v+1));else if(g==="uncle")(E.children||[]).forEach(C=>f(C,"1st Cousin",v+1));else if(g==="granduncle")(E.children||[]).forEach(C=>f(C,"1st Cousin 1x removed",v+1));else if(g.includes("great-granduncle")){const C=v+1,M=Math.abs(C);(E.children||[]).forEach(X=>f(X,`1st Cousin ${M}x removed`,C))}else g.slice(4).startsWith("Cousin")?(E.children||[]).forEach(C=>{const M=v+1,X=Math.abs(M),G=+g[0];M===0?f(C,`${Hs(G+1)} Cousin`,M):M<0?f(C,`${Hs(G+1)} Cousin ${X}x removed`,M):M>0&&f(C,`${Hs(G)} Cousin ${X}x removed`,M)}):console.error(`${g} not found`)}function h(S){const g=[];Object.keys(S).forEach(v=>{const _=S[v];if(_.includes("child")||_==="spouse")return;const b=um(r.id,v,i);if(!b)return console.error(`${i.find(E=>E.id===v).data} not found in main_ancestry`);b.is_half_kin&&g.push(v)}),g.forEach(v=>{S[v]=`Half ${S[v]}`})}function y(S,g){Object.keys(S).forEach(v=>{const _=S[v],b=g.find(E=>E.id===v);if(_==="spouse"){const E=[];b.rels.parents.forEach(C=>(m(C).rels.children||[]).forEach(M=>E.push(M))),E.forEach(C=>{S[C]||(S[C]="sibling-in-law")})}_==="sibling"&&(b.rels.spouses||[]).forEach(E=>{S[E]||(S[E]="sibling-in-law")}),_==="child"&&(b.rels.spouses||[]).forEach(E=>{S[E]||(S[E]="child-in-law")}),_==="uncle"&&(b.rels.spouses||[]).forEach(E=>{S[E]||(S[E]="uncle-in-law")}),_.includes("Cousin")&&(b.rels.spouses||[]).forEach(E=>{S[E]||(S[E]=`${_} in-law`)})})}function p(S){Object.keys(S).forEach(g=>{const v=S[g],b=i.find(E=>E.id===g).data.gender;if(v.includes("parent")){const C=b==="M"?"father":b==="F"?"mother":"parent";S[g]=S[g].replace("parent",C)}else if(v.includes("sibling")){const C=b==="M"?"brother":b==="F"?"sister":"sibling";S[g]=S[g].replace("sibling",C)}else if(v.includes("child")){const C=b==="M"?"son":b==="F"?"daughter":"child";S[g]=S[g].replace("child",C)}else if(v.includes("uncle")){const C=b==="M"?"uncle":b==="F"?"aunt":"aunt/uncle";S[g]=S[g].replace("uncle",C)}else if(v.includes("nephew")){const C=b==="M"?"nephew":b==="F"?"niece":"neice/nephew";S[g]=S[g].replace("nephew",C)}})}function m(S){return i.find(g=>g.id===S)}}function um(l,i,u){const r=p(l);let o,f,h;if(S(i),g(i),y(i),!o)return null;return{found:o,is_ancestor:f,is_half_kin:h};function y(_){if(o)return;if(_===l){f=!0,o=_,h=!1;return}const E=u.find(X=>X.id===_).rels,C=m(E),M=r.find(X=>X[0]&&C[0]&&X[0]===C[0]||X[1]&&C[1]&&X[1]===C[1]);if(M){o=C.filter((X,G)=>X===M[G]),h=v(C,M);return}E.parents.forEach(X=>y(X))}function p(_){const b=[];return E(_),b;function E(C){const X=u.find(G=>G.id===C).rels;b.push(m(X)),X.parents.forEach(G=>E(G))}}function m(_){return _.parents}function S(_){const b=u.find(C=>C.id===_);r.find(C=>C[0]===b.id||C[1]===b.id)&&(f=!0,o=_,h=!1)}function g(_){(u.find(E=>E.id===l).rels.spouses||[]).includes(_)&&(o=[l,_])}function v(_,b){return _.some((E,C)=>E!==b[C])||b.some((E,C)=>E!==_[C])}}function Hs(l){const i=["st","nd","rd"];return i[l-1]?l+i[l-1]:l+"th"}function rm(l){return Math.abs(l)-2}function ju(l,i){const u=rm(i);return l.includes("great-")&&(l=l.split("great-")[1]),u===1?`great-${l}`:u>1?`${u}x-great-${l}`:(console.error(`${l} should have great_count > 1`),l)}function lx(l,i,u,r){var o;let f;const h=r[i].toLowerCase();if(h.includes("in-law")){f=i;const Q=u.find(et=>et.id===f);if(h.includes("sister")||h.includes("brother"))i=l;else{const et=(o=Q.rels.spouses)===null||o===void 0?void 0:o.find(lt=>r[lt]&&!r[lt].includes("in-law"));et&&(i=et)}}const y=um(l,i,u);if(!y)return console.error(`${i} not found in main_ancestry`);const p=y.is_ancestor?y.found:y.found[0],m=u.find(Q=>Q.id===p),S=ci(m,C),g=S.descendants().map(Q=>Q.data.id),v=M(l,g),_=M(i,g);E(S);const b=S.descendants().map(Q=>{const et={id:Q.data.id,data:JSON.parse(JSON.stringify(Q.data.data)),kinship:r[Q.data.id],rels:{parents:[],spouses:[],children:[]}};return Q.children&&Q.children.length>0&&(et.rels.children=Q.children.map(lt=>lt.data.id)),et});return b.length>0&&!y.is_ancestor&&!y.is_half_kin&&X(b),f&&G(b),b;function E(Q){Q.children=(Q.children||[]).filter(et=>!!(v.includes(et.data.id)||_.includes(et.data.id))),Q.children.forEach(et=>E(et)),Q.children.length===0&&delete Q.children}function C(Q){return[...Q.rels.children||[]].map(lt=>u.find(tt=>tt.id===lt)).filter(lt=>lt)}function M(Q,et){const lt=[Q];return tt(Q),lt;function tt(mt){u.find(D=>D.id===mt).rels.parents.forEach(D=>{et.includes(D)&&(lt.push(D),tt(D))})}}function X(Q){const et=Q[0];if(!y)return console.error(`${i} not found in main_ancestry`);const lt=p===y.found[0]?y.found[1]:y.found[0];et.rels.spouses=[lt];const tt=u.find(ft=>ft.id===lt),mt={id:tt.id,data:JSON.parse(JSON.stringify(tt.data)),kinship:r[tt.id],rels:{spouses:[et.id],children:et.rels.children,parents:[]}};Q.push(mt),(et.rels.children||[]).forEach(ft=>{const Bt=u.find(O=>O.id===ft),D=Q.find(O=>O.id===ft);D.rels.parents=[...Bt.rels.parents]})}function G(Q){h.includes("sister")||h.includes("brother")?H(Q):F(Q)}function F(Q){const et=Q.find(ft=>ft.id===i),lt=f;et.rels.spouses=[lt];const tt=u.find(ft=>ft.id===lt),mt={id:tt.id,data:JSON.parse(JSON.stringify(tt.data)),kinship:r[tt.id],rels:{spouses:[et.id],children:[],parents:[]}};Q.push(mt)}function H(Q){var et;const lt=Q.find(O=>O.id===i),tt=W(f);Q.push({id:f,data:JSON.parse(JSON.stringify(tt.data)),kinship:r[f],rels:{spouses:[],children:[],parents:[]}});const mt=[];tt.rels.parents.forEach(O=>(W(O).rels.children||[]).forEach(A=>mt.push(A)));const ft=(et=W(i).rels.spouses)===null||et===void 0?void 0:et.find(O=>mt.includes(O));lt.rels.spouses=[ft];const Bt=W(ft),D={id:Bt.id,data:JSON.parse(JSON.stringify(Bt.data)),kinship:r[Bt.id],rels:{spouses:[lt.id],children:[],parents:[]}};Q.push(D),tt.rels.parents.forEach(O=>{const A=W(O),N=A.data.gender==="M"?"Father-in-law":A.data.gender==="F"?"Mother-in-law":"Parent-in-law",$={id:A.id,data:JSON.parse(JSON.stringify(A.data)),kinship:N,rels:{spouses:[],children:[ft,f],parents:[]}},j=tt.rels.parents.find(J=>J!==J);j&&$.rels.parents.push(j),Q.unshift($)})}function W(Q){return u.find(et=>et.id===Q)}}function ix(l,i){return new ax(l,i)}class ax{constructor(i,u){this.getCard=null,this.transition_time=2e3,this.linkSpouseText=null,this.personSearch=null,this.is_card_html=!1,this.beforeUpdate=null,this.afterUpdate=null,this.cont=ux(i);const{svg:r}=Qy(this.cont);this.svg=r,rx(this.cont),this.setFitToScreenButton(),this.setThemeToggleButton();const o=u&&u.length>0?u[0].id:"";return this.store=this.createStore(u,o),this.store.state.link_style||(this.store.state.link_style="legacy"),this.linkStyle=this.store.state.link_style,this.setOnUpdate(),this.editTreeInstance=null,this}createStore(i,u){return Iy({data:i,main_id:u,node_separation:250,level_separation:150,single_parent_empty_card:!0,is_horizontal:!1})}setOnUpdate(){this.store.setOnUpdate(i=>{this.beforeUpdate&&this.beforeUpdate(i),i=Object.assign({transition_time:this.store.state.transition_time,link_style:this.store.state.link_style||this.linkStyle},i||{}),this.is_card_html&&(i=Object.assign({},i||{},{cardHtml:!0})),tm(this.store.getTree(),this.svg,this.getCard(),i||{}),this.linkSpouseText&&WS(this.svg,this.store.getTree(),Object.assign({},i||{},{linkSpouseText:this.linkSpouseText,node_separation:this.store.state.node_separation})),this.afterUpdate&&this.afterUpdate(i)})}setLinkStyle(i){return this.linkStyle=i,this.store.state.link_style=i,this}updateTree(i={initial:!1}){return this.store.updateTree(i),this}updateData(i){return this.store.updateData(i),this}setCardYSpacing(i){return typeof i!="number"?(console.error("card_y_spacing must be a number"),this):(this.store.state.level_separation=i,this)}setCardXSpacing(i){return typeof i!="number"?(console.error("card_x_spacing must be a number"),this):(this.store.state.node_separation=i,this)}setOrientationVertical(){return this.store.state.is_horizontal=!1,this}setOrientationHorizontal(){return this.store.state.is_horizontal=!0,this}setShowSiblingsOfMain(i){return this.store.state.show_siblings_of_main=i,this}setModifyTreeHierarchy(i){return this.store.state.modifyTreeHierarchy=i,this}setPrivateCardsConfig(i){return this.store.state.private_cards_config=i,this}setLinkSpouseText(i){return this.linkSpouseText=i,this}setSingleParentEmptyCard(i,{label:u="Inconnu"}={}){return this.store.state.single_parent_empty_card=i,this.store.state.single_parent_empty_card_label=u,this.editTreeInstance&&this.editTreeInstance.addRelativeInstance.is_active&&this.editTreeInstance.addRelativeInstance.onCancel(),ao(this.store.getData()||[]),this}setCard(i){if(i===V0)return this.setCardHtml();if(i===J0)return this.setCardSvg();throw new Error("Card must be an instance of cardHtml or cardSvg")}setCardHtml(){const i=this.cont.querySelector("#htmlSvg");if(!i)throw new Error("htmlSvg not found");this.is_card_html=!0,Vn(this.svg.querySelector(".cards_view")),i.style.display="block";const u=V0(this.cont,this.store);return this.getCard=()=>u.getCard(),u}setCardSvg(){const i=this.cont.querySelector("#htmlSvg");if(!i)throw new Error("htmlSvg not found");this.is_card_html=!1,Vn(this.svg.querySelector(".cards_view")),i.style.display="none";const u=J0(this.cont,this.store);return this.getCard=()=>u.getCard(),u}setTransitionTime(i){return this.store.state.transition_time=i,this}setSortChildrenFunction(i){return this.store.state.sortChildrenFunction=i,this}setSortSpousesFunction(i){return this.store.state.sortSpousesFunction=i,this}setAncestryDepth(i){return typeof i=="number"&&Number.isFinite(i)&&i>=0?this.store.state.ancestry_depth=i:delete this.store.state.ancestry_depth,this}setProgenyDepth(i){return typeof i=="number"&&Number.isFinite(i)&&i>=0?this.store.state.progeny_depth=i:delete this.store.state.progeny_depth,this}getMaxDepth(i){return iS(i,this.store.getData())}calculateKinships(i,u={}){return nx(i,this.store.getData(),u)}getKinshipsDataStash(i,u){return lx(i,u,this.store.getData(),this.calculateKinships(i))}setDuplicateBranchToggle(i){return this}editTree(){return this.editTreeInstance=kS(this.cont,this.store)}updateMain(i){const u=cx(i);return this.store.updateMainId(u),this.store.updateTree({}),this}updateMainId(i){return this.store.updateMainId(i),this}getMainDatum(){return this.store.getMainDatum()}setBeforeUpdate(i){return this.beforeUpdate=i,this}setAfterUpdate(i){return this.afterUpdate=i,this}setPersonDropdown(i,{cont:u=this.cont.querySelector(".f3-nav-cont"),onSelect:r,placeholder:o="Rechercher"}={}){r||(r=f.bind(this)),this.personSearch=PS(u,r,{placeholder:o}),this.personSearch.setOptionsGetterPerson(this.store.getData,i);function f(h){const y=this.store.getDatum(h);if(!y)throw new Error("Datum not found");this.editTreeInstance&&this.editTreeInstance.open(y),this.updateMainId(h),this.updateTree({initial:!1})}return this}setFitToScreenButton({cont:i=this.cont.querySelector(".f3-nav-cont"),label:u="Fit to Screen"}={}){return P(i).append("button").attr("class","f3-btn f3-fit-to-screen-btn").style("margin-left","10px").style("display","flex").style("align-items","center").style("justify-content","center").html(`
        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="15 3 21 3 21 9"></polyline>
          <polyline points="9 21 3 21 3 15"></polyline>
          <line x1="21" y1="3" x2="14" y2="10"></line>
          <line x1="3" y1="21" x2="10" y2="14"></line>
        </svg>
      `).attr("title",u).on("click",()=>{const r=this.store.getTree();r&&Ks({svg:this.svg,svg_dim:this.svg.getBoundingClientRect(),tree_dim:r.dim,transition_time:this.store.state.transition_time})}),this}toggleTheme(){const i=P(this.cont).select(".f3"),u=i.classed("f3-light");return i.classed("f3-light",!u),this}setThemeToggleButton({cont:i=this.cont.querySelector(".f3-nav-cont"),label:u="Toggle Theme"}={}){return P(i).append("button").attr("class","f3-btn f3-theme-toggle-btn").style("margin-left","10px").style("display","flex").style("align-items","center").style("justify-content","center").html(`
        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="5"></circle>
          <line x1="12" y1="1" x2="12" y2="3"></line>
          <line x1="12" y1="21" x2="12" y2="23"></line>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
          <line x1="1" y1="12" x2="3" y2="12"></line>
          <line x1="21" y1="12" x2="23" y2="12"></line>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
      `).attr("title",u).on("click",()=>{this.toggleTheme()}),this}unSetPersonSearch(){return this.personSearch&&(this.personSearch.destroy(),this.personSearch=null),this}}function ux(l){if(typeof l=="string"&&(l=document.querySelector(l)),!l)throw new Error("cont not found");return l}function rx(l){P(l).append("div").attr("class","f3-nav-cont")}function cx(l){if(typeof l.id=="string"&&l.id)return l.id;const i=l.data.id;if(typeof i=="string"&&i)return i;throw new Error("Datum id must be a non-empty string")}Object.assign({},U2,{setupHtmlSvg:SS,setupReactiveTreeData:xS,getUniqueId:ES});function sx({data:l,mainId:i,config:u}){const r=ie.useRef(null),o=ie.useRef(null),f=ie.useRef(null);return ie.useEffect(()=>{if(!r.current)return;const h=Iy({data:l,nodeSeparation:250,levelSeparation:150});f.current=h;const y=ix(r.current,h,tm(),(void 0)());return o.current=y,y.setTransitionTime(300),y.setCardXSpacing(u.cardXSpacing),y.setCardYSpacing(u.cardYSpacing),y.setOrientationVertical(),y.updateTree({initial:!0}),()=>{r.current&&(r.current.innerHTML="")}},[]),ie.useEffect(()=>{if(!f.current||!o.current)return;const h=f.current,y=o.current;h.updateData(l),i&&i!==h.getMainId()&&y.updateMainId(i),y.updateTree({initial:!1})},[l,i]),Jt.jsx("div",{ref:r,className:"canvas",style:{width:"100%",height:"100%",position:"relative"}})}async function ox(){const l=await fetch("/api/tree/summary");if(!l.ok)throw new Error("Failed to fetch summary");return l.json()}async function ny(l,i=2){const u=new URLSearchParams({mode:"subtree",mainId:l,ancestryDepth:i.toString(),progenyDepth:i.toString(),includeSiblings:"true",includeSpouses:"true"}),r=await fetch(`/api/tree?${u}`);if(!r.ok)throw new Error("Failed to fetch subtree");return r.json()}async function fx(l){const i=await fetch(`/api/search?q=${encodeURIComponent(l)}&limit=15`);if(!i.ok)throw new Error("Search failed");return i.json()}function hx({onSelect:l}){const[i,u]=ie.useState(""),[r,o]=ie.useState([]),[f,h]=ie.useState(!1),y=ie.useRef(null);return ie.useEffect(()=>{if(!i.trim()){o([]),h(!1);return}y.current&&clearTimeout(y.current),y.current=setTimeout(async()=>{try{const p=await fx(i);o(p),h(p.length>0)}catch(p){console.error(p)}},300)},[i]),Jt.jsxs("div",{className:"search-panel",children:[Jt.jsx("h3",{className:"search-title",children:"Rechercher"}),Jt.jsxs("div",{className:"search-widget f3-search-wrapper",children:[Jt.jsx("input",{type:"text",value:i,onChange:p=>u(p.target.value),placeholder:"Nom, Prnom...",onFocus:()=>h(r.length>0),onBlur:()=>setTimeout(()=>h(!1),200)}),f&&Jt.jsx("div",{className:"f3-search-results",children:r.map(p=>Jt.jsxs("div",{className:"f3-search-result-item",onClick:()=>{u(p.label),l(p.id),h(!1)},children:[Jt.jsx("strong",{children:p.label}),p.metadata&&Jt.jsx("small",{children:JSON.stringify(p.metadata).slice(0,40)})]},p.id))})]})]})}function dx(){const[l,i]=ie.useState([]),[u,r]=ie.useState(null),[o,f]=ie.useState(!0),[h,y]=ie.useState(null);ie.useEffect(()=>{async function m(){try{const S=await ox();if(S.length===0){f(!1);return}const g=S[0].id;r(g);const v=await ny(g);i(v.data)}catch(S){y(String(S))}finally{f(!1)}}m()},[]);const p=async m=>{f(!0);try{const S=await ny(m);i(g=>{const v=new Set(g.map(b=>b.id)),_=S.data.filter(b=>!v.has(b.id));return[...g,..._]}),r(m)}catch(S){console.error(S),y("Impossible de charger ce profil")}finally{f(!1)}};return o&&l.length===0?Jt.jsx("div",{className:"chart-loading",children:"Chargement..."}):h?Jt.jsx("div",{className:"error",children:h}):Jt.jsxs("div",{className:"layout",children:[Jt.jsx("div",{className:"controls",style:{transform:"none",opacity:1,left:20,top:20},children:Jt.jsx("div",{className:"search-panel",children:Jt.jsx(hx,{onSelect:p})})}),Jt.jsx("div",{className:"workspace",children:Jt.jsx(sx,{data:l,mainId:u,config:{orientation:"vertical",scale:1,cardXSpacing:250,cardYSpacing:150}})})]})}Yg.createRoot(document.getElementById("root")).render(Jt.jsx(ie.StrictMode,{children:Jt.jsx(dx,{})}));
