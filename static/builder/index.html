<!DOCTYPE html>
<html lang="fr">
<span class="icon-box">
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M3 6h18"></path>
    <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
    <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
    <line x1="10" y1="11" x2="10" y2="17"></line>
    <line x1="14" y1="11" x2="14" y2="17"></line>
  </svg>
</span>
<div class="tool-info">
  <span class="tool-title">Supprimer Descendance</span>
  <span class="tool-desc">Supprime les enfants et descendants</span>
</div>
</button>

<div class="separator"></div>

<button type="button" class="tool-item" data-action="import-branch-asc">
  <span class="icon-box">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
      <polyline points="17 8 12 3 7 8"></polyline>
      <line x1="12" y1="3" x2="12" y2="15"></line>
    </svg>
  </span>
  <div class="tool-info">
    <span class="tool-title">Importer Ascendance</span>
    <span class="tool-desc">Ajouter des ancêtres depuis un fichier</span>
  </div>
</button>

<button type="button" class="tool-item" data-action="import-branch-desc">
  <span class="icon-box">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
      <polyline points="17 8 12 3 7 8"></polyline>
      <line x1="12" y1="3" x2="12" y2="15"></line>
    </svg>
  </span>
  <div class="tool-info">
    <span class="tool-title">Importer Descendance</span>
    <span class="tool-desc">Ajouter des descendants depuis un fichier</span>
  </div>
</button>

<div class="separator"></div>

<button type="button" class="tool-item" data-action="import-tree">
  <span class="icon-box">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
      <polyline points="17 8 12 3 7 8"></polyline>
      <line x1="12" y1="3" x2="12" y2="15"></line>
    </svg>
  </span>
  <div class="tool-info">
    <span class="tool-title">Importer l'arbre</span>
    <span class="tool-desc">Remplacer l'arbre actuel</span>
  </div>
</button>

<button type="button" class="tool-item" data-action="export-tree">
  <span class="icon-box">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
      <polyline points="7 10 12 15 17 10"></polyline>
      <line x1="12" y1="15" x2="12" y2="3"></line>
    </svg>
  </span>
  <div class="tool-info">
    <span class="tool-title">Exporter l'arbre</span>
    <span class="tool-desc">Sauvegarder en JSON</span>
  </div>
</button>
</div>
</div>

<div class="panel-section">
  <h3>Liens</h3>
  <div class="tool-list">
    <a href="https://github.com/maelmoreau21/family-tree" target="_blank" rel="noopener" class="tool-item">
      <span class="icon-box">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path
            d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
          </path>
        </svg>
      </span>
      <div class="tool-info">
        <span class="tool-title">Dépôt GitHub</span>
        <span class="tool-desc">Code source du projet</span>
      </div>
    </a>
  </div>
</div>
</div>
</main>
</div>

<script type="module">
  import { initTabs } from '/static/shared/js/tabs.js';
  initTabs('#controlPanel');

  const loadBuilder = async () => {
    try {
      await import('/builder.bundle.js')
    } catch (error) {
      console.warn('[builder] Bundle introuvable, utilisation du script non compressé.', error)
      await import('/builder.js')
    }
  }

  loadBuilder().catch(error => {
    console.error('[builder] Impossible de charger l’éditeur', error)
  })
</script>
</body>

</html>