<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Family Tree &ndash; Visualisation</title>
  <link rel="icon" href="/static/logo.svg" type="image/svg+xml">
  "d3-hierarchy": "https://cdn.jsdelivr.net/npm/d3-hierarchy@3.1.2/+esm",
  "d3-zoom": "https://cdn.jsdelivr.net/npm/d3-zoom@3.0.0/+esm",
  "d3-array": "https://cdn.jsdelivr.net/npm/d3-array@3.2.4/+esm",
  "d3-transition": "https://cdn.jsdelivr.net/npm/d3-transition@3.0.1/+esm"
  }
  }
  </script>
</head>

<body>
  <main class="layout">
    <header class="viewer-toolbar">
      <button type="button" class="panel-toggle" data-action="toggle-panel" aria-expanded="true"
        aria-controls="personDetails" aria-label="Basculer le panneau">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="15" y1="3" x2="15" y2="21"></line>
        </svg>
        <span>Panneau</span>
      </button>
    </header>
    <section class="canvas">
      <div id="FamilyChart" class="f3"></div>
      <aside id="personDetails" class="details" aria-live="polite">
        <div class="tabs-nav">
          <button type="button" class="active" data-tab="details">Détails</button>
          <button type="button" data-tab="files">Fichiers</button>
        </div>

        <div class="tab-content active" data-tab-content="details">
          <section class="search-block" data-role="viewer-search" data-state="loading"
            aria-label="Recherche de personne">
            <label for="personSearchInput">Rechercher une personne</label>
            <div id="personSearch"></div>
            <p class="empty" data-role="viewer-search-empty">Aucune personne disponible pour le moment.</p>
          </section>

          <section class="info-section" aria-labelledby="infoSectionTitle">
            <h2 id="infoSectionTitle">Informations complémentaires</h2>
            <details class="performance-controls" aria-label="Paramètres">
              <summary>Paramètres</summary>
              <div class="performance-body">
                <div class="performance-grid">

                </div>
                <label class="toggle-row" for="viewerMiniTree">
                  <input type="checkbox" id="viewerMiniTree" checked>
                  <span>Cartes compactes (Mini Tree)</span>
                </label>
                <label class="toggle-row" for="viewerAutoCenter">
                  <input type="checkbox" id="viewerAutoCenter" checked>
                  <span>Recentrage automatique</span>
                </label>
                <p class="viewer-github-link">
                  <a href="https://github.com/maelmoreau21/family-tree" target="_blank" rel="noopener">Dépôt GitHub du
                    projet</a>
                </p>
                <p class="dataset-meta" data-role="dataset-meta">
                  <strong data-role="visible-count">0</strong> cartes visibles ·
                  <span data-role="branch-count">0</span> profils dans la branche ·
                  <span data-role="total-count">0</span> profils au total
                </p>
              </div>
            </details>
            <div class="details-content">
              <div class="detail-list"></div>
            </div>
          </section>
        </div>

        <div class="tab-content" data-tab-content="files">
          <div class="f3-files-placeholder" style="padding: 1rem; text-align: center; color: #666;">
            <p>Documents liés à la personne (Bientôt disponible)</p>
            }
            }

            loadViewer().catch(error => {
            console.error('[viewer] Impossible de charger l’interface', error)
            })
            </script>
</body>

</html>